(window["webpackJsonp"] = window["webpackJsonp"] || []).push([[1],{

/***/ "./node_modules/jvectormap-next/jquery-jvectormap.min.js":
/*!***************************************************************!*\
  !*** ./node_modules/jvectormap-next/jquery-jvectormap.min.js ***!
  \***************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!function($){var apiParams={set:{colors:1,values:1,backgroundColor:1,scaleColors:1,normalizeFunction:1,focus:1},get:{selectedRegions:1,selectedMarkers:1,mapObject:1,regionName:1}};$.fn.vectorMap=function(options){var map,methodName,map=this.children(".jvectormap-container").data("mapObject");if("addMap"===options)jvm.Map.maps[arguments[1]]=arguments[2];else{if(("set"===options||"get"===options)&&apiParams[options][arguments[1]])return methodName=arguments[1].charAt(0).toUpperCase()+arguments[1].substr(1),map[options+methodName].apply(map,Array.prototype.slice.call(arguments,2));options=options||{},options.container=this,map=new jvm.Map(options)}return this}}(jQuery),function(factory){ true?!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js")], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__)):undefined}(function($){function handler(event){var orgEvent=event||window.event,args=slice.call(arguments,1),delta=0,deltaX=0,deltaY=0,absDelta=0;if(event=$.event.fix(orgEvent),event.type="mousewheel","detail"in orgEvent&&(deltaY=-1*orgEvent.detail),"wheelDelta"in orgEvent&&(deltaY=orgEvent.wheelDelta),"wheelDeltaY"in orgEvent&&(deltaY=orgEvent.wheelDeltaY),"wheelDeltaX"in orgEvent&&(deltaX=-1*orgEvent.wheelDeltaX),"axis"in orgEvent&&orgEvent.axis===orgEvent.HORIZONTAL_AXIS&&(deltaX=-1*deltaY,deltaY=0),delta=0===deltaY?deltaX:deltaY,"deltaY"in orgEvent&&(deltaY=-1*orgEvent.deltaY,delta=deltaY),"deltaX"in orgEvent&&(deltaX=orgEvent.deltaX,0===deltaY&&(delta=-1*deltaX)),0!==deltaY||0!==deltaX){if(1===orgEvent.deltaMode){var lineHeight=$.data(this,"mousewheel-line-height");delta*=lineHeight,deltaY*=lineHeight,deltaX*=lineHeight}else if(2===orgEvent.deltaMode){var pageHeight=$.data(this,"mousewheel-page-height");delta*=pageHeight,deltaY*=pageHeight,deltaX*=pageHeight}return absDelta=Math.max(Math.abs(deltaY),Math.abs(deltaX)),(!lowestDelta||lowestDelta>absDelta)&&(lowestDelta=absDelta,shouldAdjustOldDeltas(orgEvent,absDelta)&&(lowestDelta/=40)),shouldAdjustOldDeltas(orgEvent,absDelta)&&(delta/=40,deltaX/=40,deltaY/=40),delta=Math[delta>=1?"floor":"ceil"](delta/lowestDelta),deltaX=Math[deltaX>=1?"floor":"ceil"](deltaX/lowestDelta),deltaY=Math[deltaY>=1?"floor":"ceil"](deltaY/lowestDelta),event.deltaX=deltaX,event.deltaY=deltaY,event.deltaFactor=lowestDelta,event.deltaMode=0,args.unshift(event,delta,deltaX,deltaY),nullLowestDeltaTimeout&&clearTimeout(nullLowestDeltaTimeout),nullLowestDeltaTimeout=setTimeout(nullLowestDelta,200),($.event.dispatch||$.event.handle).apply(this,args)}}function nullLowestDelta(){lowestDelta=null}function shouldAdjustOldDeltas(orgEvent,absDelta){return special.settings.adjustOldDeltas&&"mousewheel"===orgEvent.type&&absDelta%120===0}var nullLowestDeltaTimeout,lowestDelta,toFix=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],toBind="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],slice=Array.prototype.slice;if($.event.fixHooks)for(var i=toFix.length;i;)$.event.fixHooks[toFix[--i]]=$.event.mouseHooks;var special=$.event.special.mousewheel={version:"3.1.9",setup:function(){if(this.addEventListener)for(var i=toBind.length;i;)this.addEventListener(toBind[--i],handler,!1);else this.onmousewheel=handler;$.data(this,"mousewheel-line-height",special.getLineHeight(this)),$.data(this,"mousewheel-page-height",special.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var i=toBind.length;i;)this.removeEventListener(toBind[--i],handler,!1);else this.onmousewheel=null},getLineHeight:function(elem){return parseInt($(elem)["offsetParent"in $.fn?"offsetParent":"parent"]().css("fontSize"),10)},getPageHeight:function(elem){return $(elem).height()},settings:{adjustOldDeltas:!0}};$.fn.extend({mousewheel:function(fn){return fn?this.bind("mousewheel",fn):this.trigger("mousewheel")},unmousewheel:function(fn){return this.unbind("mousewheel",fn)}})});var jvm={inherits:function(child,parent){function temp(){}temp.prototype=parent.prototype,child.prototype=new temp,child.prototype.constructor=child,child.parentClass=parent},mixin:function(target,source){var prop;for(prop in source.prototype)source.prototype.hasOwnProperty(prop)&&(target.prototype[prop]=source.prototype[prop])},min:function(values){var i,min=Number.MAX_VALUE;if(values instanceof Array)for(i=0;i<values.length;i++)values[i]<min&&(min=values[i]);else for(i in values)values[i]<min&&(min=values[i]);return min},max:function(values){var i,max=Number.MIN_VALUE;if(values instanceof Array)for(i=0;i<values.length;i++)values[i]>max&&(max=values[i]);else for(i in values)values[i]>max&&(max=values[i]);return max},keys:function(object){var key,keys=[];for(key in object)keys.push(key);return keys},values:function(object){var key,i,values=[];for(i=0;i<arguments.length;i++){object=arguments[i];for(key in object)values.push(object[key])}return values},whenImageLoaded:function(url){var deferred=new jvm.$.Deferred,img=jvm.$("<img/>");return img.error(function(){deferred.reject()}).load(function(){deferred.resolve(img)}),img.attr("src",url),deferred},isImageUrl:function(s){return/\.\w{3,4}$/.test(s)}};jvm.$=jQuery,Array.prototype.indexOf||(Array.prototype.indexOf=function(searchElement,fromIndex){var k;if(null==this)throw new TypeError('"this" is null or not defined');var O=Object(this),len=O.length>>>0;if(0===len)return-1;var n=+fromIndex||0;if(Math.abs(n)===1/0&&(n=0),n>=len)return-1;for(k=Math.max(n>=0?n:len-Math.abs(n),0);len>k;){if(k in O&&O[k]===searchElement)return k;k++}return-1}),jvm.AbstractElement=function(name,config){this.node=this.createElement(name),this.name=name,this.properties={},config&&this.set(config)},jvm.AbstractElement.prototype.set=function(property,value){var key;if("object"==typeof property)for(key in property)this.properties[key]=property[key],this.applyAttr(key,property[key]);else this.properties[property]=value,this.applyAttr(property,value)},jvm.AbstractElement.prototype.get=function(property){return this.properties[property]},jvm.AbstractElement.prototype.applyAttr=function(property,value){this.node.setAttribute(property,value)},jvm.AbstractElement.prototype.remove=function(){jvm.$(this.node).remove()},jvm.AbstractCanvasElement=function(container,width,height){this.container=container,this.setSize(width,height),this.rootElement=new jvm[this.classPrefix+"GroupElement"],this.node.appendChild(this.rootElement.node),this.container.appendChild(this.node)},jvm.AbstractCanvasElement.prototype.add=function(element,group){group=group||this.rootElement,group.add(element),element.canvas=this},jvm.AbstractCanvasElement.prototype.addPath=function(config,style,group){var el=new jvm[this.classPrefix+"PathElement"](config,style);return this.add(el,group),el},jvm.AbstractCanvasElement.prototype.addCircle=function(config,style,group){var el=new jvm[this.classPrefix+"CircleElement"](config,style);return this.add(el,group),el},jvm.AbstractCanvasElement.prototype.addImage=function(config,style,group){var el=new jvm[this.classPrefix+"ImageElement"](config,style);return this.add(el,group),el},jvm.AbstractCanvasElement.prototype.addText=function(config,style,group){var el=new jvm[this.classPrefix+"TextElement"](config,style);return this.add(el,group),el},jvm.AbstractCanvasElement.prototype.addGroup=function(parentGroup){var el=new jvm[this.classPrefix+"GroupElement"];return parentGroup?parentGroup.node.appendChild(el.node):this.node.appendChild(el.node),el.canvas=this,el},jvm.AbstractShapeElement=function(name,config,style){this.style=style||{},this.style.current=this.style.current||{},this.isHovered=!1,this.isSelected=!1,this.updateStyle()},jvm.AbstractShapeElement.prototype.setStyle=function(property,value){var styles={};"object"==typeof property?styles=property:styles[property]=value,jvm.$.extend(this.style.current,styles),this.updateStyle()},jvm.AbstractShapeElement.prototype.updateStyle=function(){var attrs={};jvm.AbstractShapeElement.mergeStyles(attrs,this.style.initial),jvm.AbstractShapeElement.mergeStyles(attrs,this.style.current),this.isHovered&&jvm.AbstractShapeElement.mergeStyles(attrs,this.style.hover),this.isSelected&&(jvm.AbstractShapeElement.mergeStyles(attrs,this.style.selected),this.isHovered&&jvm.AbstractShapeElement.mergeStyles(attrs,this.style.selectedHover)),this.set(attrs)},jvm.AbstractShapeElement.mergeStyles=function(styles,newStyles){var key;newStyles=newStyles||{};for(key in newStyles)null===newStyles[key]?delete styles[key]:styles[key]=newStyles[key]},jvm.SVGElement=function(){jvm.SVGElement.parentClass.apply(this,arguments)},jvm.inherits(jvm.SVGElement,jvm.AbstractElement),jvm.SVGElement.svgns="http://www.w3.org/2000/svg",jvm.SVGElement.prototype.createElement=function(tagName){return document.createElementNS(jvm.SVGElement.svgns,tagName)},jvm.SVGElement.prototype.addClass=function(className){this.node.setAttribute("class",className)},jvm.SVGElement.prototype.getElementCtr=function(ctr){return jvm["SVG"+ctr]},jvm.SVGElement.prototype.getBBox=function(){return this.node.getBBox()},jvm.SVGGroupElement=function(){jvm.SVGGroupElement.parentClass.call(this,"g")},jvm.inherits(jvm.SVGGroupElement,jvm.SVGElement),jvm.SVGGroupElement.prototype.add=function(element){this.node.appendChild(element.node)},jvm.SVGCanvasElement=function(){this.classPrefix="SVG",jvm.SVGCanvasElement.parentClass.call(this,"svg"),this.defsElement=new jvm.SVGElement("defs"),this.node.appendChild(this.defsElement.node),jvm.AbstractCanvasElement.apply(this,arguments)},jvm.inherits(jvm.SVGCanvasElement,jvm.SVGElement),jvm.mixin(jvm.SVGCanvasElement,jvm.AbstractCanvasElement),jvm.SVGCanvasElement.prototype.setSize=function(width,height){this.width=width,this.height=height,this.node.setAttribute("width",width),this.node.setAttribute("height",height)},jvm.SVGCanvasElement.prototype.applyTransformParams=function(scale,transX,transY){this.scale=scale,this.transX=transX,this.transY=transY,this.rootElement.node.setAttribute("transform","scale("+scale+") translate("+transX+", "+transY+")")},jvm.SVGShapeElement=function(name,config){jvm.SVGShapeElement.parentClass.call(this,name,config),jvm.AbstractShapeElement.apply(this,arguments)},jvm.inherits(jvm.SVGShapeElement,jvm.SVGElement),jvm.mixin(jvm.SVGShapeElement,jvm.AbstractShapeElement),jvm.SVGShapeElement.prototype.applyAttr=function(attr,value){var patternEl,imageEl,that=this;"fill"===attr&&jvm.isImageUrl(value)?jvm.SVGShapeElement.images[value]?this.applyAttr("fill","url(#image"+jvm.SVGShapeElement.images[value]+")"):jvm.whenImageLoaded(value).then(function(img){imageEl=new jvm.SVGElement("image"),imageEl.node.setAttributeNS("http://www.w3.org/1999/xlink","href",value),imageEl.applyAttr("x","0"),imageEl.applyAttr("y","0"),imageEl.applyAttr("width",img[0].width),imageEl.applyAttr("height",img[0].height),patternEl=new jvm.SVGElement("pattern"),patternEl.applyAttr("id","image"+jvm.SVGShapeElement.imageCounter),patternEl.applyAttr("x",0),patternEl.applyAttr("y",0),patternEl.applyAttr("width",img[0].width/2),patternEl.applyAttr("height",img[0].height/2),patternEl.applyAttr("viewBox","0 0 "+img[0].width+" "+img[0].height),patternEl.applyAttr("patternUnits","userSpaceOnUse"),patternEl.node.appendChild(imageEl.node),that.canvas.defsElement.node.appendChild(patternEl.node),jvm.SVGShapeElement.images[value]=jvm.SVGShapeElement.imageCounter++,that.applyAttr("fill","url(#image"+jvm.SVGShapeElement.images[value]+")")}):jvm.SVGShapeElement.parentClass.prototype.applyAttr.apply(this,arguments)},jvm.SVGShapeElement.imageCounter=1,jvm.SVGShapeElement.images={},jvm.SVGPathElement=function(config,style){jvm.SVGPathElement.parentClass.call(this,"path",config,style),this.node.setAttribute("fill-rule","evenodd")},jvm.inherits(jvm.SVGPathElement,jvm.SVGShapeElement),jvm.SVGCircleElement=function(config,style){jvm.SVGCircleElement.parentClass.call(this,"circle",config,style)},jvm.inherits(jvm.SVGCircleElement,jvm.SVGShapeElement),jvm.SVGImageElement=function(config,style){jvm.SVGImageElement.parentClass.call(this,"image",config,style)},jvm.inherits(jvm.SVGImageElement,jvm.SVGShapeElement),jvm.SVGImageElement.prototype.applyAttr=function(attr,value){var that=this;"image"==attr?jvm.whenImageLoaded(value).then(function(img){that.node.setAttributeNS("http://www.w3.org/1999/xlink","href",value),that.width=img[0].width,that.height=img[0].height,that.applyAttr("width",that.width),that.applyAttr("height",that.height),that.applyAttr("x",that.cx-that.width/2),that.applyAttr("y",that.cy-that.height/2),jvm.$(that.node).trigger("imageloaded",[img])}):"cx"==attr?(this.cx=value,this.width&&this.applyAttr("x",value-this.width/2)):"cy"==attr?(this.cy=value,this.height&&this.applyAttr("y",value-this.height/2)):jvm.SVGImageElement.parentClass.prototype.applyAttr.apply(this,arguments)},jvm.SVGTextElement=function(config,style){jvm.SVGTextElement.parentClass.call(this,"text",config,style)},jvm.inherits(jvm.SVGTextElement,jvm.SVGShapeElement),jvm.SVGTextElement.prototype.applyAttr=function(attr,value){"text"===attr?this.node.textContent=value:jvm.SVGTextElement.parentClass.prototype.applyAttr.apply(this,arguments)},jvm.VMLElement=function(){jvm.VMLElement.VMLInitialized||jvm.VMLElement.initializeVML(),jvm.VMLElement.parentClass.apply(this,arguments)},jvm.inherits(jvm.VMLElement,jvm.AbstractElement),jvm.VMLElement.VMLInitialized=!1,jvm.VMLElement.initializeVML=function(){try{document.namespaces.rvml||document.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),jvm.VMLElement.prototype.createElement=function(tagName){return document.createElement("<rvml:"+tagName+' class="rvml">')}}catch(e){jvm.VMLElement.prototype.createElement=function(tagName){return document.createElement("<"+tagName+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}document.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)"),jvm.VMLElement.VMLInitialized=!0},jvm.VMLElement.prototype.getElementCtr=function(ctr){return jvm["VML"+ctr]},jvm.VMLElement.prototype.addClass=function(className){jvm.$(this.node).addClass(className)},jvm.VMLElement.prototype.applyAttr=function(attr,value){this.node[attr]=value},jvm.VMLElement.prototype.getBBox=function(){var node=jvm.$(this.node);return{x:node.position().left/this.canvas.scale,y:node.position().top/this.canvas.scale,width:node.width()/this.canvas.scale,height:node.height()/this.canvas.scale}},jvm.VMLGroupElement=function(){jvm.VMLGroupElement.parentClass.call(this,"group"),this.node.style.left="0px",this.node.style.top="0px",this.node.coordorigin="0 0"},jvm.inherits(jvm.VMLGroupElement,jvm.VMLElement),jvm.VMLGroupElement.prototype.add=function(element){this.node.appendChild(element.node)},jvm.VMLCanvasElement=function(){this.classPrefix="VML",jvm.VMLCanvasElement.parentClass.call(this,"group"),jvm.AbstractCanvasElement.apply(this,arguments),this.node.style.position="absolute"},jvm.inherits(jvm.VMLCanvasElement,jvm.VMLElement),jvm.mixin(jvm.VMLCanvasElement,jvm.AbstractCanvasElement),jvm.VMLCanvasElement.prototype.setSize=function(width,height){var paths,groups,i,l;if(this.width=width,this.height=height,this.node.style.width=width+"px",this.node.style.height=height+"px",this.node.coordsize=width+" "+height,this.node.coordorigin="0 0",this.rootElement){for(paths=this.rootElement.node.getElementsByTagName("shape"),i=0,l=paths.length;l>i;i++)paths[i].coordsize=width+" "+height,paths[i].style.width=width+"px",paths[i].style.height=height+"px";for(groups=this.node.getElementsByTagName("group"),i=0,l=groups.length;l>i;i++)groups[i].coordsize=width+" "+height,groups[i].style.width=width+"px",groups[i].style.height=height+"px"}},jvm.VMLCanvasElement.prototype.applyTransformParams=function(scale,transX,transY){this.scale=scale,this.transX=transX,this.transY=transY,this.rootElement.node.coordorigin=this.width-transX-this.width/100+","+(this.height-transY-this.height/100),this.rootElement.node.coordsize=this.width/scale+","+this.height/scale},jvm.VMLShapeElement=function(name,config){jvm.VMLShapeElement.parentClass.call(this,name,config),this.fillElement=new jvm.VMLElement("fill"),this.strokeElement=new jvm.VMLElement("stroke"),this.node.appendChild(this.fillElement.node),this.node.appendChild(this.strokeElement.node),this.node.stroked=!1,jvm.AbstractShapeElement.apply(this,arguments)},jvm.inherits(jvm.VMLShapeElement,jvm.VMLElement),jvm.mixin(jvm.VMLShapeElement,jvm.AbstractShapeElement),jvm.VMLShapeElement.prototype.applyAttr=function(attr,value){switch(attr){case"fill":this.node.fillcolor=value;break;case"fill-opacity":this.fillElement.node.opacity=Math.round(100*value)+"%";break;case"stroke":this.node.stroked="none"===value?!1:!0,this.node.strokecolor=value;break;case"stroke-opacity":this.strokeElement.node.opacity=Math.round(100*value)+"%";break;case"stroke-width":this.node.stroked=0===parseInt(value,10)?!1:!0,this.node.strokeweight=value;break;case"d":this.node.path=jvm.VMLPathElement.pathSvgToVml(value);break;default:jvm.VMLShapeElement.parentClass.prototype.applyAttr.apply(this,arguments)}},jvm.VMLPathElement=function(config,style){var scale=new jvm.VMLElement("skew");jvm.VMLPathElement.parentClass.call(this,"shape",config,style),this.node.coordorigin="0 0",scale.node.on=!0,scale.node.matrix="0.01,0,0,0.01,0,0",scale.node.offset="0,0",this.node.appendChild(scale.node)},jvm.inherits(jvm.VMLPathElement,jvm.VMLShapeElement),jvm.VMLPathElement.prototype.applyAttr=function(attr,value){"d"===attr?this.node.path=jvm.VMLPathElement.pathSvgToVml(value):jvm.VMLShapeElement.prototype.applyAttr.call(this,attr,value)},jvm.VMLPathElement.pathSvgToVml=function(path){var ctrlx,ctrly,cx=0,cy=0;return path=path.replace(/(-?\d+)e(-?\d+)/g,"0"),path.replace(/([MmLlHhVvCcSs])\s*((?:-?\d*(?:\.\d+)?\s*,?\s*)+)/g,function(segment,letter,coords){coords=coords.replace(/(\d)-/g,"$1,-").replace(/^\s+/g,"").replace(/\s+$/g,"").replace(/\s+/g,",").split(","),coords[0]||coords.shift();for(var i=0,l=coords.length;l>i;i++)coords[i]=Math.round(100*coords[i]);switch(letter){case"m":return cx+=coords[0],cy+=coords[1],"t"+coords.join(",");case"M":return cx=coords[0],cy=coords[1],"m"+coords.join(",");case"l":return cx+=coords[0],cy+=coords[1],"r"+coords.join(",");case"L":return cx=coords[0],cy=coords[1],"l"+coords.join(",");case"h":return cx+=coords[0],"r"+coords[0]+",0";case"H":return cx=coords[0],"l"+cx+","+cy;case"v":return cy+=coords[0],"r0,"+coords[0];case"V":return cy=coords[0],"l"+cx+","+cy;case"c":return ctrlx=cx+coords[coords.length-4],ctrly=cy+coords[coords.length-3],cx+=coords[coords.length-2],cy+=coords[coords.length-1],"v"+coords.join(",");case"C":return ctrlx=coords[coords.length-4],ctrly=coords[coords.length-3],cx=coords[coords.length-2],cy=coords[coords.length-1],"c"+coords.join(",");case"s":return coords.unshift(cy-ctrly),coords.unshift(cx-ctrlx),ctrlx=cx+coords[coords.length-4],ctrly=cy+coords[coords.length-3],cx+=coords[coords.length-2],cy+=coords[coords.length-1],"v"+coords.join(",");case"S":return coords.unshift(cy+cy-ctrly),coords.unshift(cx+cx-ctrlx),ctrlx=coords[coords.length-4],ctrly=coords[coords.length-3],cx=coords[coords.length-2],cy=coords[coords.length-1],"c"+coords.join(",")}return""}).replace(/z/g,"e")},jvm.VMLCircleElement=function(config,style){jvm.VMLCircleElement.parentClass.call(this,"oval",config,style)},jvm.inherits(jvm.VMLCircleElement,jvm.VMLShapeElement),jvm.VMLCircleElement.prototype.applyAttr=function(attr,value){switch(attr){case"r":this.node.style.width=2*value+"px",this.node.style.height=2*value+"px",this.applyAttr("cx",this.get("cx")||0),this.applyAttr("cy",this.get("cy")||0);break;case"cx":if(!value)return;this.node.style.left=value-(this.get("r")||0)+"px";break;case"cy":if(!value)return;this.node.style.top=value-(this.get("r")||0)+"px";break;default:jvm.VMLCircleElement.parentClass.prototype.applyAttr.call(this,attr,value)}},jvm.VectorCanvas=function(container,width,height){return this.mode=window.SVGAngle?"svg":"vml",this.impl="svg"==this.mode?new jvm.SVGCanvasElement(container,width,height):new jvm.VMLCanvasElement(container,width,height),this.impl.mode=this.mode,this.impl},jvm.SimpleScale=function(scale){this.scale=scale},jvm.SimpleScale.prototype.getValue=function(value){return value},jvm.OrdinalScale=function(scale){this.scale=scale},jvm.OrdinalScale.prototype.getValue=function(value){return this.scale[value]},jvm.OrdinalScale.prototype.getTicks=function(){var key,ticks=[];for(key in this.scale)ticks.push({label:key,value:this.scale[key]});return ticks},jvm.NumericScale=function(scale,normalizeFunction,minValue,maxValue){this.scale=[],normalizeFunction=normalizeFunction||"linear",scale&&this.setScale(scale),normalizeFunction&&this.setNormalizeFunction(normalizeFunction),"undefined"!=typeof minValue&&this.setMin(minValue),"undefined"!=typeof maxValue&&this.setMax(maxValue)},jvm.NumericScale.prototype={setMin:function(min){this.clearMinValue=min,this.minValue="function"==typeof this.normalize?this.normalize(min):min},setMax:function(max){this.clearMaxValue=max,this.maxValue="function"==typeof this.normalize?this.normalize(max):max},setScale:function(scale){var i;for(this.scale=[],i=0;i<scale.length;i++)this.scale[i]=[scale[i]]},setNormalizeFunction:function(f){"polynomial"===f?this.normalize=function(value){return Math.pow(value,.2)}:"linear"===f?delete this.normalize:this.normalize=f,this.setMin(this.clearMinValue),this.setMax(this.clearMaxValue)},getValue:function(value){var l,c,lengthes=[],fullLength=0,i=0;for("function"==typeof this.normalize&&(value=this.normalize(value)),i=0;i<this.scale.length-1;i++)l=this.vectorLength(this.vectorSubtract(this.scale[i+1],this.scale[i])),lengthes.push(l),fullLength+=l;for(c=(this.maxValue-this.minValue)/fullLength,i=0;i<lengthes.length;i++)lengthes[i]*=c;for(i=0,value-=this.minValue;value-lengthes[i]>=0;)value-=lengthes[i],i++;return value=this.vectorToNum(i==this.scale.length-1?this.scale[i]:this.vectorAdd(this.scale[i],this.vectorMult(this.vectorSubtract(this.scale[i+1],this.scale[i]),value/lengthes[i])))},vectorToNum:function(vector){var i,num=0;for(i=0;i<vector.length;i++)num+=Math.round(vector[i])*Math.pow(256,vector.length-i-1);return num},vectorSubtract:function(vector1,vector2){var i,vector=[];for(i=0;i<vector1.length;i++)vector[i]=vector1[i]-vector2[i];return vector},vectorAdd:function(vector1,vector2){var i,vector=[];for(i=0;i<vector1.length;i++)vector[i]=vector1[i]+vector2[i];return vector},vectorMult:function(vector,num){var i,result=[];for(i=0;i<vector.length;i++)result[i]=vector[i]*num;return result},vectorLength:function(vector){var i,result=0;for(i=0;i<vector.length;i++)result+=vector[i]*vector[i];return Math.sqrt(result)},getTicks:function(){var tick,v,m=5,extent=[this.clearMinValue,this.clearMaxValue],span=extent[1]-extent[0],step=Math.pow(10,Math.floor(Math.log(span/m)/Math.LN10)),err=m/span*step,ticks=[];for(.15>=err?step*=10:.35>=err?step*=5:.75>=err&&(step*=2),extent[0]=Math.floor(extent[0]/step)*step,extent[1]=Math.ceil(extent[1]/step)*step,tick=extent[0];tick<=extent[1];)v=tick==extent[0]?this.clearMinValue:tick==extent[1]?this.clearMaxValue:tick,ticks.push({label:tick,value:this.getValue(v)}),tick+=step;return ticks}},jvm.ColorScale=function(){jvm.ColorScale.parentClass.apply(this,arguments)},jvm.inherits(jvm.ColorScale,jvm.NumericScale),jvm.ColorScale.prototype.setScale=function(scale){var i;for(i=0;i<scale.length;i++)this.scale[i]=jvm.ColorScale.rgbToArray(scale[i])},jvm.ColorScale.prototype.getValue=function(value){return jvm.ColorScale.numToRgb(jvm.ColorScale.parentClass.prototype.getValue.call(this,value))},jvm.ColorScale.arrayToRgb=function(ar){var d,i,rgb="#";for(i=0;i<ar.length;i++)d=ar[i].toString(16),rgb+=1==d.length?"0"+d:d;return rgb},jvm.ColorScale.numToRgb=function(num){for(num=num.toString(16);num.length<6;)num="0"+num;return"#"+num},jvm.ColorScale.rgbToArray=function(rgb){return rgb=rgb.substr(1),[parseInt(rgb.substr(0,2),16),parseInt(rgb.substr(2,2),16),parseInt(rgb.substr(4,2),16)]},jvm.Legend=function(params){this.params=params||{},this.map=this.params.map,this.series=this.params.series,this.body=jvm.$("<div/>"),this.body.addClass("jvectormap-legend"),this.params.cssClass&&this.body.addClass(this.params.cssClass),params.vertical?this.map.legendCntVertical.append(this.body):this.map.legendCntHorizontal.append(this.body),this.render()},jvm.Legend.prototype.render=function(){var i,tick,sample,label,ticks=this.series.scale.getTicks(),inner=jvm.$("<div/>").addClass("jvectormap-legend-inner");for(this.body.html(""),this.params.title&&this.body.append(jvm.$("<div/>").addClass("jvectormap-legend-title").html(this.params.title)),this.body.append(inner),i=0;i<ticks.length;i++){switch(tick=jvm.$("<div/>").addClass("jvectormap-legend-tick"),sample=jvm.$("<div/>").addClass("jvectormap-legend-tick-sample"),this.series.params.attribute){case"fill":jvm.isImageUrl(ticks[i].value)?sample.css("background","url("+ticks[i].value+")"):sample.css("background",ticks[i].value);break;case"stroke":sample.css("background",ticks[i].value);break;case"image":sample.css("background","url("+ticks[i].value+") no-repeat center center");break;case"r":jvm.$("<div/>").css({"border-radius":ticks[i].value,border:this.map.params.markerStyle.initial["stroke-width"]+"px "+this.map.params.markerStyle.initial.stroke+" solid",width:2*ticks[i].value+"px",height:2*ticks[i].value+"px",background:this.map.params.markerStyle.initial.fill}).appendTo(sample)}tick.append(sample),label=ticks[i].label,this.params.labelRender&&(label=this.params.labelRender(label)),tick.append(jvm.$("<div>"+label+" </div>").addClass("jvectormap-legend-tick-text")),inner.append(tick)}inner.append(jvm.$("<div/>").css("clear","both"))},jvm.DataSeries=function(params,elements,map){var scaleConstructor;params=params||{},params.attribute=params.attribute||"fill",this.elements=elements,this.params=params,this.map=map,params.attributes&&this.setAttributes(params.attributes),jvm.$.isArray(params.scale)?(scaleConstructor="fill"===params.attribute||"stroke"===params.attribute?jvm.ColorScale:jvm.NumericScale,this.scale=new scaleConstructor(params.scale,params.normalizeFunction,params.min,params.max)):this.scale=params.scale?new jvm.OrdinalScale(params.scale):new jvm.SimpleScale(params.scale),this.values=params.values||{},this.setValues(this.values),this.params.legend&&(this.legend=new jvm.Legend($.extend({map:this.map,series:this},this.params.legend)))},jvm.DataSeries.prototype={setAttributes:function(key,attr){var code,attrs=key;if("string"==typeof key)this.elements[key]&&this.elements[key].setStyle(this.params.attribute,attr);else for(code in attrs)this.elements[code]&&this.elements[code].element.setStyle(this.params.attribute,attrs[code])},setValues:function(values){var val,cc,max=-Number.MAX_VALUE,min=Number.MAX_VALUE,attrs={};if(this.scale instanceof jvm.OrdinalScale||this.scale instanceof jvm.SimpleScale)for(cc in values)attrs[cc]=values[cc]?this.scale.getValue(values[cc]):this.elements[cc].element.style.initial[this.params.attribute];else{if("undefined"==typeof this.params.min||"undefined"==typeof this.params.max)for(cc in values)val=parseFloat(values[cc]),val>max&&(max=val),min>val&&(min=val);"undefined"==typeof this.params.min?(this.scale.setMin(min),this.params.min=min):this.scale.setMin(this.params.min),"undefined"==typeof this.params.max?(this.scale.setMax(max),this.params.max=max):this.scale.setMax(this.params.max);for(cc in values)"indexOf"!=cc&&(val=parseFloat(values[cc]),attrs[cc]=isNaN(val)?this.elements[cc].element.style.initial[this.params.attribute]:this.scale.getValue(val))}this.setAttributes(attrs),jvm.$.extend(this.values,values)},clear:function(){var key,attrs={};for(key in this.values)this.elements[key]&&(attrs[key]=this.elements[key].element.shape.style.initial[this.params.attribute]);this.setAttributes(attrs),this.values={}},setScale:function(scale){this.scale.setScale(scale),this.values&&this.setValues(this.values)},setNormalizeFunction:function(f){this.scale.setNormalizeFunction(f),this.values&&this.setValues(this.values)}},jvm.Proj={degRad:180/Math.PI,radDeg:Math.PI/180,radius:6381372,sgn:function(n){return n>0?1:0>n?-1:n},mill:function(lat,lng,c){return{x:this.radius*(lng-c)*this.radDeg,y:-this.radius*Math.log(Math.tan((45+.4*lat)*this.radDeg))/.8}},mill_inv:function(x,y,c){return{lat:(2.5*Math.atan(Math.exp(.8*y/this.radius))-5*Math.PI/8)*this.degRad,lng:(c*this.radDeg+x/this.radius)*this.degRad}},merc:function(lat,lng,c){return{x:this.radius*(lng-c)*this.radDeg,y:-this.radius*Math.log(Math.tan(Math.PI/4+lat*Math.PI/360))}},merc_inv:function(x,y,c){return{lat:(2*Math.atan(Math.exp(y/this.radius))-Math.PI/2)*this.degRad,lng:(c*this.radDeg+x/this.radius)*this.degRad}},aea:function(lat,lng,c){var fi0=0,lambda0=c*this.radDeg,fi1=29.5*this.radDeg,fi2=45.5*this.radDeg,fi=lat*this.radDeg,lambda=lng*this.radDeg,n=(Math.sin(fi1)+Math.sin(fi2))/2,C=Math.cos(fi1)*Math.cos(fi1)+2*n*Math.sin(fi1),theta=n*(lambda-lambda0),ro=Math.sqrt(C-2*n*Math.sin(fi))/n,ro0=Math.sqrt(C-2*n*Math.sin(fi0))/n;return{x:ro*Math.sin(theta)*this.radius,y:-(ro0-ro*Math.cos(theta))*this.radius}},aea_inv:function(xCoord,yCoord,c){var x=xCoord/this.radius,y=yCoord/this.radius,fi0=0,lambda0=c*this.radDeg,fi1=29.5*this.radDeg,fi2=45.5*this.radDeg,n=(Math.sin(fi1)+Math.sin(fi2))/2,C=Math.cos(fi1)*Math.cos(fi1)+2*n*Math.sin(fi1),ro0=Math.sqrt(C-2*n*Math.sin(fi0))/n,ro=Math.sqrt(x*x+(ro0-y)*(ro0-y)),theta=Math.atan(x/(ro0-y));return{lat:Math.asin((C-ro*ro*n*n)/(2*n))*this.degRad,lng:(lambda0+theta/n)*this.degRad}},lcc:function(lat,lng,c){var fi0=0,lambda0=c*this.radDeg,lambda=lng*this.radDeg,fi1=33*this.radDeg,fi2=45*this.radDeg,fi=lat*this.radDeg,n=Math.log(Math.cos(fi1)*(1/Math.cos(fi2)))/Math.log(Math.tan(Math.PI/4+fi2/2)*(1/Math.tan(Math.PI/4+fi1/2))),F=Math.cos(fi1)*Math.pow(Math.tan(Math.PI/4+fi1/2),n)/n,ro=F*Math.pow(1/Math.tan(Math.PI/4+fi/2),n),ro0=F*Math.pow(1/Math.tan(Math.PI/4+fi0/2),n);return{x:ro*Math.sin(n*(lambda-lambda0))*this.radius,y:-(ro0-ro*Math.cos(n*(lambda-lambda0)))*this.radius}},lcc_inv:function(xCoord,yCoord,c){var x=xCoord/this.radius,y=yCoord/this.radius,fi0=0,lambda0=c*this.radDeg,fi1=33*this.radDeg,fi2=45*this.radDeg,n=Math.log(Math.cos(fi1)*(1/Math.cos(fi2)))/Math.log(Math.tan(Math.PI/4+fi2/2)*(1/Math.tan(Math.PI/4+fi1/2))),F=Math.cos(fi1)*Math.pow(Math.tan(Math.PI/4+fi1/2),n)/n,ro0=F*Math.pow(1/Math.tan(Math.PI/4+fi0/2),n),ro=this.sgn(n)*Math.sqrt(x*x+(ro0-y)*(ro0-y)),theta=Math.atan(x/(ro0-y));return{lat:(2*Math.atan(Math.pow(F/ro,1/n))-Math.PI/2)*this.degRad,lng:(lambda0+theta/n)*this.degRad}}},jvm.MapObject=function(){},jvm.MapObject.prototype.getLabelText=function(key){var text;return text=this.config.label?"function"==typeof this.config.label.render?this.config.label.render(key):key:null},jvm.MapObject.prototype.getLabelOffsets=function(key){var offsets;return this.config.label&&("function"==typeof this.config.label.offsets?offsets=this.config.label.offsets(key):"object"==typeof this.config.label.offsets&&(offsets=this.config.label.offsets[key])),offsets||[0,0]},jvm.MapObject.prototype.setHovered=function(isHovered){this.isHovered!==isHovered&&(this.isHovered=isHovered,this.shape.isHovered=isHovered,this.shape.updateStyle(),this.label&&(this.label.isHovered=isHovered,this.label.updateStyle()))},jvm.MapObject.prototype.setSelected=function(isSelected){this.isSelected!==isSelected&&(this.isSelected=isSelected,this.shape.isSelected=isSelected,this.shape.updateStyle(),this.label&&(this.label.isSelected=isSelected,this.label.updateStyle()),jvm.$(this.shape).trigger("selected",[isSelected]))},jvm.MapObject.prototype.setStyle=function(){this.shape.setStyle.apply(this.shape,arguments)},jvm.MapObject.prototype.remove=function(){this.shape.remove(),this.label&&this.label.remove()},jvm.Region=function(config){var bbox,text,offsets,wrapper;this.config=config,this.map=this.config.map,wrapper=config.canvas.addGroup(config.canvas.rootElement),this.shape=config.canvas.addPath({d:config.path},config.style,wrapper);var invisibleShape=config.canvas.addPath({d:config.path,"data-code":config.code},{initial:{fill:"transparent",
stroke:"transparent","stroke-width":config.margin}},wrapper);invisibleShape.addClass("jvectormap-region jvectormap-element"),bbox=this.shape.getBBox(),text=this.getLabelText(config.code),this.config.label&&text&&(offsets=this.getLabelOffsets(config.code),this.labelX=bbox.x+bbox.width/2+offsets[0],this.labelY=bbox.y+bbox.height/2+offsets[1],this.label=config.canvas.addText({text:text,"text-anchor":"middle","alignment-baseline":"central",x:this.labelX,y:this.labelY,"data-code":config.code},config.labelStyle,config.labelsGroup),this.label.addClass("jvectormap-region jvectormap-element"))},jvm.inherits(jvm.Region,jvm.MapObject),jvm.Region.prototype.updateLabelPosition=function(){this.label&&this.label.set({x:this.labelX*this.map.scale+this.map.transX*this.map.scale,y:this.labelY*this.map.scale+this.map.transY*this.map.scale})},jvm.Marker=function(config){var text;this.config=config,this.map=this.config.map,this.isImage=!!this.config.style.initial.image,this.createShape(),text=this.getLabelText(config.index),this.config.label&&text&&(this.offsets=this.getLabelOffsets(config.index),this.labelX=config.cx/this.map.scale-this.map.transX,this.labelY=config.cy/this.map.scale-this.map.transY,this.label=config.canvas.addText({text:text,"data-index":config.index,dy:"0.6ex",x:this.labelX,y:this.labelY},config.labelStyle,config.labelsGroup),this.label.addClass("jvectormap-marker jvectormap-element"))},jvm.inherits(jvm.Marker,jvm.MapObject),jvm.Marker.prototype.createShape=function(){var that=this;this.shape&&this.shape.remove(),this.shape=this.config.canvas[this.isImage?"addImage":"addCircle"]({"data-index":this.config.index,cx:this.config.cx,cy:this.config.cy},this.config.style,this.config.group),this.shape.addClass("jvectormap-marker jvectormap-element"),this.isImage&&jvm.$(this.shape.node).on("imageloaded",function(){that.updateLabelPosition()})},jvm.Marker.prototype.updateLabelPosition=function(){this.label&&this.label.set({x:this.labelX*this.map.scale+this.offsets[0]+this.map.transX*this.map.scale+5+(this.isImage?(this.shape.width||0)/2:this.shape.properties.r),y:this.labelY*this.map.scale+this.map.transY*this.map.scale+this.offsets[1]})},jvm.Marker.prototype.setStyle=function(property){var isImage;jvm.Marker.parentClass.prototype.setStyle.apply(this,arguments),"r"===property&&this.updateLabelPosition(),isImage=!!this.shape.get("image"),isImage!=this.isImage&&(this.isImage=isImage,this.config.style=jvm.$.extend(!0,{},this.shape.style),this.createShape())},jvm.Map=function(params){var e,map=this;if(this.params=jvm.$.extend(!0,{},jvm.Map.defaultParams,params),!jvm.Map.maps[this.params.map])throw new Error("Attempt to use map which was not loaded: "+this.params.map);this.mapData=jvm.Map.maps[this.params.map],this.markers={},this.regions={},this.regionsColors={},this.regionsData={},this.container=jvm.$("<div>").addClass("jvectormap-container"),this.params.container&&this.params.container.append(this.container),this.container.data("mapObject",this),this.defaultWidth=this.mapData.width,this.defaultHeight=this.mapData.height,this.setBackgroundColor(this.params.backgroundColor),this.onResize=function(){map.updateSize()},jvm.$(window).resize(this.onResize);for(e in jvm.Map.apiEvents)this.params[e]&&this.container.bind(jvm.Map.apiEvents[e]+".jvectormap",this.params[e]);this.canvas=new jvm.VectorCanvas(this.container[0],this.width,this.height),this.params.bindTouchEvents&&("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch?this.bindContainerTouchEvents():window.MSGesture&&this.bindContainerPointerEvents()),this.bindContainerEvents(),this.bindElementEvents(),this.createTip(),this.params.zoomButtons&&this.bindZoomButtons(),this.createRegions(),this.createMarkers(this.params.markers||{}),this.updateSize(),this.params.focusOn&&("string"==typeof this.params.focusOn?this.params.focusOn={region:this.params.focusOn}:jvm.$.isArray(this.params.focusOn)&&(this.params.focusOn={regions:this.params.focusOn}),this.setFocus(this.params.focusOn)),this.params.selectedRegions&&this.setSelectedRegions(this.params.selectedRegions),this.params.selectedMarkers&&this.setSelectedMarkers(this.params.selectedMarkers),this.legendCntHorizontal=jvm.$("<div/>").addClass("jvectormap-legend-cnt jvectormap-legend-cnt-h"),this.legendCntVertical=jvm.$("<div/>").addClass("jvectormap-legend-cnt jvectormap-legend-cnt-v"),this.container.append(this.legendCntHorizontal),this.container.append(this.legendCntVertical),this.params.series&&this.createSeries()},jvm.Map.prototype={transX:0,transY:0,scale:1,baseTransX:0,baseTransY:0,baseScale:1,width:0,height:0,setBackgroundColor:function(backgroundColor){this.container.css("background-color",backgroundColor)},resize:function(){var curBaseScale=this.baseScale;this.width/this.height>this.defaultWidth/this.defaultHeight?(this.baseScale=this.height/this.defaultHeight,this.baseTransX=Math.abs(this.width-this.defaultWidth*this.baseScale)/(2*this.baseScale)):(this.baseScale=this.width/this.defaultWidth,this.baseTransY=Math.abs(this.height-this.defaultHeight*this.baseScale)/(2*this.baseScale)),this.scale*=this.baseScale/curBaseScale,this.transX*=this.baseScale/curBaseScale,this.transY*=this.baseScale/curBaseScale},updateSize:function(){this.width=this.container.width(),this.height=this.container.height(),this.resize(),this.canvas.setSize(this.width,this.height),this.applyTransform()},reset:function(){var key,i;for(key in this.series)for(i=0;i<this.series[key].length;i++)this.series[key][i].clear();this.scale=this.baseScale,this.transX=this.baseTransX,this.transY=this.baseTransY,this.applyTransform()},applyTransform:function(){var maxTransX,maxTransY,minTransX,minTransY;this.defaultWidth*this.scale<=this.width?(maxTransX=(this.width-this.defaultWidth*this.scale)/(2*this.scale),minTransX=(this.width-this.defaultWidth*this.scale)/(2*this.scale)):(maxTransX=0,minTransX=(this.width-this.defaultWidth*this.scale)/this.scale),this.defaultHeight*this.scale<=this.height?(maxTransY=(this.height-this.defaultHeight*this.scale)/(2*this.scale),minTransY=(this.height-this.defaultHeight*this.scale)/(2*this.scale)):(maxTransY=0,minTransY=(this.height-this.defaultHeight*this.scale)/this.scale),this.transY>maxTransY?this.transY=maxTransY:this.transY<minTransY&&(this.transY=minTransY),this.transX>maxTransX?this.transX=maxTransX:this.transX<minTransX&&(this.transX=minTransX),this.canvas.applyTransformParams(this.scale,this.transX,this.transY),this.markers&&this.repositionMarkers(),this.repositionLabels(),this.container.trigger("viewportChange",[this.scale/this.baseScale,this.transX,this.transY])},bindContainerEvents:function(){var oldPageX,oldPageY,mouseDown=!1,map=this;this.params.panOnDrag&&(this.container.mousemove(function(e){return mouseDown&&(map.transX-=(oldPageX-e.pageX)/map.scale,map.transY-=(oldPageY-e.pageY)/map.scale,map.applyTransform(),oldPageX=e.pageX,oldPageY=e.pageY),!1}).mousedown(function(e){return mouseDown=!0,oldPageX=e.pageX,oldPageY=e.pageY,!1}),this.onContainerMouseUp=function(){mouseDown=!1},jvm.$("body").mouseup(this.onContainerMouseUp)),this.params.zoomOnScroll&&this.container.mousewheel(function(event){var offset=jvm.$(map.container).offset(),centerX=event.pageX-offset.left,centerY=event.pageY-offset.top,zoomStep=Math.pow(1+map.params.zoomOnScrollSpeed/1e3,event.deltaFactor*event.deltaY);map.tip.hide(),map.setScale(map.scale*zoomStep,centerX,centerY),event.preventDefault()})},bindContainerTouchEvents:function(){var touchStartScale,touchStartDistance,touchX,touchY,centerTouchX,centerTouchY,lastTouchesLength,map=this,handleTouchEvent=function(e){var offset,scale,transXOld,transYOld,touches=e.originalEvent.touches;"touchstart"==e.type&&(lastTouchesLength=0),1==touches.length?(1==lastTouchesLength&&(transXOld=map.transX,transYOld=map.transY,map.transX-=(touchX-touches[0].pageX)/map.scale,map.transY-=(touchY-touches[0].pageY)/map.scale,map.applyTransform(),map.tip.hide(),(transXOld!=map.transX||transYOld!=map.transY)&&e.preventDefault()),touchX=touches[0].pageX,touchY=touches[0].pageY):2==touches.length&&(2==lastTouchesLength?(scale=Math.sqrt(Math.pow(touches[0].pageX-touches[1].pageX,2)+Math.pow(touches[0].pageY-touches[1].pageY,2))/touchStartDistance,map.setScale(touchStartScale*scale,centerTouchX,centerTouchY),map.tip.hide(),e.preventDefault()):(offset=jvm.$(map.container).offset(),centerTouchX=touches[0].pageX>touches[1].pageX?touches[1].pageX+(touches[0].pageX-touches[1].pageX)/2:touches[0].pageX+(touches[1].pageX-touches[0].pageX)/2,centerTouchY=touches[0].pageY>touches[1].pageY?touches[1].pageY+(touches[0].pageY-touches[1].pageY)/2:touches[0].pageY+(touches[1].pageY-touches[0].pageY)/2,centerTouchX-=offset.left,centerTouchY-=offset.top,touchStartScale=map.scale,touchStartDistance=Math.sqrt(Math.pow(touches[0].pageX-touches[1].pageX,2)+Math.pow(touches[0].pageY-touches[1].pageY,2)))),lastTouchesLength=touches.length};jvm.$(this.container).bind("touchstart",handleTouchEvent),jvm.$(this.container).bind("touchmove",handleTouchEvent)},bindContainerPointerEvents:function(){var map=this,gesture=new MSGesture,element=this.container[0],handlePointerDownEvent=function(e){gesture.addPointer(e.pointerId)},handleGestureEvent=function(e){var transXOld,transYOld;(0!=e.translationX||0!=e.translationY)&&(transXOld=map.transX,transYOld=map.transY,map.transX+=e.translationX/map.scale,map.transY+=e.translationY/map.scale,map.applyTransform(),map.tip.hide(),(transXOld!=map.transX||transYOld!=map.transY)&&e.preventDefault()),1!=e.scale&&(map.setScale(map.scale*e.scale,e.offsetX,e.offsetY),map.tip.hide(),e.preventDefault())};gesture.target=element,element.addEventListener("MSGestureChange",handleGestureEvent,!1),element.addEventListener("pointerdown",handlePointerDownEvent,!1)},bindElementEvents:function(){var pageX,pageY,mouseMoved,map=this;this.container.mousemove(function(e){Math.abs(pageX-e.pageX)+Math.abs(pageY-e.pageY)>2&&(mouseMoved=!0)}),this.container.delegate("[class~='jvectormap-element']","mouseover mouseout",function(e){var baseVal=jvm.$(this).attr("class").baseVal||jvm.$(this).attr("class"),type=-1===baseVal.indexOf("jvectormap-region")?"marker":"region",code=jvm.$(this).attr("region"==type?"data-code":"data-index"),element="region"==type?map.regions[code].element:map.markers[code].element,tipText="region"==type?map.mapData.paths[code].name:map.markers[code].config.name||"",tipShowEvent=jvm.$.Event(type+"TipShow.jvectormap"),overEvent=jvm.$.Event(type+"Over.jvectormap");"mouseover"==e.type?(map.container.trigger(overEvent,[code]),overEvent.isDefaultPrevented()||element.setHovered(!0),map.tip.text(tipText),map.container.trigger(tipShowEvent,[map.tip,code]),tipShowEvent.isDefaultPrevented()||(map.tip.show(),map.tipWidth=map.tip.width(),map.tipHeight=map.tip.height())):(element.setHovered(!1),map.tip.hide(),map.container.trigger(type+"Out.jvectormap",[code]))}),this.container.delegate("[class~='jvectormap-element']","mousedown",function(e){pageX=e.pageX,pageY=e.pageY,mouseMoved=!1}),this.container.delegate("[class~='jvectormap-element']","mouseup",function(){var baseVal=jvm.$(this).attr("class").baseVal?jvm.$(this).attr("class").baseVal:jvm.$(this).attr("class"),type=-1===baseVal.indexOf("jvectormap-region")?"marker":"region",code=jvm.$(this).attr("region"==type?"data-code":"data-index"),clickEvent=jvm.$.Event(type+"Click.jvectormap"),element="region"==type?map.regions[code].element:map.markers[code].element;mouseMoved||(map.container.trigger(clickEvent,[code]),("region"===type&&map.params.regionsSelectable||"marker"===type&&map.params.markersSelectable)&&(clickEvent.isDefaultPrevented()||(map.params[type+"sSelectableOne"]&&map.clearSelected(type+"s"),element.setSelected(!element.isSelected))))})},bindZoomButtons:function(){var map=this;jvm.$("<div/>").addClass("jvectormap-zoomin").text("+").appendTo(this.container),jvm.$("<div/>").addClass("jvectormap-zoomout").html("&#x2212;").appendTo(this.container),this.container.find(".jvectormap-zoomin").click(function(){map.setScale(map.scale*map.params.zoomStep,map.width/2,map.height/2,!1,map.params.zoomAnimate)}),this.container.find(".jvectormap-zoomout").click(function(){map.setScale(map.scale/map.params.zoomStep,map.width/2,map.height/2,!1,map.params.zoomAnimate)})},createTip:function(){var map=this;this.tip=jvm.$("<div/>").addClass("jvectormap-tip").appendTo(jvm.$("body")),this.container.mousemove(function(e){var left=e.pageX-15-map.tipWidth,top=e.pageY-15-map.tipHeight;5>left&&(left=e.pageX+15),5>top&&(top=e.pageY+15),map.tip.css({left:left,top:top})})},setScale:function(scale,anchorX,anchorY,isCentered,animate){var interval,scaleStart,scaleDiff,transXStart,transXDiff,transYStart,transYDiff,transX,transY,viewportChangeEvent=jvm.$.Event("zoom.jvectormap"),that=this,i=0,count=Math.abs(Math.round(60*(scale-this.scale)/Math.max(scale,this.scale))),deferred=new jvm.$.Deferred;return scale>this.params.zoomMax*this.baseScale?scale=this.params.zoomMax*this.baseScale:scale<this.params.zoomMin*this.baseScale&&(scale=this.params.zoomMin*this.baseScale),"undefined"!=typeof anchorX&&"undefined"!=typeof anchorY&&(zoomStep=scale/this.scale,isCentered?(transX=anchorX+this.defaultWidth*(this.width/(this.defaultWidth*scale))/2,transY=anchorY+this.defaultHeight*(this.height/(this.defaultHeight*scale))/2):(transX=this.transX-(zoomStep-1)/scale*anchorX,transY=this.transY-(zoomStep-1)/scale*anchorY)),animate&&count>0?(scaleStart=this.scale,scaleDiff=(scale-scaleStart)/count,transXStart=this.transX*this.scale,transYStart=this.transY*this.scale,transXDiff=(transX*scale-transXStart)/count,transYDiff=(transY*scale-transYStart)/count,interval=setInterval(function(){i+=1,that.scale=scaleStart+scaleDiff*i,that.transX=(transXStart+transXDiff*i)/that.scale,that.transY=(transYStart+transYDiff*i)/that.scale,that.applyTransform(),i==count&&(clearInterval(interval),that.container.trigger(viewportChangeEvent,[scale/that.baseScale]),deferred.resolve())},10)):(this.transX=transX,this.transY=transY,this.scale=scale,this.applyTransform(),this.container.trigger(viewportChangeEvent,[scale/this.baseScale]),deferred.resolve()),deferred},setFocus:function(config){var bbox,itemBbox,newBbox,codes,i,point;if(config=config||{},config.region?codes=[config.region]:config.regions&&(codes=config.regions),codes){for(i=0;i<codes.length;i++)this.regions[codes[i]]&&(itemBbox=this.regions[codes[i]].element.shape.getBBox(),itemBbox&&("undefined"==typeof bbox?bbox=itemBbox:(newBbox={x:Math.min(bbox.x,itemBbox.x),y:Math.min(bbox.y,itemBbox.y),width:Math.max(bbox.x+bbox.width,itemBbox.x+itemBbox.width)-Math.min(bbox.x,itemBbox.x),height:Math.max(bbox.y+bbox.height,itemBbox.y+itemBbox.height)-Math.min(bbox.y,itemBbox.y)},bbox=newBbox)));return this.setScale(Math.min(this.width/bbox.width,this.height/bbox.height),-(bbox.x+bbox.width/2),-(bbox.y+bbox.height/2),!0,config.animate)}return config.lat&&config.lng?(point=this.latLngToPoint(config.lat,config.lng),config.x=this.transX-point.x/this.scale,config.y=this.transY-point.y/this.scale):config.x&&config.y&&(config.x*=-this.defaultWidth,config.y*=-this.defaultHeight),this.setScale(config.scale*this.baseScale,config.x,config.y,!0,config.animate)},getSelected:function(type){var key,selected=[];for(key in this[type])this[type][key].element.isSelected&&selected.push(key);return selected},getSelectedRegions:function(){return this.getSelected("regions")},getSelectedMarkers:function(){return this.getSelected("markers")},setSelected:function(type,keys){var i;if("object"!=typeof keys&&(keys=[keys]),jvm.$.isArray(keys))for(i=0;i<keys.length;i++)this[type][keys[i]].element.setSelected(!0);else for(i in keys)this[type][i].element.setSelected(!!keys[i])},setSelectedRegions:function(keys){this.setSelected("regions",keys)},setSelectedMarkers:function(keys){this.setSelected("markers",keys)},clearSelected:function(type){var i,select={},selected=this.getSelected(type);for(i=0;i<selected.length;i++)select[selected[i]]=!1;this.setSelected(type,select)},clearSelectedRegions:function(){this.clearSelected("regions")},clearSelectedMarkers:function(){this.clearSelected("markers")},getMapObject:function(){return this},getRegionName:function(code){return this.mapData.paths[code].name},createRegions:function(){var key,region,map=this;this.regionLabelsGroup=this.regionLabelsGroup||this.canvas.addGroup();for(key in this.mapData.paths)region=new jvm.Region({map:this,path:this.mapData.paths[key].path,code:key,style:jvm.$.extend(!0,{},this.params.regionStyle),margin:this.params.regionMargin,labelStyle:jvm.$.extend(!0,{},this.params.regionLabelStyle),canvas:this.canvas,labelsGroup:this.regionLabelsGroup,label:"vml"!=this.canvas.mode?this.params.labels&&this.params.labels.regions:null}),jvm.$(region.shape).bind("selected",function(e,isSelected){map.container.trigger("regionSelected.jvectormap",[jvm.$(this.node).attr("data-code"),isSelected,map.getSelectedRegions()])}),this.regions[key]={element:region,config:this.mapData.paths[key]}},createMarkers:function(markers){var i,marker,point,markerConfig,markersArray,map=this;if(this.markersGroup=this.markersGroup||this.canvas.addGroup(),this.markerLabelsGroup=this.markerLabelsGroup||this.canvas.addGroup(),jvm.$.isArray(markers))for(markersArray=markers.slice(),markers={},i=0;i<markersArray.length;i++)markers[i]=markersArray[i];for(i in markers)markerConfig=markers[i]instanceof Array?{latLng:markers[i]}:markers[i],point=this.getMarkerPosition(markerConfig),point!==!1&&(marker=new jvm.Marker({map:this,style:jvm.$.extend(!0,{},this.params.markerStyle,{initial:markerConfig.style||{}}),labelStyle:jvm.$.extend(!0,{},this.params.markerLabelStyle),index:i,cx:point.x,cy:point.y,group:this.markersGroup,canvas:this.canvas,labelsGroup:this.markerLabelsGroup,label:"vml"!=this.canvas.mode?this.params.labels&&this.params.labels.markers:null}),jvm.$(marker.shape).bind("selected",function(e,isSelected){map.container.trigger("markerSelected.jvectormap",[jvm.$(this.node).attr("data-index"),isSelected,map.getSelectedMarkers()])}),this.markers[i]&&this.removeMarkers([i]),this.markers[i]={element:marker,config:markerConfig})},repositionMarkers:function(){var i,point;for(i in this.markers)point=this.getMarkerPosition(this.markers[i].config),point!==!1&&this.markers[i].element.setStyle({cx:point.x,cy:point.y})},repositionLabels:function(){var key;for(key in this.regions)this.regions[key].element.updateLabelPosition();for(key in this.markers)this.markers[key].element.updateLabelPosition()},getMarkerPosition:function(markerConfig){return jvm.Map.maps[this.params.map].projection?this.latLngToPoint.apply(this,markerConfig.latLng||[0,0]):{x:markerConfig.coords[0]*this.scale+this.transX*this.scale,y:markerConfig.coords[1]*this.scale+this.transY*this.scale}},addMarker:function(key,marker,seriesData){var values,i,markers={},data=[],seriesData=seriesData||[];for(markers[key]=marker,i=0;i<seriesData.length;i++)values={},"undefined"!=typeof seriesData[i]&&(values[key]=seriesData[i]),data.push(values);this.addMarkers(markers,data)},addMarkers:function(markers,seriesData){var i;for(seriesData=seriesData||[],this.createMarkers(markers),i=0;i<seriesData.length;i++)this.series.markers[i].setValues(seriesData[i]||{})},removeMarkers:function(markers){var i;for(i=0;i<markers.length;i++)this.markers[markers[i]].element.remove(),delete this.markers[markers[i]]},removeAllMarkers:function(){var i,markers=[];for(i in this.markers)markers.push(i);this.removeMarkers(markers)},latLngToPoint:function(lat,lng){var point,inset,bbox,proj=jvm.Map.maps[this.params.map].projection,centralMeridian=proj.centralMeridian;return-180+centralMeridian>lng&&(lng+=360),point=jvm.Proj[proj.type](lat,lng,centralMeridian),inset=this.getInsetForPoint(point.x,point.y),inset?(bbox=inset.bbox,point.x=(point.x-bbox[0].x)/(bbox[1].x-bbox[0].x)*inset.width*this.scale,point.y=(point.y-bbox[0].y)/(bbox[1].y-bbox[0].y)*inset.height*this.scale,{x:point.x+this.transX*this.scale+inset.left*this.scale,y:point.y+this.transY*this.scale+inset.top*this.scale}):!1},pointToLatLng:function(x,y){var i,inset,bbox,nx,ny,proj=jvm.Map.maps[this.params.map].projection,centralMeridian=proj.centralMeridian,insets=jvm.Map.maps[this.params.map].insets;for(i=0;i<insets.length;i++)if(inset=insets[i],bbox=inset.bbox,nx=x-(this.transX*this.scale+inset.left*this.scale),ny=y-(this.transY*this.scale+inset.top*this.scale),nx=nx/(inset.width*this.scale)*(bbox[1].x-bbox[0].x)+bbox[0].x,ny=ny/(inset.height*this.scale)*(bbox[1].y-bbox[0].y)+bbox[0].y,nx>bbox[0].x&&nx<bbox[1].x&&ny>bbox[0].y&&ny<bbox[1].y)return jvm.Proj[proj.type+"_inv"](nx,-ny,centralMeridian);return!1},getInsetForPoint:function(x,y){var i,bbox,insets=jvm.Map.maps[this.params.map].insets;for(i=0;i<insets.length;i++)if(bbox=insets[i].bbox,x>bbox[0].x&&x<bbox[1].x&&y>bbox[0].y&&y<bbox[1].y)return insets[i]},createSeries:function(){var i,key;this.series={markers:[],regions:[]};for(key in this.params.series)for(i=0;i<this.params.series[key].length;i++)this.series[key][i]=new jvm.DataSeries(this.params.series[key][i],this[key],this)},remove:function(){this.tip.remove(),this.container.remove(),jvm.$(window).unbind("resize",this.onResize),jvm.$("body").unbind("mouseup",this.onContainerMouseUp)}},jvm.Map.maps={},jvm.Map.defaultParams={map:"world_mill_en",backgroundColor:"#505050",zoomButtons:!0,zoomOnScroll:!0,zoomOnScrollSpeed:3,panOnDrag:!0,zoomMax:8,zoomMin:1,zoomStep:1.6,zoomAnimate:!0,regionsSelectable:!1,markersSelectable:!1,bindTouchEvents:!0,regionStyle:{initial:{fill:"white","fill-opacity":1,stroke:"none","stroke-width":0,"stroke-opacity":1},hover:{"fill-opacity":.8,cursor:"pointer"},selected:{fill:"yellow"},selectedHover:{}},regionMargin:0,regionLabelStyle:{initial:{"font-family":"Verdana","font-size":"12","font-weight":"bold",cursor:"default",fill:"black"},hover:{cursor:"pointer"}},markerStyle:{initial:{fill:"grey",stroke:"#505050","fill-opacity":1,"stroke-width":1,"stroke-opacity":1,r:5},hover:{stroke:"black","stroke-width":2,cursor:"pointer"},selected:{fill:"blue"},selectedHover:{}},markerLabelStyle:{initial:{"font-family":"Verdana","font-size":"12","font-weight":"bold",cursor:"default",fill:"black"},hover:{cursor:"pointer"}}},jvm.Map.apiEvents={onRegionTipShow:"regionTipShow",onRegionOver:"regionOver",onRegionOut:"regionOut",onRegionClick:"regionClick",onRegionSelected:"regionSelected",onMarkerTipShow:"markerTipShow",onMarkerOver:"markerOver",onMarkerOut:"markerOut",onMarkerClick:"markerClick",onMarkerSelected:"markerSelected",onViewportChange:"viewportChange"},jvm.MultiMap=function(params){var that=this;this.maps={},this.params=jvm.$.extend(!0,{},jvm.MultiMap.defaultParams,params),this.params.maxLevel=this.params.maxLevel||Number.MAX_VALUE,this.params.main=this.params.main||{},this.params.main.multiMapLevel=0,this.history=[this.addMap(this.params.main.map,this.params.main)],this.defaultProjection=this.history[0].mapData.projection.type,this.mapsLoaded={},this.params.container.css({position:"relative"}),this.backButton=jvm.$("<div/>").addClass("jvectormap-goback").text("Back").appendTo(this.params.container),this.backButton.hide(),this.backButton.click(function(){that.goBack()}),this.spinner=jvm.$("<div/>").addClass("jvectormap-spinner").appendTo(this.params.container),this.spinner.hide()},jvm.MultiMap.prototype={addMap:function(name,config){var cnt=jvm.$("<div/>").css({width:"100%",height:"100%"});return this.params.container.append(cnt),this.maps[name]=new jvm.Map(jvm.$.extend(config,{container:cnt})),this.params.maxLevel>config.multiMapLevel&&this.maps[name].container.on("regionClick.jvectormap",{scope:this},function(e,code){var multimap=e.data.scope,mapName=multimap.params.mapNameByCode(code,multimap);multimap.drillDownPromise&&"pending"===multimap.drillDownPromise.state()||multimap.drillDown(mapName,code)}),this.maps[name]},downloadMap:function(code){var that=this,deferred=jvm.$.Deferred();return this.mapsLoaded[code]?deferred.resolve():jvm.$.get(this.params.mapUrlByCode(code,this)).then(function(){that.mapsLoaded[code]=!0,deferred.resolve()},function(){deferred.reject()}),deferred},drillDown:function(name,code){var currentMap=this.history[this.history.length-1],that=this,focusPromise=currentMap.setFocus({region:code,animate:!0}),downloadPromise=this.downloadMap(code);focusPromise.then(function(){"pending"===downloadPromise.state()&&that.spinner.show()}),downloadPromise.always(function(){that.spinner.hide()}),this.drillDownPromise=jvm.$.when(downloadPromise,focusPromise),this.drillDownPromise.then(function(){currentMap.params.container.hide(),that.maps[name]?that.maps[name].params.container.show():that.addMap(name,{map:name,multiMapLevel:currentMap.params.multiMapLevel+1}),that.history.push(that.maps[name]),that.backButton.show()})},goBack:function(){var currentMap=this.history.pop(),prevMap=this.history[this.history.length-1],that=this;currentMap.setFocus({scale:1,x:.5,y:.5,animate:!0}).then(function(){currentMap.params.container.hide(),prevMap.params.container.show(),prevMap.updateSize(),1===that.history.length&&that.backButton.hide(),prevMap.setFocus({scale:1,x:.5,y:.5,animate:!0})})}},jvm.MultiMap.defaultParams={mapNameByCode:function(code,multiMap){return code.toLowerCase()+"_"+multiMap.defaultProjection+"_en"},mapUrlByCode:function(code,multiMap){return"jquery-jvectormap-data-"+code.toLowerCase()+"-"+multiMap.defaultProjection+"-en.js"}};

/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvanZlY3Rvcm1hcC1uZXh0L2pxdWVyeS1qdmVjdG9ybWFwLm1pbi5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQSw2R0FBYSxlQUFlLEtBQUssOEVBQThFLE1BQU0sK0RBQStELGlDQUFpQyxnRkFBZ0YsOERBQThELEtBQUssaU9BQWlPLG1CQUFtQixpREFBaUQsYUFBYSwyQkFBMkIsS0FBcUMsQ0FBQyxpQ0FBTyxDQUFDLHlFQUFRLENBQUMsb0NBQUMsT0FBTztBQUFBO0FBQUE7QUFBQSxvR0FBQyxDQUFDLFNBQStELENBQUMsYUFBYSx3QkFBd0IsbUdBQW1HLDJpQkFBMmlCLDJCQUEyQixxREFBcUQsd0RBQXdELGdDQUFnQyxxREFBcUQsd0RBQXdELHF0QkFBcXRCLDJCQUEyQixpQkFBaUIsa0RBQWtELHdGQUF3Riw2UEFBNlAsMkNBQTJDLEVBQUUsaURBQWlELHdDQUF3QyxpQ0FBaUMsaURBQWlELEVBQUUsK0NBQStDLCtCQUErQixvSUFBb0kscUJBQXFCLG9EQUFvRCxFQUFFLGtEQUFrRCw0QkFBNEIsOEJBQThCLDZGQUE2Riw4QkFBOEIsd0JBQXdCLFdBQVcscUJBQXFCLGFBQWEsd0JBQXdCLGdFQUFnRSwyQkFBMkIscUNBQXFDLEVBQUUsRUFBRSxTQUFTLGdDQUFnQyxpQkFBaUIsb0hBQW9ILCtCQUErQixTQUFTLG9IQUFvSCxzQkFBc0IsMkJBQTJCLG1DQUFtQyxnQkFBZ0IsbUNBQW1DLG9EQUFvRCxXQUFXLHNCQUFzQiwyQkFBMkIsbUNBQW1DLGdCQUFnQixtQ0FBbUMsb0RBQW9ELFdBQVcsdUJBQXVCLGdCQUFnQixpQ0FBaUMsWUFBWSx5QkFBeUIsb0JBQW9CLFFBQVEsbUJBQW1CLEtBQUssb0JBQW9CLDJDQUEyQyxjQUFjLCtCQUErQixvREFBb0QsNEJBQTRCLGtCQUFrQixrQkFBa0Isc0JBQXNCLCtCQUErQix3QkFBd0IsWUFBWSxJQUFJLGFBQWEsaUdBQWlHLE1BQU0s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USxpREFBaUQsV0FBVyxZQUFZLGtCQUFrQixtQkFBbUIsU0FBUyw0RkFBNEYsUUFBUSxtQkFBbUIsb0JBQW9CLGtVQUFrVSwrQkFBK0IsY0FBYyxZQUFZLCtCQUErQixxSUFBcUkscUxBQXFMLDRCQUE0QixvQkFBb0IscUtBQXFLLGNBQWMsa0hBQWtILHlCQUF5Qiw2QkFBNkIsNkJBQTZCLDJCQUEyQixFQUFFLDBGQUEwRixjQUFjLHFHQUFxRyxXQUFXLGtCQUFrQiwrRUFBK0UsMkdBQTJHLGtCQUFrQiw0QkFBNEIsd0NBQXdDLCtHQUErRyw0Q0FBNEMsWUFBWSxrQkFBa0IsV0FBVywrQkFBK0IsK0ZBQStGLHVCQUF1Qix5Q0FBeUMsNkJBQTZCLHlEQUF5RCxvQ0FBb0Msb0JBQW9CLHVHQUF1Ryw2R0FBNkcseURBQXlELDREQUE0RCxFQUFFLG1CQUFtQix3RkFBd0YscUJBQXFCLDZCQUE2QixrQkFBa0IsMEpBQTBKLDZCQUE2QixFQUFFLEdBQUcsNkJBQTZCLHNDQUFzQywrREFBK0Qsc0NBQXNDLDZGIiwiZmlsZSI6IjEuanMiLCJzb3VyY2VzQ29udGVudCI6WyIhZnVuY3Rpb24oJCl7dmFyIGFwaVBhcmFtcz17c2V0Ontjb2xvcnM6MSx2YWx1ZXM6MSxiYWNrZ3JvdW5kQ29sb3I6MSxzY2FsZUNvbG9yczoxLG5vcm1hbGl6ZUZ1bmN0aW9uOjEsZm9jdXM6MX0sZ2V0OntzZWxlY3RlZFJlZ2lvbnM6MSxzZWxlY3RlZE1hcmtlcnM6MSxtYXBPYmplY3Q6MSxyZWdpb25OYW1lOjF9fTskLmZuLnZlY3Rvck1hcD1mdW5jdGlvbihvcHRpb25zKXt2YXIgbWFwLG1ldGhvZE5hbWUsbWFwPXRoaXMuY2hpbGRyZW4oXCIuanZlY3Rvcm1hcC1jb250YWluZXJcIikuZGF0YShcIm1hcE9iamVjdFwiKTtpZihcImFkZE1hcFwiPT09b3B0aW9ucylqdm0uTWFwLm1hcHNbYXJndW1lbnRzWzFdXT1hcmd1bWVudHNbMl07ZWxzZXtpZigoXCJzZXRcIj09PW9wdGlvbnN8fFwiZ2V0XCI9PT1vcHRpb25zKSYmYXBpUGFyYW1zW29wdGlvbnNdW2FyZ3VtZW50c1sxXV0pcmV0dXJuIG1ldGhvZE5hbWU9YXJndW1lbnRzWzFdLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK2FyZ3VtZW50c1sxXS5zdWJzdHIoMSksbWFwW29wdGlvbnMrbWV0aG9kTmFtZV0uYXBwbHkobWFwLEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywyKSk7b3B0aW9ucz1vcHRpb25zfHx7fSxvcHRpb25zLmNvbnRhaW5lcj10aGlzLG1hcD1uZXcganZtLk1hcChvcHRpb25zKX1yZXR1cm4gdGhpc319KGpRdWVyeSksZnVuY3Rpb24oZmFjdG9yeSl7XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbXCJqcXVlcnlcIl0sZmFjdG9yeSk6XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHM/bW9kdWxlLmV4cG9ydHM9ZmFjdG9yeTpmYWN0b3J5KGpRdWVyeSl9KGZ1bmN0aW9uKCQpe2Z1bmN0aW9uIGhhbmRsZXIoZXZlbnQpe3ZhciBvcmdFdmVudD1ldmVudHx8d2luZG93LmV2ZW50LGFyZ3M9c2xpY2UuY2FsbChhcmd1bWVudHMsMSksZGVsdGE9MCxkZWx0YVg9MCxkZWx0YVk9MCxhYnNEZWx0YT0wO2lmKGV2ZW50PSQuZXZlbnQuZml4KG9yZ0V2ZW50KSxldmVudC50eXBlPVwibW91c2V3aGVlbFwiLFwiZGV0YWlsXCJpbiBvcmdFdmVudCYmKGRlbHRhWT0tMSpvcmdFdmVudC5kZXRhaWwpLFwid2hlZWxEZWx0YVwiaW4gb3JnRXZlbnQmJihkZWx0YVk9b3JnRXZlbnQud2hlZWxEZWx0YSksXCJ3aGVlbERlbHRhWVwiaW4gb3JnRXZlbnQmJihkZWx0YVk9b3JnRXZlbnQud2hlZWxEZWx0YVkpLFwid2hlZWxEZWx0YVhcImluIG9yZ0V2ZW50JiYoZGVsdGFYPS0xKm9yZ0V2ZW50LndoZWVsRGVsdGFYKSxcImF4aXNcImluIG9yZ0V2ZW50JiZvcmdFdmVudC5heGlzPT09b3JnRXZlbnQuSE9SSVpPTlRBTF9BWElTJiYoZGVsdGFYPS0xKmRlbHRhWSxkZWx0YVk9MCksZGVsdGE9MD09PWRlbHRhWT9kZWx0YVg6ZGVsdGFZLFwiZGVsdGFZXCJpbiBvcmdFdmVudCYmKGRlbHRhWT0tMSpvcmdFdmVudC5kZWx0YVksZGVsdGE9ZGVsdGFZKSxcImRlbHRhWFwiaW4gb3JnRXZlbnQmJihkZWx0YVg9b3JnRXZlbnQuZGVsdGFYLDA9PT1kZWx0YVkmJihkZWx0YT0tMSpkZWx0YVgpKSwwIT09ZGVsdGFZfHwwIT09ZGVsdGFYKXtpZigxPT09b3JnRXZlbnQuZGVsdGFNb2RlKXt2YXIgbGluZUhlaWdodD0kLmRhdGEodGhpcyxcIm1vdXNld2hlZWwtbGluZS1oZWlnaHRcIik7ZGVsdGEqPWxpbmVIZWlnaHQsZGVsdGFZKj1saW5lSGVpZ2h0LGRlbHRhWCo9bGluZUhlaWdodH1lbHNlIGlmKDI9PT1vcmdFdmVudC5kZWx0YU1vZGUpe3ZhciBwYWdlSGVpZ2h0PSQuZGF0YSh0aGlzLFwibW91c2V3aGVlbC1wYWdlLWhlaWdodFwiKTtkZWx0YSo9cGFnZUhlaWdodCxkZWx0YVkqPXBhZ2VIZWlnaHQsZGVsdGFYKj1wYWdlSGVpZ2h0fXJldHVybiBhYnNEZWx0YT1NYXRoLm1heChNYXRoLmFicyhkZWx0YVkpLE1hdGguYWJzKGRlbHRhWCkpLCghbG93ZXN0RGVsdGF8fGxvd2VzdERlbHRhPmFic0RlbHRhKSYmKGxvd2VzdERlbHRhPWFic0RlbHRhLHNob3VsZEFkanVzdE9sZERlbHRhcyhvcmdFdmVudCxhYnNEZWx0YSkmJihsb3dlc3REZWx0YS89NDApKSxzaG91bGRBZGp1c3RPbGREZWx0YXMob3JnRXZlbnQsYWJzRGVsdGEpJiYoZGVsdGEvPTQwLGRlbHRhWC89NDAsZGVsdGFZLz00MCksZGVsdGE9TWF0aFtkZWx0YT49MT9cImZsb29yXCI6XCJjZWlsXCJdKGRlbHRhL2xvd2VzdERlbHRhKSxkZWx0YVg9TWF0aFtkZWx0YVg+PTE/XCJmbG9vclwiOlwiY2VpbFwiXShkZWx0YVgvbG93ZXN0RGVsdGEpLGRlbHRhWT1NYXRoW2RlbHRhWT49MT9cImZsb29yXCI6XCJjZWlsXCJdKGRlbHRhWS9sb3dlc3REZWx0YSksZXZlbnQuZGVsdGFYPWRlbHRhWCxldmVudC5kZWx0YVk9ZGVsdGFZLGV2ZW50LmRlbHRhRmFjdG9yPWxvd2VzdERlbHRhLGV2ZW50LmRlbHRhTW9kZT0wLGFyZ3MudW5zaGlmdChldmVudCxkZWx0YSxkZWx0YVgsZGVsdGFZKSxudWxsTG93ZXN0RGVsdGFUaW1lb3V0JiZjbGVhclRpbWVvdXQobnVsbExvd2VzdERlbHRhVGltZW91dCksbnVsbExvd2VzdERlbHRhVGltZW91dD1zZXRUaW1lb3V0KG51bGxMb3dlc3REZWx0YSwyMDApLCgkLmV2ZW50LmRpc3BhdGNofHwkLmV2ZW50LmhhbmRsZSkuYXBwbHkodGhpcyxhcmdzKX19ZnVuY3Rpb24gbnVsbExvd2VzdERlbHRhKCl7bG93ZXN0RGVsdGE9bnVsbH1mdW5jdGlvbiBzaG91bGRBZGp1c3RPbGREZWx0YXMob3JnRXZlbnQsYWJzRGVsdGEpe3JldHVybiBzcGVjaWFsLnNldHRpbmdzLmFkanVzdE9sZERlbHRhcyYmXCJtb3VzZXdoZWVsXCI9PT1vcmdFdmVudC50eXBlJiZhYnNEZWx0YSUxMjA9PT0wfXZhciBudWxsTG93ZXN0RGVsdGFUaW1lb3V0LGxvd2VzdERlbHRhLHRvRml4PVtcIndoZWVsXCIsXCJtb3VzZXdoZWVsXCIsXCJET01Nb3VzZVNjcm9sbFwiLFwiTW96TW91c2VQaXhlbFNjcm9sbFwiXSx0b0JpbmQ9XCJvbndoZWVsXCJpbiBkb2N1bWVudHx8ZG9jdW1lbnQuZG9jdW1lbnRNb2RlPj05P1tcIndoZWVsXCJdOltcIm1vdXNld2hlZWxcIixcIkRvbU1vdXNlU2Nyb2xsXCIsXCJNb3pNb3VzZVBpeGVsU2Nyb2xsXCJdLHNsaWNlPUFycmF5LnByb3RvdHlwZS5zbGljZTtpZigkLmV2ZW50LmZpeEhvb2tzKWZvcih2YXIgaT10b0ZpeC5sZW5ndGg7aTspJC5ldmVudC5maXhIb29rc1t0b0ZpeFstLWldXT0kLmV2ZW50Lm1vdXNlSG9va3M7dmFyIHNwZWNpYWw9JC5ldmVudC5zcGVjaWFsLm1vdXNld2hlZWw9e3ZlcnNpb246XCIzLjEuOVwiLHNldHVwOmZ1bmN0aW9uKCl7aWYodGhpcy5hZGRFdmVudExpc3RlbmVyKWZvcih2YXIgaT10b0JpbmQubGVuZ3RoO2k7KXRoaXMuYWRkRXZlbnRMaXN0ZW5lcih0b0JpbmRbLS1pXSxoYW5kbGVyLCExKTtlbHNlIHRoaXMub25tb3VzZXdoZWVsPWhhbmRsZXI7JC5kYXRhKHRoaXMsXCJtb3VzZXdoZWVsLWxpbmUtaGVpZ2h0XCIsc3BlY2lhbC5nZXRMaW5lSGVpZ2h0KHRoaXMpKSwkLmRhdGEodGhpcyxcIm1vdXNld2hlZWwtcGFnZS1oZWlnaHRcIixzcGVjaWFsLmdldFBhZ2VIZWlnaHQodGhpcykpfSx0ZWFyZG93bjpmdW5jdGlvbigpe2lmKHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcilmb3IodmFyIGk9dG9CaW5kLmxlbmd0aDtpOyl0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIodG9CaW5kWy0taV0saGFuZGxlciwhMSk7ZWxzZSB0aGlzLm9ubW91c2V3aGVlbD1udWxsfSxnZXRMaW5lSGVpZ2h0OmZ1bmN0aW9uKGVsZW0pe3JldHVybiBwYXJzZUludCgkKGVsZW0pW1wib2Zmc2V0UGFyZW50XCJpbiAkLmZuP1wib2Zmc2V0UGFyZW50XCI6XCJwYXJlbnRcIl0oKS5jc3MoXCJmb250U2l6ZVwiKSwxMCl9LGdldFBhZ2VIZWlnaHQ6ZnVuY3Rpb24oZWxlbSl7cmV0dXJuICQoZWxlbSkuaGVpZ2h0KCl9LHNldHRpbmdzOnthZGp1c3RPbGREZWx0YXM6ITB9fTskLmZuLmV4dGVuZCh7bW91c2V3aGVlbDpmdW5jdGlvbihmbil7cmV0dXJuIGZuP3RoaXMuYmluZChcIm1vdXNld2hlZWxcIixmbik6dGhpcy50cmlnZ2VyKFwibW91c2V3aGVlbFwiKX0sdW5tb3VzZXdoZWVsOmZ1bmN0aW9uKGZuKXtyZXR1cm4gdGhpcy51bmJpbmQoXCJtb3VzZXdoZWVsXCIsZm4pfX0pfSk7dmFyIGp2bT17aW5oZXJpdHM6ZnVuY3Rpb24oY2hpbGQscGFyZW50KXtmdW5jdGlvbiB0ZW1wKCl7fXRlbXAucHJvdG90eXBlPXBhcmVudC5wcm90b3R5cGUsY2hpbGQucHJvdG90eXBlPW5ldyB0ZW1wLGNoaWxkLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1jaGlsZCxjaGlsZC5wYXJlbnRDbGFzcz1wYXJlbnR9LG1peGluOmZ1bmN0aW9uKHRhcmdldCxzb3VyY2Upe3ZhciBwcm9wO2Zvcihwcm9wIGluIHNvdXJjZS5wcm90b3R5cGUpc291cmNlLnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eShwcm9wKSYmKHRhcmdldC5wcm90b3R5cGVbcHJvcF09c291cmNlLnByb3RvdHlwZVtwcm9wXSl9LG1pbjpmdW5jdGlvbih2YWx1ZXMpe3ZhciBpLG1pbj1OdW1iZXIuTUFYX1ZBTFVFO2lmKHZhbHVlcyBpbnN0YW5jZW9mIEFycmF5KWZvcihpPTA7aTx2YWx1ZXMubGVuZ3RoO2krKyl2YWx1ZXNbaV08bWluJiYobWluPXZhbHVlc1tpXSk7ZWxzZSBmb3IoaSBpbiB2YWx1ZXMpdmFsdWVzW2ldPG1pbiYmKG1pbj12YWx1ZXNbaV0pO3JldHVybiBtaW59LG1heDpmdW5jdGlvbih2YWx1ZXMpe3ZhciBpLG1heD1OdW1iZXIuTUlOX1ZBTFVFO2lmKHZhbHVlcyBpbnN0YW5jZW9mIEFycmF5KWZvcihpPTA7aTx2YWx1ZXMubGVuZ3RoO2krKyl2YWx1ZXNbaV0+bWF4JiYobWF4PXZhbHVlc1tpXSk7ZWxzZSBmb3IoaSBpbiB2YWx1ZXMpdmFsdWVzW2ldPm1heCYmKG1heD12YWx1ZXNbaV0pO3JldHVybiBtYXh9LGtleXM6ZnVuY3Rpb24ob2JqZWN0KXt2YXIga2V5LGtleXM9W107Zm9yKGtleSBpbiBvYmplY3Qpa2V5cy5wdXNoKGtleSk7cmV0dXJuIGtleXN9LHZhbHVlczpmdW5jdGlvbihvYmplY3Qpe3ZhciBrZXksaSx2YWx1ZXM9W107Zm9yKGk9MDtpPGFyZ3VtZW50cy5sZW5ndGg7aSsrKXtvYmplY3Q9YXJndW1lbnRzW2ldO2ZvcihrZXkgaW4gb2JqZWN0KXZhbHVlcy5wdXNoKG9iamVjdFtrZXldKX1yZXR1cm4gdmFsdWVzfSx3aGVuSW1hZ2VMb2FkZWQ6ZnVuY3Rpb24odXJsKXt2YXIgZGVmZXJyZWQ9bmV3IGp2bS4kLkRlZmVycmVkLGltZz1qdm0uJChcIjxpbWcvPlwiKTtyZXR1cm4gaW1nLmVycm9yKGZ1bmN0aW9uKCl7ZGVmZXJyZWQucmVqZWN0KCl9KS5sb2FkKGZ1bmN0aW9uKCl7ZGVmZXJyZWQucmVzb2x2ZShpbWcpfSksaW1nLmF0dHIoXCJzcmNcIix1cmwpLGRlZmVycmVkfSxpc0ltYWdlVXJsOmZ1bmN0aW9uKHMpe3JldHVybi9cXC5cXHd7Myw0fSQvLnRlc3Qocyl9fTtqdm0uJD1qUXVlcnksQXJyYXkucHJvdG90eXBlLmluZGV4T2Z8fChBcnJheS5wcm90b3R5cGUuaW5kZXhPZj1mdW5jdGlvbihzZWFyY2hFbGVtZW50LGZyb21JbmRleCl7dmFyIGs7aWYobnVsbD09dGhpcyl0aHJvdyBuZXcgVHlwZUVycm9yKCdcInRoaXNcIiBpcyBudWxsIG9yIG5vdCBkZWZpbmVkJyk7dmFyIE89T2JqZWN0KHRoaXMpLGxlbj1PLmxlbmd0aD4+PjA7aWYoMD09PWxlbilyZXR1cm4tMTt2YXIgbj0rZnJvbUluZGV4fHwwO2lmKE1hdGguYWJzKG4pPT09MS8wJiYobj0wKSxuPj1sZW4pcmV0dXJuLTE7Zm9yKGs9TWF0aC5tYXgobj49MD9uOmxlbi1NYXRoLmFicyhuKSwwKTtsZW4+azspe2lmKGsgaW4gTyYmT1trXT09PXNlYXJjaEVsZW1lbnQpcmV0dXJuIGs7aysrfXJldHVybi0xfSksanZtLkFic3RyYWN0RWxlbWVudD1mdW5jdGlvbihuYW1lLGNvbmZpZyl7dGhpcy5ub2RlPXRoaXMuY3JlYXRlRWxlbWVudChuYW1lKSx0aGlzLm5hbWU9bmFtZSx0aGlzLnByb3BlcnRpZXM9e30sY29uZmlnJiZ0aGlzLnNldChjb25maWcpfSxqdm0uQWJzdHJhY3RFbGVtZW50LnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24ocHJvcGVydHksdmFsdWUpe3ZhciBrZXk7aWYoXCJvYmplY3RcIj09dHlwZW9mIHByb3BlcnR5KWZvcihrZXkgaW4gcHJvcGVydHkpdGhpcy5wcm9wZXJ0aWVzW2tleV09cHJvcGVydHlba2V5XSx0aGlzLmFwcGx5QXR0cihrZXkscHJvcGVydHlba2V5XSk7ZWxzZSB0aGlzLnByb3BlcnRpZXNbcHJvcGVydHldPXZhbHVlLHRoaXMuYXBwbHlBdHRyKHByb3BlcnR5LHZhbHVlKX0sanZtLkFic3RyYWN0RWxlbWVudC5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKHByb3BlcnR5KXtyZXR1cm4gdGhpcy5wcm9wZXJ0aWVzW3Byb3BlcnR5XX0sanZtLkFic3RyYWN0RWxlbWVudC5wcm90b3R5cGUuYXBwbHlBdHRyPWZ1bmN0aW9uKHByb3BlcnR5LHZhbHVlKXt0aGlzLm5vZGUuc2V0QXR0cmlidXRlKHByb3BlcnR5LHZhbHVlKX0sanZtLkFic3RyYWN0RWxlbWVudC5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKCl7anZtLiQodGhpcy5ub2RlKS5yZW1vdmUoKX0sanZtLkFic3RyYWN0Q2FudmFzRWxlbWVudD1mdW5jdGlvbihjb250YWluZXIsd2lkdGgsaGVpZ2h0KXt0aGlzLmNvbnRhaW5lcj1jb250YWluZXIsdGhpcy5zZXRTaXplKHdpZHRoLGhlaWdodCksdGhpcy5yb290RWxlbWVudD1uZXcganZtW3RoaXMuY2xhc3NQcmVmaXgrXCJHcm91cEVsZW1lbnRcIl0sdGhpcy5ub2RlLmFwcGVuZENoaWxkKHRoaXMucm9vdEVsZW1lbnQubm9kZSksdGhpcy5jb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5ub2RlKX0sanZtLkFic3RyYWN0Q2FudmFzRWxlbWVudC5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKGVsZW1lbnQsZ3JvdXApe2dyb3VwPWdyb3VwfHx0aGlzLnJvb3RFbGVtZW50LGdyb3VwLmFkZChlbGVtZW50KSxlbGVtZW50LmNhbnZhcz10aGlzfSxqdm0uQWJzdHJhY3RDYW52YXNFbGVtZW50LnByb3RvdHlwZS5hZGRQYXRoPWZ1bmN0aW9uKGNvbmZpZyxzdHlsZSxncm91cCl7dmFyIGVsPW5ldyBqdm1bdGhpcy5jbGFzc1ByZWZpeCtcIlBhdGhFbGVtZW50XCJdKGNvbmZpZyxzdHlsZSk7cmV0dXJuIHRoaXMuYWRkKGVsLGdyb3VwKSxlbH0sanZtLkFic3RyYWN0Q2FudmFzRWxlbWVudC5wcm90b3R5cGUuYWRkQ2lyY2xlPWZ1bmN0aW9uKGNvbmZpZyxzdHlsZSxncm91cCl7dmFyIGVsPW5ldyBqdm1bdGhpcy5jbGFzc1ByZWZpeCtcIkNpcmNsZUVsZW1lbnRcIl0oY29uZmlnLHN0eWxlKTtyZXR1cm4gdGhpcy5hZGQoZWwsZ3JvdXApLGVsfSxqdm0uQWJzdHJhY3RDYW52YXNFbGVtZW50LnByb3RvdHlwZS5hZGRJbWFnZT1mdW5jdGlvbihjb25maWcsc3R5bGUsZ3JvdXApe3ZhciBlbD1uZXcganZtW3RoaXMuY2xhc3NQcmVmaXgrXCJJbWFnZUVsZW1lbnRcIl0oY29uZmlnLHN0eWxlKTtyZXR1cm4gdGhpcy5hZGQoZWwsZ3JvdXApLGVsfSxqdm0uQWJzdHJhY3RDYW52YXNFbGVtZW50LnByb3RvdHlwZS5hZGRUZXh0PWZ1bmN0aW9uKGNvbmZpZyxzdHlsZSxncm91cCl7dmFyIGVsPW5ldyBqdm1bdGhpcy5jbGFzc1ByZWZpeCtcIlRleHRFbGVtZW50XCJdKGNvbmZpZyxzdHlsZSk7cmV0dXJuIHRoaXMuYWRkKGVsLGdyb3VwKSxlbH0sanZtLkFic3RyYWN0Q2FudmFzRWxlbWVudC5wcm90b3R5cGUuYWRkR3JvdXA9ZnVuY3Rpb24ocGFyZW50R3JvdXApe3ZhciBlbD1uZXcganZtW3RoaXMuY2xhc3NQcmVmaXgrXCJHcm91cEVsZW1lbnRcIl07cmV0dXJuIHBhcmVudEdyb3VwP3BhcmVudEdyb3VwLm5vZGUuYXBwZW5kQ2hpbGQoZWwubm9kZSk6dGhpcy5ub2RlLmFwcGVuZENoaWxkKGVsLm5vZGUpLGVsLmNhbnZhcz10aGlzLGVsfSxqdm0uQWJzdHJhY3RTaGFwZUVsZW1lbnQ9ZnVuY3Rpb24obmFtZSxjb25maWcsc3R5bGUpe3RoaXMuc3R5bGU9c3R5bGV8fHt9LHRoaXMuc3R5bGUuY3VycmVudD10aGlzLnN0eWxlLmN1cnJlbnR8fHt9LHRoaXMuaXNIb3ZlcmVkPSExLHRoaXMuaXNTZWxlY3RlZD0hMSx0aGlzLnVwZGF0ZVN0eWxlKCl9LGp2bS5BYnN0cmFjdFNoYXBlRWxlbWVudC5wcm90b3R5cGUuc2V0U3R5bGU9ZnVuY3Rpb24ocHJvcGVydHksdmFsdWUpe3ZhciBzdHlsZXM9e307XCJvYmplY3RcIj09dHlwZW9mIHByb3BlcnR5P3N0eWxlcz1wcm9wZXJ0eTpzdHlsZXNbcHJvcGVydHldPXZhbHVlLGp2bS4kLmV4dGVuZCh0aGlzLnN0eWxlLmN1cnJlbnQsc3R5bGVzKSx0aGlzLnVwZGF0ZVN0eWxlKCl9LGp2bS5BYnN0cmFjdFNoYXBlRWxlbWVudC5wcm90b3R5cGUudXBkYXRlU3R5bGU9ZnVuY3Rpb24oKXt2YXIgYXR0cnM9e307anZtLkFic3RyYWN0U2hhcGVFbGVtZW50Lm1lcmdlU3R5bGVzKGF0dHJzLHRoaXMuc3R5bGUuaW5pdGlhbCksanZtLkFic3RyYWN0U2hhcGVFbGVtZW50Lm1lcmdlU3R5bGVzKGF0dHJzLHRoaXMuc3R5bGUuY3VycmVudCksdGhpcy5pc0hvdmVyZWQmJmp2bS5BYnN0cmFjdFNoYXBlRWxlbWVudC5tZXJnZVN0eWxlcyhhdHRycyx0aGlzLnN0eWxlLmhvdmVyKSx0aGlzLmlzU2VsZWN0ZWQmJihqdm0uQWJzdHJhY3RTaGFwZUVsZW1lbnQubWVyZ2VTdHlsZXMoYXR0cnMsdGhpcy5zdHlsZS5zZWxlY3RlZCksdGhpcy5pc0hvdmVyZWQmJmp2bS5BYnN0cmFjdFNoYXBlRWxlbWVudC5tZXJnZVN0eWxlcyhhdHRycyx0aGlzLnN0eWxlLnNlbGVjdGVkSG92ZXIpKSx0aGlzLnNldChhdHRycyl9LGp2bS5BYnN0cmFjdFNoYXBlRWxlbWVudC5tZXJnZVN0eWxlcz1mdW5jdGlvbihzdHlsZXMsbmV3U3R5bGVzKXt2YXIga2V5O25ld1N0eWxlcz1uZXdTdHlsZXN8fHt9O2ZvcihrZXkgaW4gbmV3U3R5bGVzKW51bGw9PT1uZXdTdHlsZXNba2V5XT9kZWxldGUgc3R5bGVzW2tleV06c3R5bGVzW2tleV09bmV3U3R5bGVzW2tleV19LGp2bS5TVkdFbGVtZW50PWZ1bmN0aW9uKCl7anZtLlNWR0VsZW1lbnQucGFyZW50Q2xhc3MuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxqdm0uaW5oZXJpdHMoanZtLlNWR0VsZW1lbnQsanZtLkFic3RyYWN0RWxlbWVudCksanZtLlNWR0VsZW1lbnQuc3ZnbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLGp2bS5TVkdFbGVtZW50LnByb3RvdHlwZS5jcmVhdGVFbGVtZW50PWZ1bmN0aW9uKHRhZ05hbWUpe3JldHVybiBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoanZtLlNWR0VsZW1lbnQuc3ZnbnMsdGFnTmFtZSl9LGp2bS5TVkdFbGVtZW50LnByb3RvdHlwZS5hZGRDbGFzcz1mdW5jdGlvbihjbGFzc05hbWUpe3RoaXMubm9kZS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLGNsYXNzTmFtZSl9LGp2bS5TVkdFbGVtZW50LnByb3RvdHlwZS5nZXRFbGVtZW50Q3RyPWZ1bmN0aW9uKGN0cil7cmV0dXJuIGp2bVtcIlNWR1wiK2N0cl19LGp2bS5TVkdFbGVtZW50LnByb3RvdHlwZS5nZXRCQm94PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubm9kZS5nZXRCQm94KCl9LGp2bS5TVkdHcm91cEVsZW1lbnQ9ZnVuY3Rpb24oKXtqdm0uU1ZHR3JvdXBFbGVtZW50LnBhcmVudENsYXNzLmNhbGwodGhpcyxcImdcIil9LGp2bS5pbmhlcml0cyhqdm0uU1ZHR3JvdXBFbGVtZW50LGp2bS5TVkdFbGVtZW50KSxqdm0uU1ZHR3JvdXBFbGVtZW50LnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24oZWxlbWVudCl7dGhpcy5ub2RlLmFwcGVuZENoaWxkKGVsZW1lbnQubm9kZSl9LGp2bS5TVkdDYW52YXNFbGVtZW50PWZ1bmN0aW9uKCl7dGhpcy5jbGFzc1ByZWZpeD1cIlNWR1wiLGp2bS5TVkdDYW52YXNFbGVtZW50LnBhcmVudENsYXNzLmNhbGwodGhpcyxcInN2Z1wiKSx0aGlzLmRlZnNFbGVtZW50PW5ldyBqdm0uU1ZHRWxlbWVudChcImRlZnNcIiksdGhpcy5ub2RlLmFwcGVuZENoaWxkKHRoaXMuZGVmc0VsZW1lbnQubm9kZSksanZtLkFic3RyYWN0Q2FudmFzRWxlbWVudC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGp2bS5pbmhlcml0cyhqdm0uU1ZHQ2FudmFzRWxlbWVudCxqdm0uU1ZHRWxlbWVudCksanZtLm1peGluKGp2bS5TVkdDYW52YXNFbGVtZW50LGp2bS5BYnN0cmFjdENhbnZhc0VsZW1lbnQpLGp2bS5TVkdDYW52YXNFbGVtZW50LnByb3RvdHlwZS5zZXRTaXplPWZ1bmN0aW9uKHdpZHRoLGhlaWdodCl7dGhpcy53aWR0aD13aWR0aCx0aGlzLmhlaWdodD1oZWlnaHQsdGhpcy5ub2RlLnNldEF0dHJpYnV0ZShcIndpZHRoXCIsd2lkdGgpLHRoaXMubm9kZS5zZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIixoZWlnaHQpfSxqdm0uU1ZHQ2FudmFzRWxlbWVudC5wcm90b3R5cGUuYXBwbHlUcmFuc2Zvcm1QYXJhbXM9ZnVuY3Rpb24oc2NhbGUsdHJhbnNYLHRyYW5zWSl7dGhpcy5zY2FsZT1zY2FsZSx0aGlzLnRyYW5zWD10cmFuc1gsdGhpcy50cmFuc1k9dHJhbnNZLHRoaXMucm9vdEVsZW1lbnQubm9kZS5zZXRBdHRyaWJ1dGUoXCJ0cmFuc2Zvcm1cIixcInNjYWxlKFwiK3NjYWxlK1wiKSB0cmFuc2xhdGUoXCIrdHJhbnNYK1wiLCBcIit0cmFuc1krXCIpXCIpfSxqdm0uU1ZHU2hhcGVFbGVtZW50PWZ1bmN0aW9uKG5hbWUsY29uZmlnKXtqdm0uU1ZHU2hhcGVFbGVtZW50LnBhcmVudENsYXNzLmNhbGwodGhpcyxuYW1lLGNvbmZpZyksanZtLkFic3RyYWN0U2hhcGVFbGVtZW50LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sanZtLmluaGVyaXRzKGp2bS5TVkdTaGFwZUVsZW1lbnQsanZtLlNWR0VsZW1lbnQpLGp2bS5taXhpbihqdm0uU1ZHU2hhcGVFbGVtZW50LGp2bS5BYnN0cmFjdFNoYXBlRWxlbWVudCksanZtLlNWR1NoYXBlRWxlbWVudC5wcm90b3R5cGUuYXBwbHlBdHRyPWZ1bmN0aW9uKGF0dHIsdmFsdWUpe3ZhciBwYXR0ZXJuRWwsaW1hZ2VFbCx0aGF0PXRoaXM7XCJmaWxsXCI9PT1hdHRyJiZqdm0uaXNJbWFnZVVybCh2YWx1ZSk/anZtLlNWR1NoYXBlRWxlbWVudC5pbWFnZXNbdmFsdWVdP3RoaXMuYXBwbHlBdHRyKFwiZmlsbFwiLFwidXJsKCNpbWFnZVwiK2p2bS5TVkdTaGFwZUVsZW1lbnQuaW1hZ2VzW3ZhbHVlXStcIilcIik6anZtLndoZW5JbWFnZUxvYWRlZCh2YWx1ZSkudGhlbihmdW5jdGlvbihpbWcpe2ltYWdlRWw9bmV3IGp2bS5TVkdFbGVtZW50KFwiaW1hZ2VcIiksaW1hZ2VFbC5ub2RlLnNldEF0dHJpYnV0ZU5TKFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiLFwiaHJlZlwiLHZhbHVlKSxpbWFnZUVsLmFwcGx5QXR0cihcInhcIixcIjBcIiksaW1hZ2VFbC5hcHBseUF0dHIoXCJ5XCIsXCIwXCIpLGltYWdlRWwuYXBwbHlBdHRyKFwid2lkdGhcIixpbWdbMF0ud2lkdGgpLGltYWdlRWwuYXBwbHlBdHRyKFwiaGVpZ2h0XCIsaW1nWzBdLmhlaWdodCkscGF0dGVybkVsPW5ldyBqdm0uU1ZHRWxlbWVudChcInBhdHRlcm5cIikscGF0dGVybkVsLmFwcGx5QXR0cihcImlkXCIsXCJpbWFnZVwiK2p2bS5TVkdTaGFwZUVsZW1lbnQuaW1hZ2VDb3VudGVyKSxwYXR0ZXJuRWwuYXBwbHlBdHRyKFwieFwiLDApLHBhdHRlcm5FbC5hcHBseUF0dHIoXCJ5XCIsMCkscGF0dGVybkVsLmFwcGx5QXR0cihcIndpZHRoXCIsaW1nWzBdLndpZHRoLzIpLHBhdHRlcm5FbC5hcHBseUF0dHIoXCJoZWlnaHRcIixpbWdbMF0uaGVpZ2h0LzIpLHBhdHRlcm5FbC5hcHBseUF0dHIoXCJ2aWV3Qm94XCIsXCIwIDAgXCIraW1nWzBdLndpZHRoK1wiIFwiK2ltZ1swXS5oZWlnaHQpLHBhdHRlcm5FbC5hcHBseUF0dHIoXCJwYXR0ZXJuVW5pdHNcIixcInVzZXJTcGFjZU9uVXNlXCIpLHBhdHRlcm5FbC5ub2RlLmFwcGVuZENoaWxkKGltYWdlRWwubm9kZSksdGhhdC5jYW52YXMuZGVmc0VsZW1lbnQubm9kZS5hcHBlbmRDaGlsZChwYXR0ZXJuRWwubm9kZSksanZtLlNWR1NoYXBlRWxlbWVudC5pbWFnZXNbdmFsdWVdPWp2bS5TVkdTaGFwZUVsZW1lbnQuaW1hZ2VDb3VudGVyKyssdGhhdC5hcHBseUF0dHIoXCJmaWxsXCIsXCJ1cmwoI2ltYWdlXCIranZtLlNWR1NoYXBlRWxlbWVudC5pbWFnZXNbdmFsdWVdK1wiKVwiKX0pOmp2bS5TVkdTaGFwZUVsZW1lbnQucGFyZW50Q2xhc3MucHJvdG90eXBlLmFwcGx5QXR0ci5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGp2bS5TVkdTaGFwZUVsZW1lbnQuaW1hZ2VDb3VudGVyPTEsanZtLlNWR1NoYXBlRWxlbWVudC5pbWFnZXM9e30sanZtLlNWR1BhdGhFbGVtZW50PWZ1bmN0aW9uKGNvbmZpZyxzdHlsZSl7anZtLlNWR1BhdGhFbGVtZW50LnBhcmVudENsYXNzLmNhbGwodGhpcyxcInBhdGhcIixjb25maWcsc3R5bGUpLHRoaXMubm9kZS5zZXRBdHRyaWJ1dGUoXCJmaWxsLXJ1bGVcIixcImV2ZW5vZGRcIil9LGp2bS5pbmhlcml0cyhqdm0uU1ZHUGF0aEVsZW1lbnQsanZtLlNWR1NoYXBlRWxlbWVudCksanZtLlNWR0NpcmNsZUVsZW1lbnQ9ZnVuY3Rpb24oY29uZmlnLHN0eWxlKXtqdm0uU1ZHQ2lyY2xlRWxlbWVudC5wYXJlbnRDbGFzcy5jYWxsKHRoaXMsXCJjaXJjbGVcIixjb25maWcsc3R5bGUpfSxqdm0uaW5oZXJpdHMoanZtLlNWR0NpcmNsZUVsZW1lbnQsanZtLlNWR1NoYXBlRWxlbWVudCksanZtLlNWR0ltYWdlRWxlbWVudD1mdW5jdGlvbihjb25maWcsc3R5bGUpe2p2bS5TVkdJbWFnZUVsZW1lbnQucGFyZW50Q2xhc3MuY2FsbCh0aGlzLFwiaW1hZ2VcIixjb25maWcsc3R5bGUpfSxqdm0uaW5oZXJpdHMoanZtLlNWR0ltYWdlRWxlbWVudCxqdm0uU1ZHU2hhcGVFbGVtZW50KSxqdm0uU1ZHSW1hZ2VFbGVtZW50LnByb3RvdHlwZS5hcHBseUF0dHI9ZnVuY3Rpb24oYXR0cix2YWx1ZSl7dmFyIHRoYXQ9dGhpcztcImltYWdlXCI9PWF0dHI/anZtLndoZW5JbWFnZUxvYWRlZCh2YWx1ZSkudGhlbihmdW5jdGlvbihpbWcpe3RoYXQubm9kZS5zZXRBdHRyaWJ1dGVOUyhcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIixcImhyZWZcIix2YWx1ZSksdGhhdC53aWR0aD1pbWdbMF0ud2lkdGgsdGhhdC5oZWlnaHQ9aW1nWzBdLmhlaWdodCx0aGF0LmFwcGx5QXR0cihcIndpZHRoXCIsdGhhdC53aWR0aCksdGhhdC5hcHBseUF0dHIoXCJoZWlnaHRcIix0aGF0LmhlaWdodCksdGhhdC5hcHBseUF0dHIoXCJ4XCIsdGhhdC5jeC10aGF0LndpZHRoLzIpLHRoYXQuYXBwbHlBdHRyKFwieVwiLHRoYXQuY3ktdGhhdC5oZWlnaHQvMiksanZtLiQodGhhdC5ub2RlKS50cmlnZ2VyKFwiaW1hZ2Vsb2FkZWRcIixbaW1nXSl9KTpcImN4XCI9PWF0dHI/KHRoaXMuY3g9dmFsdWUsdGhpcy53aWR0aCYmdGhpcy5hcHBseUF0dHIoXCJ4XCIsdmFsdWUtdGhpcy53aWR0aC8yKSk6XCJjeVwiPT1hdHRyPyh0aGlzLmN5PXZhbHVlLHRoaXMuaGVpZ2h0JiZ0aGlzLmFwcGx5QXR0cihcInlcIix2YWx1ZS10aGlzLmhlaWdodC8yKSk6anZtLlNWR0ltYWdlRWxlbWVudC5wYXJlbnRDbGFzcy5wcm90b3R5cGUuYXBwbHlBdHRyLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sanZtLlNWR1RleHRFbGVtZW50PWZ1bmN0aW9uKGNvbmZpZyxzdHlsZSl7anZtLlNWR1RleHRFbGVtZW50LnBhcmVudENsYXNzLmNhbGwodGhpcyxcInRleHRcIixjb25maWcsc3R5bGUpfSxqdm0uaW5oZXJpdHMoanZtLlNWR1RleHRFbGVtZW50LGp2bS5TVkdTaGFwZUVsZW1lbnQpLGp2bS5TVkdUZXh0RWxlbWVudC5wcm90b3R5cGUuYXBwbHlBdHRyPWZ1bmN0aW9uKGF0dHIsdmFsdWUpe1widGV4dFwiPT09YXR0cj90aGlzLm5vZGUudGV4dENvbnRlbnQ9dmFsdWU6anZtLlNWR1RleHRFbGVtZW50LnBhcmVudENsYXNzLnByb3RvdHlwZS5hcHBseUF0dHIuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxqdm0uVk1MRWxlbWVudD1mdW5jdGlvbigpe2p2bS5WTUxFbGVtZW50LlZNTEluaXRpYWxpemVkfHxqdm0uVk1MRWxlbWVudC5pbml0aWFsaXplVk1MKCksanZtLlZNTEVsZW1lbnQucGFyZW50Q2xhc3MuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxqdm0uaW5oZXJpdHMoanZtLlZNTEVsZW1lbnQsanZtLkFic3RyYWN0RWxlbWVudCksanZtLlZNTEVsZW1lbnQuVk1MSW5pdGlhbGl6ZWQ9ITEsanZtLlZNTEVsZW1lbnQuaW5pdGlhbGl6ZVZNTD1mdW5jdGlvbigpe3RyeXtkb2N1bWVudC5uYW1lc3BhY2VzLnJ2bWx8fGRvY3VtZW50Lm5hbWVzcGFjZXMuYWRkKFwicnZtbFwiLFwidXJuOnNjaGVtYXMtbWljcm9zb2Z0LWNvbTp2bWxcIiksanZtLlZNTEVsZW1lbnQucHJvdG90eXBlLmNyZWF0ZUVsZW1lbnQ9ZnVuY3Rpb24odGFnTmFtZSl7cmV0dXJuIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCI8cnZtbDpcIit0YWdOYW1lKycgY2xhc3M9XCJydm1sXCI+Jyl9fWNhdGNoKGUpe2p2bS5WTUxFbGVtZW50LnByb3RvdHlwZS5jcmVhdGVFbGVtZW50PWZ1bmN0aW9uKHRhZ05hbWUpe3JldHVybiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiPFwiK3RhZ05hbWUrJyB4bWxucz1cInVybjpzY2hlbWFzLW1pY3Jvc29mdC5jb206dm1sXCIgY2xhc3M9XCJydm1sXCI+Jyl9fWRvY3VtZW50LmNyZWF0ZVN0eWxlU2hlZXQoKS5hZGRSdWxlKFwiLnJ2bWxcIixcImJlaGF2aW9yOnVybCgjZGVmYXVsdCNWTUwpXCIpLGp2bS5WTUxFbGVtZW50LlZNTEluaXRpYWxpemVkPSEwfSxqdm0uVk1MRWxlbWVudC5wcm90b3R5cGUuZ2V0RWxlbWVudEN0cj1mdW5jdGlvbihjdHIpe3JldHVybiBqdm1bXCJWTUxcIitjdHJdfSxqdm0uVk1MRWxlbWVudC5wcm90b3R5cGUuYWRkQ2xhc3M9ZnVuY3Rpb24oY2xhc3NOYW1lKXtqdm0uJCh0aGlzLm5vZGUpLmFkZENsYXNzKGNsYXNzTmFtZSl9LGp2bS5WTUxFbGVtZW50LnByb3RvdHlwZS5hcHBseUF0dHI9ZnVuY3Rpb24oYXR0cix2YWx1ZSl7dGhpcy5ub2RlW2F0dHJdPXZhbHVlfSxqdm0uVk1MRWxlbWVudC5wcm90b3R5cGUuZ2V0QkJveD1mdW5jdGlvbigpe3ZhciBub2RlPWp2bS4kKHRoaXMubm9kZSk7cmV0dXJue3g6bm9kZS5wb3NpdGlvbigpLmxlZnQvdGhpcy5jYW52YXMuc2NhbGUseTpub2RlLnBvc2l0aW9uKCkudG9wL3RoaXMuY2FudmFzLnNjYWxlLHdpZHRoOm5vZGUud2lkdGgoKS90aGlzLmNhbnZhcy5zY2FsZSxoZWlnaHQ6bm9kZS5oZWlnaHQoKS90aGlzLmNhbnZhcy5zY2FsZX19LGp2bS5WTUxHcm91cEVsZW1lbnQ9ZnVuY3Rpb24oKXtqdm0uVk1MR3JvdXBFbGVtZW50LnBhcmVudENsYXNzLmNhbGwodGhpcyxcImdyb3VwXCIpLHRoaXMubm9kZS5zdHlsZS5sZWZ0PVwiMHB4XCIsdGhpcy5ub2RlLnN0eWxlLnRvcD1cIjBweFwiLHRoaXMubm9kZS5jb29yZG9yaWdpbj1cIjAgMFwifSxqdm0uaW5oZXJpdHMoanZtLlZNTEdyb3VwRWxlbWVudCxqdm0uVk1MRWxlbWVudCksanZtLlZNTEdyb3VwRWxlbWVudC5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKGVsZW1lbnQpe3RoaXMubm9kZS5hcHBlbmRDaGlsZChlbGVtZW50Lm5vZGUpfSxqdm0uVk1MQ2FudmFzRWxlbWVudD1mdW5jdGlvbigpe3RoaXMuY2xhc3NQcmVmaXg9XCJWTUxcIixqdm0uVk1MQ2FudmFzRWxlbWVudC5wYXJlbnRDbGFzcy5jYWxsKHRoaXMsXCJncm91cFwiKSxqdm0uQWJzdHJhY3RDYW52YXNFbGVtZW50LmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0aGlzLm5vZGUuc3R5bGUucG9zaXRpb249XCJhYnNvbHV0ZVwifSxqdm0uaW5oZXJpdHMoanZtLlZNTENhbnZhc0VsZW1lbnQsanZtLlZNTEVsZW1lbnQpLGp2bS5taXhpbihqdm0uVk1MQ2FudmFzRWxlbWVudCxqdm0uQWJzdHJhY3RDYW52YXNFbGVtZW50KSxqdm0uVk1MQ2FudmFzRWxlbWVudC5wcm90b3R5cGUuc2V0U2l6ZT1mdW5jdGlvbih3aWR0aCxoZWlnaHQpe3ZhciBwYXRocyxncm91cHMsaSxsO2lmKHRoaXMud2lkdGg9d2lkdGgsdGhpcy5oZWlnaHQ9aGVpZ2h0LHRoaXMubm9kZS5zdHlsZS53aWR0aD13aWR0aCtcInB4XCIsdGhpcy5ub2RlLnN0eWxlLmhlaWdodD1oZWlnaHQrXCJweFwiLHRoaXMubm9kZS5jb29yZHNpemU9d2lkdGgrXCIgXCIraGVpZ2h0LHRoaXMubm9kZS5jb29yZG9yaWdpbj1cIjAgMFwiLHRoaXMucm9vdEVsZW1lbnQpe2ZvcihwYXRocz10aGlzLnJvb3RFbGVtZW50Lm5vZGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJzaGFwZVwiKSxpPTAsbD1wYXRocy5sZW5ndGg7bD5pO2krKylwYXRoc1tpXS5jb29yZHNpemU9d2lkdGgrXCIgXCIraGVpZ2h0LHBhdGhzW2ldLnN0eWxlLndpZHRoPXdpZHRoK1wicHhcIixwYXRoc1tpXS5zdHlsZS5oZWlnaHQ9aGVpZ2h0K1wicHhcIjtmb3IoZ3JvdXBzPXRoaXMubm9kZS5nZXRFbGVtZW50c0J5VGFnTmFtZShcImdyb3VwXCIpLGk9MCxsPWdyb3Vwcy5sZW5ndGg7bD5pO2krKylncm91cHNbaV0uY29vcmRzaXplPXdpZHRoK1wiIFwiK2hlaWdodCxncm91cHNbaV0uc3R5bGUud2lkdGg9d2lkdGgrXCJweFwiLGdyb3Vwc1tpXS5zdHlsZS5oZWlnaHQ9aGVpZ2h0K1wicHhcIn19LGp2bS5WTUxDYW52YXNFbGVtZW50LnByb3RvdHlwZS5hcHBseVRyYW5zZm9ybVBhcmFtcz1mdW5jdGlvbihzY2FsZSx0cmFuc1gsdHJhbnNZKXt0aGlzLnNjYWxlPXNjYWxlLHRoaXMudHJhbnNYPXRyYW5zWCx0aGlzLnRyYW5zWT10cmFuc1ksdGhpcy5yb290RWxlbWVudC5ub2RlLmNvb3Jkb3JpZ2luPXRoaXMud2lkdGgtdHJhbnNYLXRoaXMud2lkdGgvMTAwK1wiLFwiKyh0aGlzLmhlaWdodC10cmFuc1ktdGhpcy5oZWlnaHQvMTAwKSx0aGlzLnJvb3RFbGVtZW50Lm5vZGUuY29vcmRzaXplPXRoaXMud2lkdGgvc2NhbGUrXCIsXCIrdGhpcy5oZWlnaHQvc2NhbGV9LGp2bS5WTUxTaGFwZUVsZW1lbnQ9ZnVuY3Rpb24obmFtZSxjb25maWcpe2p2bS5WTUxTaGFwZUVsZW1lbnQucGFyZW50Q2xhc3MuY2FsbCh0aGlzLG5hbWUsY29uZmlnKSx0aGlzLmZpbGxFbGVtZW50PW5ldyBqdm0uVk1MRWxlbWVudChcImZpbGxcIiksdGhpcy5zdHJva2VFbGVtZW50PW5ldyBqdm0uVk1MRWxlbWVudChcInN0cm9rZVwiKSx0aGlzLm5vZGUuYXBwZW5kQ2hpbGQodGhpcy5maWxsRWxlbWVudC5ub2RlKSx0aGlzLm5vZGUuYXBwZW5kQ2hpbGQodGhpcy5zdHJva2VFbGVtZW50Lm5vZGUpLHRoaXMubm9kZS5zdHJva2VkPSExLGp2bS5BYnN0cmFjdFNoYXBlRWxlbWVudC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGp2bS5pbmhlcml0cyhqdm0uVk1MU2hhcGVFbGVtZW50LGp2bS5WTUxFbGVtZW50KSxqdm0ubWl4aW4oanZtLlZNTFNoYXBlRWxlbWVudCxqdm0uQWJzdHJhY3RTaGFwZUVsZW1lbnQpLGp2bS5WTUxTaGFwZUVsZW1lbnQucHJvdG90eXBlLmFwcGx5QXR0cj1mdW5jdGlvbihhdHRyLHZhbHVlKXtzd2l0Y2goYXR0cil7Y2FzZVwiZmlsbFwiOnRoaXMubm9kZS5maWxsY29sb3I9dmFsdWU7YnJlYWs7Y2FzZVwiZmlsbC1vcGFjaXR5XCI6dGhpcy5maWxsRWxlbWVudC5ub2RlLm9wYWNpdHk9TWF0aC5yb3VuZCgxMDAqdmFsdWUpK1wiJVwiO2JyZWFrO2Nhc2VcInN0cm9rZVwiOnRoaXMubm9kZS5zdHJva2VkPVwibm9uZVwiPT09dmFsdWU/ITE6ITAsdGhpcy5ub2RlLnN0cm9rZWNvbG9yPXZhbHVlO2JyZWFrO2Nhc2VcInN0cm9rZS1vcGFjaXR5XCI6dGhpcy5zdHJva2VFbGVtZW50Lm5vZGUub3BhY2l0eT1NYXRoLnJvdW5kKDEwMCp2YWx1ZSkrXCIlXCI7YnJlYWs7Y2FzZVwic3Ryb2tlLXdpZHRoXCI6dGhpcy5ub2RlLnN0cm9rZWQ9MD09PXBhcnNlSW50KHZhbHVlLDEwKT8hMTohMCx0aGlzLm5vZGUuc3Ryb2tld2VpZ2h0PXZhbHVlO2JyZWFrO2Nhc2VcImRcIjp0aGlzLm5vZGUucGF0aD1qdm0uVk1MUGF0aEVsZW1lbnQucGF0aFN2Z1RvVm1sKHZhbHVlKTticmVhaztkZWZhdWx0Omp2bS5WTUxTaGFwZUVsZW1lbnQucGFyZW50Q2xhc3MucHJvdG90eXBlLmFwcGx5QXR0ci5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fSxqdm0uVk1MUGF0aEVsZW1lbnQ9ZnVuY3Rpb24oY29uZmlnLHN0eWxlKXt2YXIgc2NhbGU9bmV3IGp2bS5WTUxFbGVtZW50KFwic2tld1wiKTtqdm0uVk1MUGF0aEVsZW1lbnQucGFyZW50Q2xhc3MuY2FsbCh0aGlzLFwic2hhcGVcIixjb25maWcsc3R5bGUpLHRoaXMubm9kZS5jb29yZG9yaWdpbj1cIjAgMFwiLHNjYWxlLm5vZGUub249ITAsc2NhbGUubm9kZS5tYXRyaXg9XCIwLjAxLDAsMCwwLjAxLDAsMFwiLHNjYWxlLm5vZGUub2Zmc2V0PVwiMCwwXCIsdGhpcy5ub2RlLmFwcGVuZENoaWxkKHNjYWxlLm5vZGUpfSxqdm0uaW5oZXJpdHMoanZtLlZNTFBhdGhFbGVtZW50LGp2bS5WTUxTaGFwZUVsZW1lbnQpLGp2bS5WTUxQYXRoRWxlbWVudC5wcm90b3R5cGUuYXBwbHlBdHRyPWZ1bmN0aW9uKGF0dHIsdmFsdWUpe1wiZFwiPT09YXR0cj90aGlzLm5vZGUucGF0aD1qdm0uVk1MUGF0aEVsZW1lbnQucGF0aFN2Z1RvVm1sKHZhbHVlKTpqdm0uVk1MU2hhcGVFbGVtZW50LnByb3RvdHlwZS5hcHBseUF0dHIuY2FsbCh0aGlzLGF0dHIsdmFsdWUpfSxqdm0uVk1MUGF0aEVsZW1lbnQucGF0aFN2Z1RvVm1sPWZ1bmN0aW9uKHBhdGgpe3ZhciBjdHJseCxjdHJseSxjeD0wLGN5PTA7cmV0dXJuIHBhdGg9cGF0aC5yZXBsYWNlKC8oLT9cXGQrKWUoLT9cXGQrKS9nLFwiMFwiKSxwYXRoLnJlcGxhY2UoLyhbTW1MbEhoVnZDY1NzXSlcXHMqKCg/Oi0/XFxkKig/OlxcLlxcZCspP1xccyosP1xccyopKykvZyxmdW5jdGlvbihzZWdtZW50LGxldHRlcixjb29yZHMpe2Nvb3Jkcz1jb29yZHMucmVwbGFjZSgvKFxcZCktL2csXCIkMSwtXCIpLnJlcGxhY2UoL15cXHMrL2csXCJcIikucmVwbGFjZSgvXFxzKyQvZyxcIlwiKS5yZXBsYWNlKC9cXHMrL2csXCIsXCIpLnNwbGl0KFwiLFwiKSxjb29yZHNbMF18fGNvb3Jkcy5zaGlmdCgpO2Zvcih2YXIgaT0wLGw9Y29vcmRzLmxlbmd0aDtsPmk7aSsrKWNvb3Jkc1tpXT1NYXRoLnJvdW5kKDEwMCpjb29yZHNbaV0pO3N3aXRjaChsZXR0ZXIpe2Nhc2VcIm1cIjpyZXR1cm4gY3grPWNvb3Jkc1swXSxjeSs9Y29vcmRzWzFdLFwidFwiK2Nvb3Jkcy5qb2luKFwiLFwiKTtjYXNlXCJNXCI6cmV0dXJuIGN4PWNvb3Jkc1swXSxjeT1jb29yZHNbMV0sXCJtXCIrY29vcmRzLmpvaW4oXCIsXCIpO2Nhc2VcImxcIjpyZXR1cm4gY3grPWNvb3Jkc1swXSxjeSs9Y29vcmRzWzFdLFwiclwiK2Nvb3Jkcy5qb2luKFwiLFwiKTtjYXNlXCJMXCI6cmV0dXJuIGN4PWNvb3Jkc1swXSxjeT1jb29yZHNbMV0sXCJsXCIrY29vcmRzLmpvaW4oXCIsXCIpO2Nhc2VcImhcIjpyZXR1cm4gY3grPWNvb3Jkc1swXSxcInJcIitjb29yZHNbMF0rXCIsMFwiO2Nhc2VcIkhcIjpyZXR1cm4gY3g9Y29vcmRzWzBdLFwibFwiK2N4K1wiLFwiK2N5O2Nhc2VcInZcIjpyZXR1cm4gY3krPWNvb3Jkc1swXSxcInIwLFwiK2Nvb3Jkc1swXTtjYXNlXCJWXCI6cmV0dXJuIGN5PWNvb3Jkc1swXSxcImxcIitjeCtcIixcIitjeTtjYXNlXCJjXCI6cmV0dXJuIGN0cmx4PWN4K2Nvb3Jkc1tjb29yZHMubGVuZ3RoLTRdLGN0cmx5PWN5K2Nvb3Jkc1tjb29yZHMubGVuZ3RoLTNdLGN4Kz1jb29yZHNbY29vcmRzLmxlbmd0aC0yXSxjeSs9Y29vcmRzW2Nvb3Jkcy5sZW5ndGgtMV0sXCJ2XCIrY29vcmRzLmpvaW4oXCIsXCIpO2Nhc2VcIkNcIjpyZXR1cm4gY3RybHg9Y29vcmRzW2Nvb3Jkcy5sZW5ndGgtNF0sY3RybHk9Y29vcmRzW2Nvb3Jkcy5sZW5ndGgtM10sY3g9Y29vcmRzW2Nvb3Jkcy5sZW5ndGgtMl0sY3k9Y29vcmRzW2Nvb3Jkcy5sZW5ndGgtMV0sXCJjXCIrY29vcmRzLmpvaW4oXCIsXCIpO2Nhc2VcInNcIjpyZXR1cm4gY29vcmRzLnVuc2hpZnQoY3ktY3RybHkpLGNvb3Jkcy51bnNoaWZ0KGN4LWN0cmx4KSxjdHJseD1jeCtjb29yZHNbY29vcmRzLmxlbmd0aC00XSxjdHJseT1jeStjb29yZHNbY29vcmRzLmxlbmd0aC0zXSxjeCs9Y29vcmRzW2Nvb3Jkcy5sZW5ndGgtMl0sY3krPWNvb3Jkc1tjb29yZHMubGVuZ3RoLTFdLFwidlwiK2Nvb3Jkcy5qb2luKFwiLFwiKTtjYXNlXCJTXCI6cmV0dXJuIGNvb3Jkcy51bnNoaWZ0KGN5K2N5LWN0cmx5KSxjb29yZHMudW5zaGlmdChjeCtjeC1jdHJseCksY3RybHg9Y29vcmRzW2Nvb3Jkcy5sZW5ndGgtNF0sY3RybHk9Y29vcmRzW2Nvb3Jkcy5sZW5ndGgtM10sY3g9Y29vcmRzW2Nvb3Jkcy5sZW5ndGgtMl0sY3k9Y29vcmRzW2Nvb3Jkcy5sZW5ndGgtMV0sXCJjXCIrY29vcmRzLmpvaW4oXCIsXCIpfXJldHVyblwiXCJ9KS5yZXBsYWNlKC96L2csXCJlXCIpfSxqdm0uVk1MQ2lyY2xlRWxlbWVudD1mdW5jdGlvbihjb25maWcsc3R5bGUpe2p2bS5WTUxDaXJjbGVFbGVtZW50LnBhcmVudENsYXNzLmNhbGwodGhpcyxcIm92YWxcIixjb25maWcsc3R5bGUpfSxqdm0uaW5oZXJpdHMoanZtLlZNTENpcmNsZUVsZW1lbnQsanZtLlZNTFNoYXBlRWxlbWVudCksanZtLlZNTENpcmNsZUVsZW1lbnQucHJvdG90eXBlLmFwcGx5QXR0cj1mdW5jdGlvbihhdHRyLHZhbHVlKXtzd2l0Y2goYXR0cil7Y2FzZVwiclwiOnRoaXMubm9kZS5zdHlsZS53aWR0aD0yKnZhbHVlK1wicHhcIix0aGlzLm5vZGUuc3R5bGUuaGVpZ2h0PTIqdmFsdWUrXCJweFwiLHRoaXMuYXBwbHlBdHRyKFwiY3hcIix0aGlzLmdldChcImN4XCIpfHwwKSx0aGlzLmFwcGx5QXR0cihcImN5XCIsdGhpcy5nZXQoXCJjeVwiKXx8MCk7YnJlYWs7Y2FzZVwiY3hcIjppZighdmFsdWUpcmV0dXJuO3RoaXMubm9kZS5zdHlsZS5sZWZ0PXZhbHVlLSh0aGlzLmdldChcInJcIil8fDApK1wicHhcIjticmVhaztjYXNlXCJjeVwiOmlmKCF2YWx1ZSlyZXR1cm47dGhpcy5ub2RlLnN0eWxlLnRvcD12YWx1ZS0odGhpcy5nZXQoXCJyXCIpfHwwKStcInB4XCI7YnJlYWs7ZGVmYXVsdDpqdm0uVk1MQ2lyY2xlRWxlbWVudC5wYXJlbnRDbGFzcy5wcm90b3R5cGUuYXBwbHlBdHRyLmNhbGwodGhpcyxhdHRyLHZhbHVlKX19LGp2bS5WZWN0b3JDYW52YXM9ZnVuY3Rpb24oY29udGFpbmVyLHdpZHRoLGhlaWdodCl7cmV0dXJuIHRoaXMubW9kZT13aW5kb3cuU1ZHQW5nbGU/XCJzdmdcIjpcInZtbFwiLHRoaXMuaW1wbD1cInN2Z1wiPT10aGlzLm1vZGU/bmV3IGp2bS5TVkdDYW52YXNFbGVtZW50KGNvbnRhaW5lcix3aWR0aCxoZWlnaHQpOm5ldyBqdm0uVk1MQ2FudmFzRWxlbWVudChjb250YWluZXIsd2lkdGgsaGVpZ2h0KSx0aGlzLmltcGwubW9kZT10aGlzLm1vZGUsdGhpcy5pbXBsfSxqdm0uU2ltcGxlU2NhbGU9ZnVuY3Rpb24oc2NhbGUpe3RoaXMuc2NhbGU9c2NhbGV9LGp2bS5TaW1wbGVTY2FsZS5wcm90b3R5cGUuZ2V0VmFsdWU9ZnVuY3Rpb24odmFsdWUpe3JldHVybiB2YWx1ZX0sanZtLk9yZGluYWxTY2FsZT1mdW5jdGlvbihzY2FsZSl7dGhpcy5zY2FsZT1zY2FsZX0sanZtLk9yZGluYWxTY2FsZS5wcm90b3R5cGUuZ2V0VmFsdWU9ZnVuY3Rpb24odmFsdWUpe3JldHVybiB0aGlzLnNjYWxlW3ZhbHVlXX0sanZtLk9yZGluYWxTY2FsZS5wcm90b3R5cGUuZ2V0VGlja3M9ZnVuY3Rpb24oKXt2YXIga2V5LHRpY2tzPVtdO2ZvcihrZXkgaW4gdGhpcy5zY2FsZSl0aWNrcy5wdXNoKHtsYWJlbDprZXksdmFsdWU6dGhpcy5zY2FsZVtrZXldfSk7cmV0dXJuIHRpY2tzfSxqdm0uTnVtZXJpY1NjYWxlPWZ1bmN0aW9uKHNjYWxlLG5vcm1hbGl6ZUZ1bmN0aW9uLG1pblZhbHVlLG1heFZhbHVlKXt0aGlzLnNjYWxlPVtdLG5vcm1hbGl6ZUZ1bmN0aW9uPW5vcm1hbGl6ZUZ1bmN0aW9ufHxcImxpbmVhclwiLHNjYWxlJiZ0aGlzLnNldFNjYWxlKHNjYWxlKSxub3JtYWxpemVGdW5jdGlvbiYmdGhpcy5zZXROb3JtYWxpemVGdW5jdGlvbihub3JtYWxpemVGdW5jdGlvbiksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIG1pblZhbHVlJiZ0aGlzLnNldE1pbihtaW5WYWx1ZSksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIG1heFZhbHVlJiZ0aGlzLnNldE1heChtYXhWYWx1ZSl9LGp2bS5OdW1lcmljU2NhbGUucHJvdG90eXBlPXtzZXRNaW46ZnVuY3Rpb24obWluKXt0aGlzLmNsZWFyTWluVmFsdWU9bWluLHRoaXMubWluVmFsdWU9XCJmdW5jdGlvblwiPT10eXBlb2YgdGhpcy5ub3JtYWxpemU/dGhpcy5ub3JtYWxpemUobWluKTptaW59LHNldE1heDpmdW5jdGlvbihtYXgpe3RoaXMuY2xlYXJNYXhWYWx1ZT1tYXgsdGhpcy5tYXhWYWx1ZT1cImZ1bmN0aW9uXCI9PXR5cGVvZiB0aGlzLm5vcm1hbGl6ZT90aGlzLm5vcm1hbGl6ZShtYXgpOm1heH0sc2V0U2NhbGU6ZnVuY3Rpb24oc2NhbGUpe3ZhciBpO2Zvcih0aGlzLnNjYWxlPVtdLGk9MDtpPHNjYWxlLmxlbmd0aDtpKyspdGhpcy5zY2FsZVtpXT1bc2NhbGVbaV1dfSxzZXROb3JtYWxpemVGdW5jdGlvbjpmdW5jdGlvbihmKXtcInBvbHlub21pYWxcIj09PWY/dGhpcy5ub3JtYWxpemU9ZnVuY3Rpb24odmFsdWUpe3JldHVybiBNYXRoLnBvdyh2YWx1ZSwuMil9OlwibGluZWFyXCI9PT1mP2RlbGV0ZSB0aGlzLm5vcm1hbGl6ZTp0aGlzLm5vcm1hbGl6ZT1mLHRoaXMuc2V0TWluKHRoaXMuY2xlYXJNaW5WYWx1ZSksdGhpcy5zZXRNYXgodGhpcy5jbGVhck1heFZhbHVlKX0sZ2V0VmFsdWU6ZnVuY3Rpb24odmFsdWUpe3ZhciBsLGMsbGVuZ3RoZXM9W10sZnVsbExlbmd0aD0wLGk9MDtmb3IoXCJmdW5jdGlvblwiPT10eXBlb2YgdGhpcy5ub3JtYWxpemUmJih2YWx1ZT10aGlzLm5vcm1hbGl6ZSh2YWx1ZSkpLGk9MDtpPHRoaXMuc2NhbGUubGVuZ3RoLTE7aSsrKWw9dGhpcy52ZWN0b3JMZW5ndGgodGhpcy52ZWN0b3JTdWJ0cmFjdCh0aGlzLnNjYWxlW2krMV0sdGhpcy5zY2FsZVtpXSkpLGxlbmd0aGVzLnB1c2gobCksZnVsbExlbmd0aCs9bDtmb3IoYz0odGhpcy5tYXhWYWx1ZS10aGlzLm1pblZhbHVlKS9mdWxsTGVuZ3RoLGk9MDtpPGxlbmd0aGVzLmxlbmd0aDtpKyspbGVuZ3RoZXNbaV0qPWM7Zm9yKGk9MCx2YWx1ZS09dGhpcy5taW5WYWx1ZTt2YWx1ZS1sZW5ndGhlc1tpXT49MDspdmFsdWUtPWxlbmd0aGVzW2ldLGkrKztyZXR1cm4gdmFsdWU9dGhpcy52ZWN0b3JUb051bShpPT10aGlzLnNjYWxlLmxlbmd0aC0xP3RoaXMuc2NhbGVbaV06dGhpcy52ZWN0b3JBZGQodGhpcy5zY2FsZVtpXSx0aGlzLnZlY3Rvck11bHQodGhpcy52ZWN0b3JTdWJ0cmFjdCh0aGlzLnNjYWxlW2krMV0sdGhpcy5zY2FsZVtpXSksdmFsdWUvbGVuZ3RoZXNbaV0pKSl9LHZlY3RvclRvTnVtOmZ1bmN0aW9uKHZlY3Rvcil7dmFyIGksbnVtPTA7Zm9yKGk9MDtpPHZlY3Rvci5sZW5ndGg7aSsrKW51bSs9TWF0aC5yb3VuZCh2ZWN0b3JbaV0pKk1hdGgucG93KDI1Nix2ZWN0b3IubGVuZ3RoLWktMSk7cmV0dXJuIG51bX0sdmVjdG9yU3VidHJhY3Q6ZnVuY3Rpb24odmVjdG9yMSx2ZWN0b3IyKXt2YXIgaSx2ZWN0b3I9W107Zm9yKGk9MDtpPHZlY3RvcjEubGVuZ3RoO2krKyl2ZWN0b3JbaV09dmVjdG9yMVtpXS12ZWN0b3IyW2ldO3JldHVybiB2ZWN0b3J9LHZlY3RvckFkZDpmdW5jdGlvbih2ZWN0b3IxLHZlY3RvcjIpe3ZhciBpLHZlY3Rvcj1bXTtmb3IoaT0wO2k8dmVjdG9yMS5sZW5ndGg7aSsrKXZlY3RvcltpXT12ZWN0b3IxW2ldK3ZlY3RvcjJbaV07cmV0dXJuIHZlY3Rvcn0sdmVjdG9yTXVsdDpmdW5jdGlvbih2ZWN0b3IsbnVtKXt2YXIgaSxyZXN1bHQ9W107Zm9yKGk9MDtpPHZlY3Rvci5sZW5ndGg7aSsrKXJlc3VsdFtpXT12ZWN0b3JbaV0qbnVtO3JldHVybiByZXN1bHR9LHZlY3Rvckxlbmd0aDpmdW5jdGlvbih2ZWN0b3Ipe3ZhciBpLHJlc3VsdD0wO2ZvcihpPTA7aTx2ZWN0b3IubGVuZ3RoO2krKylyZXN1bHQrPXZlY3RvcltpXSp2ZWN0b3JbaV07cmV0dXJuIE1hdGguc3FydChyZXN1bHQpfSxnZXRUaWNrczpmdW5jdGlvbigpe3ZhciB0aWNrLHYsbT01LGV4dGVudD1bdGhpcy5jbGVhck1pblZhbHVlLHRoaXMuY2xlYXJNYXhWYWx1ZV0sc3Bhbj1leHRlbnRbMV0tZXh0ZW50WzBdLHN0ZXA9TWF0aC5wb3coMTAsTWF0aC5mbG9vcihNYXRoLmxvZyhzcGFuL20pL01hdGguTE4xMCkpLGVycj1tL3NwYW4qc3RlcCx0aWNrcz1bXTtmb3IoLjE1Pj1lcnI/c3RlcCo9MTA6LjM1Pj1lcnI/c3RlcCo9NTouNzU+PWVyciYmKHN0ZXAqPTIpLGV4dGVudFswXT1NYXRoLmZsb29yKGV4dGVudFswXS9zdGVwKSpzdGVwLGV4dGVudFsxXT1NYXRoLmNlaWwoZXh0ZW50WzFdL3N0ZXApKnN0ZXAsdGljaz1leHRlbnRbMF07dGljazw9ZXh0ZW50WzFdOyl2PXRpY2s9PWV4dGVudFswXT90aGlzLmNsZWFyTWluVmFsdWU6dGljaz09ZXh0ZW50WzFdP3RoaXMuY2xlYXJNYXhWYWx1ZTp0aWNrLHRpY2tzLnB1c2goe2xhYmVsOnRpY2ssdmFsdWU6dGhpcy5nZXRWYWx1ZSh2KX0pLHRpY2srPXN0ZXA7cmV0dXJuIHRpY2tzfX0sanZtLkNvbG9yU2NhbGU9ZnVuY3Rpb24oKXtqdm0uQ29sb3JTY2FsZS5wYXJlbnRDbGFzcy5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGp2bS5pbmhlcml0cyhqdm0uQ29sb3JTY2FsZSxqdm0uTnVtZXJpY1NjYWxlKSxqdm0uQ29sb3JTY2FsZS5wcm90b3R5cGUuc2V0U2NhbGU9ZnVuY3Rpb24oc2NhbGUpe3ZhciBpO2ZvcihpPTA7aTxzY2FsZS5sZW5ndGg7aSsrKXRoaXMuc2NhbGVbaV09anZtLkNvbG9yU2NhbGUucmdiVG9BcnJheShzY2FsZVtpXSl9LGp2bS5Db2xvclNjYWxlLnByb3RvdHlwZS5nZXRWYWx1ZT1mdW5jdGlvbih2YWx1ZSl7cmV0dXJuIGp2bS5Db2xvclNjYWxlLm51bVRvUmdiKGp2bS5Db2xvclNjYWxlLnBhcmVudENsYXNzLnByb3RvdHlwZS5nZXRWYWx1ZS5jYWxsKHRoaXMsdmFsdWUpKX0sanZtLkNvbG9yU2NhbGUuYXJyYXlUb1JnYj1mdW5jdGlvbihhcil7dmFyIGQsaSxyZ2I9XCIjXCI7Zm9yKGk9MDtpPGFyLmxlbmd0aDtpKyspZD1hcltpXS50b1N0cmluZygxNikscmdiKz0xPT1kLmxlbmd0aD9cIjBcIitkOmQ7cmV0dXJuIHJnYn0sanZtLkNvbG9yU2NhbGUubnVtVG9SZ2I9ZnVuY3Rpb24obnVtKXtmb3IobnVtPW51bS50b1N0cmluZygxNik7bnVtLmxlbmd0aDw2OyludW09XCIwXCIrbnVtO3JldHVyblwiI1wiK251bX0sanZtLkNvbG9yU2NhbGUucmdiVG9BcnJheT1mdW5jdGlvbihyZ2Ipe3JldHVybiByZ2I9cmdiLnN1YnN0cigxKSxbcGFyc2VJbnQocmdiLnN1YnN0cigwLDIpLDE2KSxwYXJzZUludChyZ2Iuc3Vic3RyKDIsMiksMTYpLHBhcnNlSW50KHJnYi5zdWJzdHIoNCwyKSwxNildfSxqdm0uTGVnZW5kPWZ1bmN0aW9uKHBhcmFtcyl7dGhpcy5wYXJhbXM9cGFyYW1zfHx7fSx0aGlzLm1hcD10aGlzLnBhcmFtcy5tYXAsdGhpcy5zZXJpZXM9dGhpcy5wYXJhbXMuc2VyaWVzLHRoaXMuYm9keT1qdm0uJChcIjxkaXYvPlwiKSx0aGlzLmJvZHkuYWRkQ2xhc3MoXCJqdmVjdG9ybWFwLWxlZ2VuZFwiKSx0aGlzLnBhcmFtcy5jc3NDbGFzcyYmdGhpcy5ib2R5LmFkZENsYXNzKHRoaXMucGFyYW1zLmNzc0NsYXNzKSxwYXJhbXMudmVydGljYWw/dGhpcy5tYXAubGVnZW5kQ250VmVydGljYWwuYXBwZW5kKHRoaXMuYm9keSk6dGhpcy5tYXAubGVnZW5kQ250SG9yaXpvbnRhbC5hcHBlbmQodGhpcy5ib2R5KSx0aGlzLnJlbmRlcigpfSxqdm0uTGVnZW5kLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24oKXt2YXIgaSx0aWNrLHNhbXBsZSxsYWJlbCx0aWNrcz10aGlzLnNlcmllcy5zY2FsZS5nZXRUaWNrcygpLGlubmVyPWp2bS4kKFwiPGRpdi8+XCIpLmFkZENsYXNzKFwianZlY3Rvcm1hcC1sZWdlbmQtaW5uZXJcIik7Zm9yKHRoaXMuYm9keS5odG1sKFwiXCIpLHRoaXMucGFyYW1zLnRpdGxlJiZ0aGlzLmJvZHkuYXBwZW5kKGp2bS4kKFwiPGRpdi8+XCIpLmFkZENsYXNzKFwianZlY3Rvcm1hcC1sZWdlbmQtdGl0bGVcIikuaHRtbCh0aGlzLnBhcmFtcy50aXRsZSkpLHRoaXMuYm9keS5hcHBlbmQoaW5uZXIpLGk9MDtpPHRpY2tzLmxlbmd0aDtpKyspe3N3aXRjaCh0aWNrPWp2bS4kKFwiPGRpdi8+XCIpLmFkZENsYXNzKFwianZlY3Rvcm1hcC1sZWdlbmQtdGlja1wiKSxzYW1wbGU9anZtLiQoXCI8ZGl2Lz5cIikuYWRkQ2xhc3MoXCJqdmVjdG9ybWFwLWxlZ2VuZC10aWNrLXNhbXBsZVwiKSx0aGlzLnNlcmllcy5wYXJhbXMuYXR0cmlidXRlKXtjYXNlXCJmaWxsXCI6anZtLmlzSW1hZ2VVcmwodGlja3NbaV0udmFsdWUpP3NhbXBsZS5jc3MoXCJiYWNrZ3JvdW5kXCIsXCJ1cmwoXCIrdGlja3NbaV0udmFsdWUrXCIpXCIpOnNhbXBsZS5jc3MoXCJiYWNrZ3JvdW5kXCIsdGlja3NbaV0udmFsdWUpO2JyZWFrO2Nhc2VcInN0cm9rZVwiOnNhbXBsZS5jc3MoXCJiYWNrZ3JvdW5kXCIsdGlja3NbaV0udmFsdWUpO2JyZWFrO2Nhc2VcImltYWdlXCI6c2FtcGxlLmNzcyhcImJhY2tncm91bmRcIixcInVybChcIit0aWNrc1tpXS52YWx1ZStcIikgbm8tcmVwZWF0IGNlbnRlciBjZW50ZXJcIik7YnJlYWs7Y2FzZVwiclwiOmp2bS4kKFwiPGRpdi8+XCIpLmNzcyh7XCJib3JkZXItcmFkaXVzXCI6dGlja3NbaV0udmFsdWUsYm9yZGVyOnRoaXMubWFwLnBhcmFtcy5tYXJrZXJTdHlsZS5pbml0aWFsW1wic3Ryb2tlLXdpZHRoXCJdK1wicHggXCIrdGhpcy5tYXAucGFyYW1zLm1hcmtlclN0eWxlLmluaXRpYWwuc3Ryb2tlK1wiIHNvbGlkXCIsd2lkdGg6Mip0aWNrc1tpXS52YWx1ZStcInB4XCIsaGVpZ2h0OjIqdGlja3NbaV0udmFsdWUrXCJweFwiLGJhY2tncm91bmQ6dGhpcy5tYXAucGFyYW1zLm1hcmtlclN0eWxlLmluaXRpYWwuZmlsbH0pLmFwcGVuZFRvKHNhbXBsZSl9dGljay5hcHBlbmQoc2FtcGxlKSxsYWJlbD10aWNrc1tpXS5sYWJlbCx0aGlzLnBhcmFtcy5sYWJlbFJlbmRlciYmKGxhYmVsPXRoaXMucGFyYW1zLmxhYmVsUmVuZGVyKGxhYmVsKSksdGljay5hcHBlbmQoanZtLiQoXCI8ZGl2PlwiK2xhYmVsK1wiIDwvZGl2PlwiKS5hZGRDbGFzcyhcImp2ZWN0b3JtYXAtbGVnZW5kLXRpY2stdGV4dFwiKSksaW5uZXIuYXBwZW5kKHRpY2spfWlubmVyLmFwcGVuZChqdm0uJChcIjxkaXYvPlwiKS5jc3MoXCJjbGVhclwiLFwiYm90aFwiKSl9LGp2bS5EYXRhU2VyaWVzPWZ1bmN0aW9uKHBhcmFtcyxlbGVtZW50cyxtYXApe3ZhciBzY2FsZUNvbnN0cnVjdG9yO3BhcmFtcz1wYXJhbXN8fHt9LHBhcmFtcy5hdHRyaWJ1dGU9cGFyYW1zLmF0dHJpYnV0ZXx8XCJmaWxsXCIsdGhpcy5lbGVtZW50cz1lbGVtZW50cyx0aGlzLnBhcmFtcz1wYXJhbXMsdGhpcy5tYXA9bWFwLHBhcmFtcy5hdHRyaWJ1dGVzJiZ0aGlzLnNldEF0dHJpYnV0ZXMocGFyYW1zLmF0dHJpYnV0ZXMpLGp2bS4kLmlzQXJyYXkocGFyYW1zLnNjYWxlKT8oc2NhbGVDb25zdHJ1Y3Rvcj1cImZpbGxcIj09PXBhcmFtcy5hdHRyaWJ1dGV8fFwic3Ryb2tlXCI9PT1wYXJhbXMuYXR0cmlidXRlP2p2bS5Db2xvclNjYWxlOmp2bS5OdW1lcmljU2NhbGUsdGhpcy5zY2FsZT1uZXcgc2NhbGVDb25zdHJ1Y3RvcihwYXJhbXMuc2NhbGUscGFyYW1zLm5vcm1hbGl6ZUZ1bmN0aW9uLHBhcmFtcy5taW4scGFyYW1zLm1heCkpOnRoaXMuc2NhbGU9cGFyYW1zLnNjYWxlP25ldyBqdm0uT3JkaW5hbFNjYWxlKHBhcmFtcy5zY2FsZSk6bmV3IGp2bS5TaW1wbGVTY2FsZShwYXJhbXMuc2NhbGUpLHRoaXMudmFsdWVzPXBhcmFtcy52YWx1ZXN8fHt9LHRoaXMuc2V0VmFsdWVzKHRoaXMudmFsdWVzKSx0aGlzLnBhcmFtcy5sZWdlbmQmJih0aGlzLmxlZ2VuZD1uZXcganZtLkxlZ2VuZCgkLmV4dGVuZCh7bWFwOnRoaXMubWFwLHNlcmllczp0aGlzfSx0aGlzLnBhcmFtcy5sZWdlbmQpKSl9LGp2bS5EYXRhU2VyaWVzLnByb3RvdHlwZT17c2V0QXR0cmlidXRlczpmdW5jdGlvbihrZXksYXR0cil7dmFyIGNvZGUsYXR0cnM9a2V5O2lmKFwic3RyaW5nXCI9PXR5cGVvZiBrZXkpdGhpcy5lbGVtZW50c1trZXldJiZ0aGlzLmVsZW1lbnRzW2tleV0uc2V0U3R5bGUodGhpcy5wYXJhbXMuYXR0cmlidXRlLGF0dHIpO2Vsc2UgZm9yKGNvZGUgaW4gYXR0cnMpdGhpcy5lbGVtZW50c1tjb2RlXSYmdGhpcy5lbGVtZW50c1tjb2RlXS5lbGVtZW50LnNldFN0eWxlKHRoaXMucGFyYW1zLmF0dHJpYnV0ZSxhdHRyc1tjb2RlXSl9LHNldFZhbHVlczpmdW5jdGlvbih2YWx1ZXMpe3ZhciB2YWwsY2MsbWF4PS1OdW1iZXIuTUFYX1ZBTFVFLG1pbj1OdW1iZXIuTUFYX1ZBTFVFLGF0dHJzPXt9O2lmKHRoaXMuc2NhbGUgaW5zdGFuY2VvZiBqdm0uT3JkaW5hbFNjYWxlfHx0aGlzLnNjYWxlIGluc3RhbmNlb2YganZtLlNpbXBsZVNjYWxlKWZvcihjYyBpbiB2YWx1ZXMpYXR0cnNbY2NdPXZhbHVlc1tjY10/dGhpcy5zY2FsZS5nZXRWYWx1ZSh2YWx1ZXNbY2NdKTp0aGlzLmVsZW1lbnRzW2NjXS5lbGVtZW50LnN0eWxlLmluaXRpYWxbdGhpcy5wYXJhbXMuYXR0cmlidXRlXTtlbHNle2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiB0aGlzLnBhcmFtcy5taW58fFwidW5kZWZpbmVkXCI9PXR5cGVvZiB0aGlzLnBhcmFtcy5tYXgpZm9yKGNjIGluIHZhbHVlcyl2YWw9cGFyc2VGbG9hdCh2YWx1ZXNbY2NdKSx2YWw+bWF4JiYobWF4PXZhbCksbWluPnZhbCYmKG1pbj12YWwpO1widW5kZWZpbmVkXCI9PXR5cGVvZiB0aGlzLnBhcmFtcy5taW4/KHRoaXMuc2NhbGUuc2V0TWluKG1pbiksdGhpcy5wYXJhbXMubWluPW1pbik6dGhpcy5zY2FsZS5zZXRNaW4odGhpcy5wYXJhbXMubWluKSxcInVuZGVmaW5lZFwiPT10eXBlb2YgdGhpcy5wYXJhbXMubWF4Pyh0aGlzLnNjYWxlLnNldE1heChtYXgpLHRoaXMucGFyYW1zLm1heD1tYXgpOnRoaXMuc2NhbGUuc2V0TWF4KHRoaXMucGFyYW1zLm1heCk7Zm9yKGNjIGluIHZhbHVlcylcImluZGV4T2ZcIiE9Y2MmJih2YWw9cGFyc2VGbG9hdCh2YWx1ZXNbY2NdKSxhdHRyc1tjY109aXNOYU4odmFsKT90aGlzLmVsZW1lbnRzW2NjXS5lbGVtZW50LnN0eWxlLmluaXRpYWxbdGhpcy5wYXJhbXMuYXR0cmlidXRlXTp0aGlzLnNjYWxlLmdldFZhbHVlKHZhbCkpfXRoaXMuc2V0QXR0cmlidXRlcyhhdHRycyksanZtLiQuZXh0ZW5kKHRoaXMudmFsdWVzLHZhbHVlcyl9LGNsZWFyOmZ1bmN0aW9uKCl7dmFyIGtleSxhdHRycz17fTtmb3Ioa2V5IGluIHRoaXMudmFsdWVzKXRoaXMuZWxlbWVudHNba2V5XSYmKGF0dHJzW2tleV09dGhpcy5lbGVtZW50c1trZXldLmVsZW1lbnQuc2hhcGUuc3R5bGUuaW5pdGlhbFt0aGlzLnBhcmFtcy5hdHRyaWJ1dGVdKTt0aGlzLnNldEF0dHJpYnV0ZXMoYXR0cnMpLHRoaXMudmFsdWVzPXt9fSxzZXRTY2FsZTpmdW5jdGlvbihzY2FsZSl7dGhpcy5zY2FsZS5zZXRTY2FsZShzY2FsZSksdGhpcy52YWx1ZXMmJnRoaXMuc2V0VmFsdWVzKHRoaXMudmFsdWVzKX0sc2V0Tm9ybWFsaXplRnVuY3Rpb246ZnVuY3Rpb24oZil7dGhpcy5zY2FsZS5zZXROb3JtYWxpemVGdW5jdGlvbihmKSx0aGlzLnZhbHVlcyYmdGhpcy5zZXRWYWx1ZXModGhpcy52YWx1ZXMpfX0sanZtLlByb2o9e2RlZ1JhZDoxODAvTWF0aC5QSSxyYWREZWc6TWF0aC5QSS8xODAscmFkaXVzOjYzODEzNzIsc2duOmZ1bmN0aW9uKG4pe3JldHVybiBuPjA/MTowPm4/LTE6bn0sbWlsbDpmdW5jdGlvbihsYXQsbG5nLGMpe3JldHVybnt4OnRoaXMucmFkaXVzKihsbmctYykqdGhpcy5yYWREZWcseTotdGhpcy5yYWRpdXMqTWF0aC5sb2coTWF0aC50YW4oKDQ1Ky40KmxhdCkqdGhpcy5yYWREZWcpKS8uOH19LG1pbGxfaW52OmZ1bmN0aW9uKHgseSxjKXtyZXR1cm57bGF0OigyLjUqTWF0aC5hdGFuKE1hdGguZXhwKC44KnkvdGhpcy5yYWRpdXMpKS01Kk1hdGguUEkvOCkqdGhpcy5kZWdSYWQsbG5nOihjKnRoaXMucmFkRGVnK3gvdGhpcy5yYWRpdXMpKnRoaXMuZGVnUmFkfX0sbWVyYzpmdW5jdGlvbihsYXQsbG5nLGMpe3JldHVybnt4OnRoaXMucmFkaXVzKihsbmctYykqdGhpcy5yYWREZWcseTotdGhpcy5yYWRpdXMqTWF0aC5sb2coTWF0aC50YW4oTWF0aC5QSS80K2xhdCpNYXRoLlBJLzM2MCkpfX0sbWVyY19pbnY6ZnVuY3Rpb24oeCx5LGMpe3JldHVybntsYXQ6KDIqTWF0aC5hdGFuKE1hdGguZXhwKHkvdGhpcy5yYWRpdXMpKS1NYXRoLlBJLzIpKnRoaXMuZGVnUmFkLGxuZzooYyp0aGlzLnJhZERlZyt4L3RoaXMucmFkaXVzKSp0aGlzLmRlZ1JhZH19LGFlYTpmdW5jdGlvbihsYXQsbG5nLGMpe3ZhciBmaTA9MCxsYW1iZGEwPWMqdGhpcy5yYWREZWcsZmkxPTI5LjUqdGhpcy5yYWREZWcsZmkyPTQ1LjUqdGhpcy5yYWREZWcsZmk9bGF0KnRoaXMucmFkRGVnLGxhbWJkYT1sbmcqdGhpcy5yYWREZWcsbj0oTWF0aC5zaW4oZmkxKStNYXRoLnNpbihmaTIpKS8yLEM9TWF0aC5jb3MoZmkxKSpNYXRoLmNvcyhmaTEpKzIqbipNYXRoLnNpbihmaTEpLHRoZXRhPW4qKGxhbWJkYS1sYW1iZGEwKSxybz1NYXRoLnNxcnQoQy0yKm4qTWF0aC5zaW4oZmkpKS9uLHJvMD1NYXRoLnNxcnQoQy0yKm4qTWF0aC5zaW4oZmkwKSkvbjtyZXR1cm57eDpybypNYXRoLnNpbih0aGV0YSkqdGhpcy5yYWRpdXMseTotKHJvMC1ybypNYXRoLmNvcyh0aGV0YSkpKnRoaXMucmFkaXVzfX0sYWVhX2ludjpmdW5jdGlvbih4Q29vcmQseUNvb3JkLGMpe3ZhciB4PXhDb29yZC90aGlzLnJhZGl1cyx5PXlDb29yZC90aGlzLnJhZGl1cyxmaTA9MCxsYW1iZGEwPWMqdGhpcy5yYWREZWcsZmkxPTI5LjUqdGhpcy5yYWREZWcsZmkyPTQ1LjUqdGhpcy5yYWREZWcsbj0oTWF0aC5zaW4oZmkxKStNYXRoLnNpbihmaTIpKS8yLEM9TWF0aC5jb3MoZmkxKSpNYXRoLmNvcyhmaTEpKzIqbipNYXRoLnNpbihmaTEpLHJvMD1NYXRoLnNxcnQoQy0yKm4qTWF0aC5zaW4oZmkwKSkvbixybz1NYXRoLnNxcnQoeCp4KyhybzAteSkqKHJvMC15KSksdGhldGE9TWF0aC5hdGFuKHgvKHJvMC15KSk7cmV0dXJue2xhdDpNYXRoLmFzaW4oKEMtcm8qcm8qbipuKS8oMipuKSkqdGhpcy5kZWdSYWQsbG5nOihsYW1iZGEwK3RoZXRhL24pKnRoaXMuZGVnUmFkfX0sbGNjOmZ1bmN0aW9uKGxhdCxsbmcsYyl7dmFyIGZpMD0wLGxhbWJkYTA9Yyp0aGlzLnJhZERlZyxsYW1iZGE9bG5nKnRoaXMucmFkRGVnLGZpMT0zMyp0aGlzLnJhZERlZyxmaTI9NDUqdGhpcy5yYWREZWcsZmk9bGF0KnRoaXMucmFkRGVnLG49TWF0aC5sb2coTWF0aC5jb3MoZmkxKSooMS9NYXRoLmNvcyhmaTIpKSkvTWF0aC5sb2coTWF0aC50YW4oTWF0aC5QSS80K2ZpMi8yKSooMS9NYXRoLnRhbihNYXRoLlBJLzQrZmkxLzIpKSksRj1NYXRoLmNvcyhmaTEpKk1hdGgucG93KE1hdGgudGFuKE1hdGguUEkvNCtmaTEvMiksbikvbixybz1GKk1hdGgucG93KDEvTWF0aC50YW4oTWF0aC5QSS80K2ZpLzIpLG4pLHJvMD1GKk1hdGgucG93KDEvTWF0aC50YW4oTWF0aC5QSS80K2ZpMC8yKSxuKTtyZXR1cm57eDpybypNYXRoLnNpbihuKihsYW1iZGEtbGFtYmRhMCkpKnRoaXMucmFkaXVzLHk6LShybzAtcm8qTWF0aC5jb3MobioobGFtYmRhLWxhbWJkYTApKSkqdGhpcy5yYWRpdXN9fSxsY2NfaW52OmZ1bmN0aW9uKHhDb29yZCx5Q29vcmQsYyl7dmFyIHg9eENvb3JkL3RoaXMucmFkaXVzLHk9eUNvb3JkL3RoaXMucmFkaXVzLGZpMD0wLGxhbWJkYTA9Yyp0aGlzLnJhZERlZyxmaTE9MzMqdGhpcy5yYWREZWcsZmkyPTQ1KnRoaXMucmFkRGVnLG49TWF0aC5sb2coTWF0aC5jb3MoZmkxKSooMS9NYXRoLmNvcyhmaTIpKSkvTWF0aC5sb2coTWF0aC50YW4oTWF0aC5QSS80K2ZpMi8yKSooMS9NYXRoLnRhbihNYXRoLlBJLzQrZmkxLzIpKSksRj1NYXRoLmNvcyhmaTEpKk1hdGgucG93KE1hdGgudGFuKE1hdGguUEkvNCtmaTEvMiksbikvbixybzA9RipNYXRoLnBvdygxL01hdGgudGFuKE1hdGguUEkvNCtmaTAvMiksbikscm89dGhpcy5zZ24obikqTWF0aC5zcXJ0KHgqeCsocm8wLXkpKihybzAteSkpLHRoZXRhPU1hdGguYXRhbih4LyhybzAteSkpO3JldHVybntsYXQ6KDIqTWF0aC5hdGFuKE1hdGgucG93KEYvcm8sMS9uKSktTWF0aC5QSS8yKSp0aGlzLmRlZ1JhZCxsbmc6KGxhbWJkYTArdGhldGEvbikqdGhpcy5kZWdSYWR9fX0sanZtLk1hcE9iamVjdD1mdW5jdGlvbigpe30sanZtLk1hcE9iamVjdC5wcm90b3R5cGUuZ2V0TGFiZWxUZXh0PWZ1bmN0aW9uKGtleSl7dmFyIHRleHQ7cmV0dXJuIHRleHQ9dGhpcy5jb25maWcubGFiZWw/XCJmdW5jdGlvblwiPT10eXBlb2YgdGhpcy5jb25maWcubGFiZWwucmVuZGVyP3RoaXMuY29uZmlnLmxhYmVsLnJlbmRlcihrZXkpOmtleTpudWxsfSxqdm0uTWFwT2JqZWN0LnByb3RvdHlwZS5nZXRMYWJlbE9mZnNldHM9ZnVuY3Rpb24oa2V5KXt2YXIgb2Zmc2V0cztyZXR1cm4gdGhpcy5jb25maWcubGFiZWwmJihcImZ1bmN0aW9uXCI9PXR5cGVvZiB0aGlzLmNvbmZpZy5sYWJlbC5vZmZzZXRzP29mZnNldHM9dGhpcy5jb25maWcubGFiZWwub2Zmc2V0cyhrZXkpOlwib2JqZWN0XCI9PXR5cGVvZiB0aGlzLmNvbmZpZy5sYWJlbC5vZmZzZXRzJiYob2Zmc2V0cz10aGlzLmNvbmZpZy5sYWJlbC5vZmZzZXRzW2tleV0pKSxvZmZzZXRzfHxbMCwwXX0sanZtLk1hcE9iamVjdC5wcm90b3R5cGUuc2V0SG92ZXJlZD1mdW5jdGlvbihpc0hvdmVyZWQpe3RoaXMuaXNIb3ZlcmVkIT09aXNIb3ZlcmVkJiYodGhpcy5pc0hvdmVyZWQ9aXNIb3ZlcmVkLHRoaXMuc2hhcGUuaXNIb3ZlcmVkPWlzSG92ZXJlZCx0aGlzLnNoYXBlLnVwZGF0ZVN0eWxlKCksdGhpcy5sYWJlbCYmKHRoaXMubGFiZWwuaXNIb3ZlcmVkPWlzSG92ZXJlZCx0aGlzLmxhYmVsLnVwZGF0ZVN0eWxlKCkpKX0sanZtLk1hcE9iamVjdC5wcm90b3R5cGUuc2V0U2VsZWN0ZWQ9ZnVuY3Rpb24oaXNTZWxlY3RlZCl7dGhpcy5pc1NlbGVjdGVkIT09aXNTZWxlY3RlZCYmKHRoaXMuaXNTZWxlY3RlZD1pc1NlbGVjdGVkLHRoaXMuc2hhcGUuaXNTZWxlY3RlZD1pc1NlbGVjdGVkLHRoaXMuc2hhcGUudXBkYXRlU3R5bGUoKSx0aGlzLmxhYmVsJiYodGhpcy5sYWJlbC5pc1NlbGVjdGVkPWlzU2VsZWN0ZWQsdGhpcy5sYWJlbC51cGRhdGVTdHlsZSgpKSxqdm0uJCh0aGlzLnNoYXBlKS50cmlnZ2VyKFwic2VsZWN0ZWRcIixbaXNTZWxlY3RlZF0pKX0sanZtLk1hcE9iamVjdC5wcm90b3R5cGUuc2V0U3R5bGU9ZnVuY3Rpb24oKXt0aGlzLnNoYXBlLnNldFN0eWxlLmFwcGx5KHRoaXMuc2hhcGUsYXJndW1lbnRzKX0sanZtLk1hcE9iamVjdC5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKCl7dGhpcy5zaGFwZS5yZW1vdmUoKSx0aGlzLmxhYmVsJiZ0aGlzLmxhYmVsLnJlbW92ZSgpfSxqdm0uUmVnaW9uPWZ1bmN0aW9uKGNvbmZpZyl7dmFyIGJib3gsdGV4dCxvZmZzZXRzLHdyYXBwZXI7dGhpcy5jb25maWc9Y29uZmlnLHRoaXMubWFwPXRoaXMuY29uZmlnLm1hcCx3cmFwcGVyPWNvbmZpZy5jYW52YXMuYWRkR3JvdXAoY29uZmlnLmNhbnZhcy5yb290RWxlbWVudCksdGhpcy5zaGFwZT1jb25maWcuY2FudmFzLmFkZFBhdGgoe2Q6Y29uZmlnLnBhdGh9LGNvbmZpZy5zdHlsZSx3cmFwcGVyKTt2YXIgaW52aXNpYmxlU2hhcGU9Y29uZmlnLmNhbnZhcy5hZGRQYXRoKHtkOmNvbmZpZy5wYXRoLFwiZGF0YS1jb2RlXCI6Y29uZmlnLmNvZGV9LHtpbml0aWFsOntmaWxsOlwidHJhbnNwYXJlbnRcIixcbnN0cm9rZTpcInRyYW5zcGFyZW50XCIsXCJzdHJva2Utd2lkdGhcIjpjb25maWcubWFyZ2lufX0sd3JhcHBlcik7aW52aXNpYmxlU2hhcGUuYWRkQ2xhc3MoXCJqdmVjdG9ybWFwLXJlZ2lvbiBqdmVjdG9ybWFwLWVsZW1lbnRcIiksYmJveD10aGlzLnNoYXBlLmdldEJCb3goKSx0ZXh0PXRoaXMuZ2V0TGFiZWxUZXh0KGNvbmZpZy5jb2RlKSx0aGlzLmNvbmZpZy5sYWJlbCYmdGV4dCYmKG9mZnNldHM9dGhpcy5nZXRMYWJlbE9mZnNldHMoY29uZmlnLmNvZGUpLHRoaXMubGFiZWxYPWJib3gueCtiYm94LndpZHRoLzIrb2Zmc2V0c1swXSx0aGlzLmxhYmVsWT1iYm94LnkrYmJveC5oZWlnaHQvMitvZmZzZXRzWzFdLHRoaXMubGFiZWw9Y29uZmlnLmNhbnZhcy5hZGRUZXh0KHt0ZXh0OnRleHQsXCJ0ZXh0LWFuY2hvclwiOlwibWlkZGxlXCIsXCJhbGlnbm1lbnQtYmFzZWxpbmVcIjpcImNlbnRyYWxcIix4OnRoaXMubGFiZWxYLHk6dGhpcy5sYWJlbFksXCJkYXRhLWNvZGVcIjpjb25maWcuY29kZX0sY29uZmlnLmxhYmVsU3R5bGUsY29uZmlnLmxhYmVsc0dyb3VwKSx0aGlzLmxhYmVsLmFkZENsYXNzKFwianZlY3Rvcm1hcC1yZWdpb24ganZlY3Rvcm1hcC1lbGVtZW50XCIpKX0sanZtLmluaGVyaXRzKGp2bS5SZWdpb24sanZtLk1hcE9iamVjdCksanZtLlJlZ2lvbi5wcm90b3R5cGUudXBkYXRlTGFiZWxQb3NpdGlvbj1mdW5jdGlvbigpe3RoaXMubGFiZWwmJnRoaXMubGFiZWwuc2V0KHt4OnRoaXMubGFiZWxYKnRoaXMubWFwLnNjYWxlK3RoaXMubWFwLnRyYW5zWCp0aGlzLm1hcC5zY2FsZSx5OnRoaXMubGFiZWxZKnRoaXMubWFwLnNjYWxlK3RoaXMubWFwLnRyYW5zWSp0aGlzLm1hcC5zY2FsZX0pfSxqdm0uTWFya2VyPWZ1bmN0aW9uKGNvbmZpZyl7dmFyIHRleHQ7dGhpcy5jb25maWc9Y29uZmlnLHRoaXMubWFwPXRoaXMuY29uZmlnLm1hcCx0aGlzLmlzSW1hZ2U9ISF0aGlzLmNvbmZpZy5zdHlsZS5pbml0aWFsLmltYWdlLHRoaXMuY3JlYXRlU2hhcGUoKSx0ZXh0PXRoaXMuZ2V0TGFiZWxUZXh0KGNvbmZpZy5pbmRleCksdGhpcy5jb25maWcubGFiZWwmJnRleHQmJih0aGlzLm9mZnNldHM9dGhpcy5nZXRMYWJlbE9mZnNldHMoY29uZmlnLmluZGV4KSx0aGlzLmxhYmVsWD1jb25maWcuY3gvdGhpcy5tYXAuc2NhbGUtdGhpcy5tYXAudHJhbnNYLHRoaXMubGFiZWxZPWNvbmZpZy5jeS90aGlzLm1hcC5zY2FsZS10aGlzLm1hcC50cmFuc1ksdGhpcy5sYWJlbD1jb25maWcuY2FudmFzLmFkZFRleHQoe3RleHQ6dGV4dCxcImRhdGEtaW5kZXhcIjpjb25maWcuaW5kZXgsZHk6XCIwLjZleFwiLHg6dGhpcy5sYWJlbFgseTp0aGlzLmxhYmVsWX0sY29uZmlnLmxhYmVsU3R5bGUsY29uZmlnLmxhYmVsc0dyb3VwKSx0aGlzLmxhYmVsLmFkZENsYXNzKFwianZlY3Rvcm1hcC1tYXJrZXIganZlY3Rvcm1hcC1lbGVtZW50XCIpKX0sanZtLmluaGVyaXRzKGp2bS5NYXJrZXIsanZtLk1hcE9iamVjdCksanZtLk1hcmtlci5wcm90b3R5cGUuY3JlYXRlU2hhcGU9ZnVuY3Rpb24oKXt2YXIgdGhhdD10aGlzO3RoaXMuc2hhcGUmJnRoaXMuc2hhcGUucmVtb3ZlKCksdGhpcy5zaGFwZT10aGlzLmNvbmZpZy5jYW52YXNbdGhpcy5pc0ltYWdlP1wiYWRkSW1hZ2VcIjpcImFkZENpcmNsZVwiXSh7XCJkYXRhLWluZGV4XCI6dGhpcy5jb25maWcuaW5kZXgsY3g6dGhpcy5jb25maWcuY3gsY3k6dGhpcy5jb25maWcuY3l9LHRoaXMuY29uZmlnLnN0eWxlLHRoaXMuY29uZmlnLmdyb3VwKSx0aGlzLnNoYXBlLmFkZENsYXNzKFwianZlY3Rvcm1hcC1tYXJrZXIganZlY3Rvcm1hcC1lbGVtZW50XCIpLHRoaXMuaXNJbWFnZSYmanZtLiQodGhpcy5zaGFwZS5ub2RlKS5vbihcImltYWdlbG9hZGVkXCIsZnVuY3Rpb24oKXt0aGF0LnVwZGF0ZUxhYmVsUG9zaXRpb24oKX0pfSxqdm0uTWFya2VyLnByb3RvdHlwZS51cGRhdGVMYWJlbFBvc2l0aW9uPWZ1bmN0aW9uKCl7dGhpcy5sYWJlbCYmdGhpcy5sYWJlbC5zZXQoe3g6dGhpcy5sYWJlbFgqdGhpcy5tYXAuc2NhbGUrdGhpcy5vZmZzZXRzWzBdK3RoaXMubWFwLnRyYW5zWCp0aGlzLm1hcC5zY2FsZSs1Kyh0aGlzLmlzSW1hZ2U/KHRoaXMuc2hhcGUud2lkdGh8fDApLzI6dGhpcy5zaGFwZS5wcm9wZXJ0aWVzLnIpLHk6dGhpcy5sYWJlbFkqdGhpcy5tYXAuc2NhbGUrdGhpcy5tYXAudHJhbnNZKnRoaXMubWFwLnNjYWxlK3RoaXMub2Zmc2V0c1sxXX0pfSxqdm0uTWFya2VyLnByb3RvdHlwZS5zZXRTdHlsZT1mdW5jdGlvbihwcm9wZXJ0eSl7dmFyIGlzSW1hZ2U7anZtLk1hcmtlci5wYXJlbnRDbGFzcy5wcm90b3R5cGUuc2V0U3R5bGUuYXBwbHkodGhpcyxhcmd1bWVudHMpLFwiclwiPT09cHJvcGVydHkmJnRoaXMudXBkYXRlTGFiZWxQb3NpdGlvbigpLGlzSW1hZ2U9ISF0aGlzLnNoYXBlLmdldChcImltYWdlXCIpLGlzSW1hZ2UhPXRoaXMuaXNJbWFnZSYmKHRoaXMuaXNJbWFnZT1pc0ltYWdlLHRoaXMuY29uZmlnLnN0eWxlPWp2bS4kLmV4dGVuZCghMCx7fSx0aGlzLnNoYXBlLnN0eWxlKSx0aGlzLmNyZWF0ZVNoYXBlKCkpfSxqdm0uTWFwPWZ1bmN0aW9uKHBhcmFtcyl7dmFyIGUsbWFwPXRoaXM7aWYodGhpcy5wYXJhbXM9anZtLiQuZXh0ZW5kKCEwLHt9LGp2bS5NYXAuZGVmYXVsdFBhcmFtcyxwYXJhbXMpLCFqdm0uTWFwLm1hcHNbdGhpcy5wYXJhbXMubWFwXSl0aHJvdyBuZXcgRXJyb3IoXCJBdHRlbXB0IHRvIHVzZSBtYXAgd2hpY2ggd2FzIG5vdCBsb2FkZWQ6IFwiK3RoaXMucGFyYW1zLm1hcCk7dGhpcy5tYXBEYXRhPWp2bS5NYXAubWFwc1t0aGlzLnBhcmFtcy5tYXBdLHRoaXMubWFya2Vycz17fSx0aGlzLnJlZ2lvbnM9e30sdGhpcy5yZWdpb25zQ29sb3JzPXt9LHRoaXMucmVnaW9uc0RhdGE9e30sdGhpcy5jb250YWluZXI9anZtLiQoXCI8ZGl2PlwiKS5hZGRDbGFzcyhcImp2ZWN0b3JtYXAtY29udGFpbmVyXCIpLHRoaXMucGFyYW1zLmNvbnRhaW5lciYmdGhpcy5wYXJhbXMuY29udGFpbmVyLmFwcGVuZCh0aGlzLmNvbnRhaW5lciksdGhpcy5jb250YWluZXIuZGF0YShcIm1hcE9iamVjdFwiLHRoaXMpLHRoaXMuZGVmYXVsdFdpZHRoPXRoaXMubWFwRGF0YS53aWR0aCx0aGlzLmRlZmF1bHRIZWlnaHQ9dGhpcy5tYXBEYXRhLmhlaWdodCx0aGlzLnNldEJhY2tncm91bmRDb2xvcih0aGlzLnBhcmFtcy5iYWNrZ3JvdW5kQ29sb3IpLHRoaXMub25SZXNpemU9ZnVuY3Rpb24oKXttYXAudXBkYXRlU2l6ZSgpfSxqdm0uJCh3aW5kb3cpLnJlc2l6ZSh0aGlzLm9uUmVzaXplKTtmb3IoZSBpbiBqdm0uTWFwLmFwaUV2ZW50cyl0aGlzLnBhcmFtc1tlXSYmdGhpcy5jb250YWluZXIuYmluZChqdm0uTWFwLmFwaUV2ZW50c1tlXStcIi5qdmVjdG9ybWFwXCIsdGhpcy5wYXJhbXNbZV0pO3RoaXMuY2FudmFzPW5ldyBqdm0uVmVjdG9yQ2FudmFzKHRoaXMuY29udGFpbmVyWzBdLHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpLHRoaXMucGFyYW1zLmJpbmRUb3VjaEV2ZW50cyYmKFwib250b3VjaHN0YXJ0XCJpbiB3aW5kb3d8fHdpbmRvdy5Eb2N1bWVudFRvdWNoJiZkb2N1bWVudCBpbnN0YW5jZW9mIERvY3VtZW50VG91Y2g/dGhpcy5iaW5kQ29udGFpbmVyVG91Y2hFdmVudHMoKTp3aW5kb3cuTVNHZXN0dXJlJiZ0aGlzLmJpbmRDb250YWluZXJQb2ludGVyRXZlbnRzKCkpLHRoaXMuYmluZENvbnRhaW5lckV2ZW50cygpLHRoaXMuYmluZEVsZW1lbnRFdmVudHMoKSx0aGlzLmNyZWF0ZVRpcCgpLHRoaXMucGFyYW1zLnpvb21CdXR0b25zJiZ0aGlzLmJpbmRab29tQnV0dG9ucygpLHRoaXMuY3JlYXRlUmVnaW9ucygpLHRoaXMuY3JlYXRlTWFya2Vycyh0aGlzLnBhcmFtcy5tYXJrZXJzfHx7fSksdGhpcy51cGRhdGVTaXplKCksdGhpcy5wYXJhbXMuZm9jdXNPbiYmKFwic3RyaW5nXCI9PXR5cGVvZiB0aGlzLnBhcmFtcy5mb2N1c09uP3RoaXMucGFyYW1zLmZvY3VzT249e3JlZ2lvbjp0aGlzLnBhcmFtcy5mb2N1c09ufTpqdm0uJC5pc0FycmF5KHRoaXMucGFyYW1zLmZvY3VzT24pJiYodGhpcy5wYXJhbXMuZm9jdXNPbj17cmVnaW9uczp0aGlzLnBhcmFtcy5mb2N1c09ufSksdGhpcy5zZXRGb2N1cyh0aGlzLnBhcmFtcy5mb2N1c09uKSksdGhpcy5wYXJhbXMuc2VsZWN0ZWRSZWdpb25zJiZ0aGlzLnNldFNlbGVjdGVkUmVnaW9ucyh0aGlzLnBhcmFtcy5zZWxlY3RlZFJlZ2lvbnMpLHRoaXMucGFyYW1zLnNlbGVjdGVkTWFya2VycyYmdGhpcy5zZXRTZWxlY3RlZE1hcmtlcnModGhpcy5wYXJhbXMuc2VsZWN0ZWRNYXJrZXJzKSx0aGlzLmxlZ2VuZENudEhvcml6b250YWw9anZtLiQoXCI8ZGl2Lz5cIikuYWRkQ2xhc3MoXCJqdmVjdG9ybWFwLWxlZ2VuZC1jbnQganZlY3Rvcm1hcC1sZWdlbmQtY250LWhcIiksdGhpcy5sZWdlbmRDbnRWZXJ0aWNhbD1qdm0uJChcIjxkaXYvPlwiKS5hZGRDbGFzcyhcImp2ZWN0b3JtYXAtbGVnZW5kLWNudCBqdmVjdG9ybWFwLWxlZ2VuZC1jbnQtdlwiKSx0aGlzLmNvbnRhaW5lci5hcHBlbmQodGhpcy5sZWdlbmRDbnRIb3Jpem9udGFsKSx0aGlzLmNvbnRhaW5lci5hcHBlbmQodGhpcy5sZWdlbmRDbnRWZXJ0aWNhbCksdGhpcy5wYXJhbXMuc2VyaWVzJiZ0aGlzLmNyZWF0ZVNlcmllcygpfSxqdm0uTWFwLnByb3RvdHlwZT17dHJhbnNYOjAsdHJhbnNZOjAsc2NhbGU6MSxiYXNlVHJhbnNYOjAsYmFzZVRyYW5zWTowLGJhc2VTY2FsZToxLHdpZHRoOjAsaGVpZ2h0OjAsc2V0QmFja2dyb3VuZENvbG9yOmZ1bmN0aW9uKGJhY2tncm91bmRDb2xvcil7dGhpcy5jb250YWluZXIuY3NzKFwiYmFja2dyb3VuZC1jb2xvclwiLGJhY2tncm91bmRDb2xvcil9LHJlc2l6ZTpmdW5jdGlvbigpe3ZhciBjdXJCYXNlU2NhbGU9dGhpcy5iYXNlU2NhbGU7dGhpcy53aWR0aC90aGlzLmhlaWdodD50aGlzLmRlZmF1bHRXaWR0aC90aGlzLmRlZmF1bHRIZWlnaHQ/KHRoaXMuYmFzZVNjYWxlPXRoaXMuaGVpZ2h0L3RoaXMuZGVmYXVsdEhlaWdodCx0aGlzLmJhc2VUcmFuc1g9TWF0aC5hYnModGhpcy53aWR0aC10aGlzLmRlZmF1bHRXaWR0aCp0aGlzLmJhc2VTY2FsZSkvKDIqdGhpcy5iYXNlU2NhbGUpKToodGhpcy5iYXNlU2NhbGU9dGhpcy53aWR0aC90aGlzLmRlZmF1bHRXaWR0aCx0aGlzLmJhc2VUcmFuc1k9TWF0aC5hYnModGhpcy5oZWlnaHQtdGhpcy5kZWZhdWx0SGVpZ2h0KnRoaXMuYmFzZVNjYWxlKS8oMip0aGlzLmJhc2VTY2FsZSkpLHRoaXMuc2NhbGUqPXRoaXMuYmFzZVNjYWxlL2N1ckJhc2VTY2FsZSx0aGlzLnRyYW5zWCo9dGhpcy5iYXNlU2NhbGUvY3VyQmFzZVNjYWxlLHRoaXMudHJhbnNZKj10aGlzLmJhc2VTY2FsZS9jdXJCYXNlU2NhbGV9LHVwZGF0ZVNpemU6ZnVuY3Rpb24oKXt0aGlzLndpZHRoPXRoaXMuY29udGFpbmVyLndpZHRoKCksdGhpcy5oZWlnaHQ9dGhpcy5jb250YWluZXIuaGVpZ2h0KCksdGhpcy5yZXNpemUoKSx0aGlzLmNhbnZhcy5zZXRTaXplKHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpLHRoaXMuYXBwbHlUcmFuc2Zvcm0oKX0scmVzZXQ6ZnVuY3Rpb24oKXt2YXIga2V5LGk7Zm9yKGtleSBpbiB0aGlzLnNlcmllcylmb3IoaT0wO2k8dGhpcy5zZXJpZXNba2V5XS5sZW5ndGg7aSsrKXRoaXMuc2VyaWVzW2tleV1baV0uY2xlYXIoKTt0aGlzLnNjYWxlPXRoaXMuYmFzZVNjYWxlLHRoaXMudHJhbnNYPXRoaXMuYmFzZVRyYW5zWCx0aGlzLnRyYW5zWT10aGlzLmJhc2VUcmFuc1ksdGhpcy5hcHBseVRyYW5zZm9ybSgpfSxhcHBseVRyYW5zZm9ybTpmdW5jdGlvbigpe3ZhciBtYXhUcmFuc1gsbWF4VHJhbnNZLG1pblRyYW5zWCxtaW5UcmFuc1k7dGhpcy5kZWZhdWx0V2lkdGgqdGhpcy5zY2FsZTw9dGhpcy53aWR0aD8obWF4VHJhbnNYPSh0aGlzLndpZHRoLXRoaXMuZGVmYXVsdFdpZHRoKnRoaXMuc2NhbGUpLygyKnRoaXMuc2NhbGUpLG1pblRyYW5zWD0odGhpcy53aWR0aC10aGlzLmRlZmF1bHRXaWR0aCp0aGlzLnNjYWxlKS8oMip0aGlzLnNjYWxlKSk6KG1heFRyYW5zWD0wLG1pblRyYW5zWD0odGhpcy53aWR0aC10aGlzLmRlZmF1bHRXaWR0aCp0aGlzLnNjYWxlKS90aGlzLnNjYWxlKSx0aGlzLmRlZmF1bHRIZWlnaHQqdGhpcy5zY2FsZTw9dGhpcy5oZWlnaHQ/KG1heFRyYW5zWT0odGhpcy5oZWlnaHQtdGhpcy5kZWZhdWx0SGVpZ2h0KnRoaXMuc2NhbGUpLygyKnRoaXMuc2NhbGUpLG1pblRyYW5zWT0odGhpcy5oZWlnaHQtdGhpcy5kZWZhdWx0SGVpZ2h0KnRoaXMuc2NhbGUpLygyKnRoaXMuc2NhbGUpKToobWF4VHJhbnNZPTAsbWluVHJhbnNZPSh0aGlzLmhlaWdodC10aGlzLmRlZmF1bHRIZWlnaHQqdGhpcy5zY2FsZSkvdGhpcy5zY2FsZSksdGhpcy50cmFuc1k+bWF4VHJhbnNZP3RoaXMudHJhbnNZPW1heFRyYW5zWTp0aGlzLnRyYW5zWTxtaW5UcmFuc1kmJih0aGlzLnRyYW5zWT1taW5UcmFuc1kpLHRoaXMudHJhbnNYPm1heFRyYW5zWD90aGlzLnRyYW5zWD1tYXhUcmFuc1g6dGhpcy50cmFuc1g8bWluVHJhbnNYJiYodGhpcy50cmFuc1g9bWluVHJhbnNYKSx0aGlzLmNhbnZhcy5hcHBseVRyYW5zZm9ybVBhcmFtcyh0aGlzLnNjYWxlLHRoaXMudHJhbnNYLHRoaXMudHJhbnNZKSx0aGlzLm1hcmtlcnMmJnRoaXMucmVwb3NpdGlvbk1hcmtlcnMoKSx0aGlzLnJlcG9zaXRpb25MYWJlbHMoKSx0aGlzLmNvbnRhaW5lci50cmlnZ2VyKFwidmlld3BvcnRDaGFuZ2VcIixbdGhpcy5zY2FsZS90aGlzLmJhc2VTY2FsZSx0aGlzLnRyYW5zWCx0aGlzLnRyYW5zWV0pfSxiaW5kQ29udGFpbmVyRXZlbnRzOmZ1bmN0aW9uKCl7dmFyIG9sZFBhZ2VYLG9sZFBhZ2VZLG1vdXNlRG93bj0hMSxtYXA9dGhpczt0aGlzLnBhcmFtcy5wYW5PbkRyYWcmJih0aGlzLmNvbnRhaW5lci5tb3VzZW1vdmUoZnVuY3Rpb24oZSl7cmV0dXJuIG1vdXNlRG93biYmKG1hcC50cmFuc1gtPShvbGRQYWdlWC1lLnBhZ2VYKS9tYXAuc2NhbGUsbWFwLnRyYW5zWS09KG9sZFBhZ2VZLWUucGFnZVkpL21hcC5zY2FsZSxtYXAuYXBwbHlUcmFuc2Zvcm0oKSxvbGRQYWdlWD1lLnBhZ2VYLG9sZFBhZ2VZPWUucGFnZVkpLCExfSkubW91c2Vkb3duKGZ1bmN0aW9uKGUpe3JldHVybiBtb3VzZURvd249ITAsb2xkUGFnZVg9ZS5wYWdlWCxvbGRQYWdlWT1lLnBhZ2VZLCExfSksdGhpcy5vbkNvbnRhaW5lck1vdXNlVXA9ZnVuY3Rpb24oKXttb3VzZURvd249ITF9LGp2bS4kKFwiYm9keVwiKS5tb3VzZXVwKHRoaXMub25Db250YWluZXJNb3VzZVVwKSksdGhpcy5wYXJhbXMuem9vbU9uU2Nyb2xsJiZ0aGlzLmNvbnRhaW5lci5tb3VzZXdoZWVsKGZ1bmN0aW9uKGV2ZW50KXt2YXIgb2Zmc2V0PWp2bS4kKG1hcC5jb250YWluZXIpLm9mZnNldCgpLGNlbnRlclg9ZXZlbnQucGFnZVgtb2Zmc2V0LmxlZnQsY2VudGVyWT1ldmVudC5wYWdlWS1vZmZzZXQudG9wLHpvb21TdGVwPU1hdGgucG93KDErbWFwLnBhcmFtcy56b29tT25TY3JvbGxTcGVlZC8xZTMsZXZlbnQuZGVsdGFGYWN0b3IqZXZlbnQuZGVsdGFZKTttYXAudGlwLmhpZGUoKSxtYXAuc2V0U2NhbGUobWFwLnNjYWxlKnpvb21TdGVwLGNlbnRlclgsY2VudGVyWSksZXZlbnQucHJldmVudERlZmF1bHQoKX0pfSxiaW5kQ29udGFpbmVyVG91Y2hFdmVudHM6ZnVuY3Rpb24oKXt2YXIgdG91Y2hTdGFydFNjYWxlLHRvdWNoU3RhcnREaXN0YW5jZSx0b3VjaFgsdG91Y2hZLGNlbnRlclRvdWNoWCxjZW50ZXJUb3VjaFksbGFzdFRvdWNoZXNMZW5ndGgsbWFwPXRoaXMsaGFuZGxlVG91Y2hFdmVudD1mdW5jdGlvbihlKXt2YXIgb2Zmc2V0LHNjYWxlLHRyYW5zWE9sZCx0cmFuc1lPbGQsdG91Y2hlcz1lLm9yaWdpbmFsRXZlbnQudG91Y2hlcztcInRvdWNoc3RhcnRcIj09ZS50eXBlJiYobGFzdFRvdWNoZXNMZW5ndGg9MCksMT09dG91Y2hlcy5sZW5ndGg/KDE9PWxhc3RUb3VjaGVzTGVuZ3RoJiYodHJhbnNYT2xkPW1hcC50cmFuc1gsdHJhbnNZT2xkPW1hcC50cmFuc1ksbWFwLnRyYW5zWC09KHRvdWNoWC10b3VjaGVzWzBdLnBhZ2VYKS9tYXAuc2NhbGUsbWFwLnRyYW5zWS09KHRvdWNoWS10b3VjaGVzWzBdLnBhZ2VZKS9tYXAuc2NhbGUsbWFwLmFwcGx5VHJhbnNmb3JtKCksbWFwLnRpcC5oaWRlKCksKHRyYW5zWE9sZCE9bWFwLnRyYW5zWHx8dHJhbnNZT2xkIT1tYXAudHJhbnNZKSYmZS5wcmV2ZW50RGVmYXVsdCgpKSx0b3VjaFg9dG91Y2hlc1swXS5wYWdlWCx0b3VjaFk9dG91Y2hlc1swXS5wYWdlWSk6Mj09dG91Y2hlcy5sZW5ndGgmJigyPT1sYXN0VG91Y2hlc0xlbmd0aD8oc2NhbGU9TWF0aC5zcXJ0KE1hdGgucG93KHRvdWNoZXNbMF0ucGFnZVgtdG91Y2hlc1sxXS5wYWdlWCwyKStNYXRoLnBvdyh0b3VjaGVzWzBdLnBhZ2VZLXRvdWNoZXNbMV0ucGFnZVksMikpL3RvdWNoU3RhcnREaXN0YW5jZSxtYXAuc2V0U2NhbGUodG91Y2hTdGFydFNjYWxlKnNjYWxlLGNlbnRlclRvdWNoWCxjZW50ZXJUb3VjaFkpLG1hcC50aXAuaGlkZSgpLGUucHJldmVudERlZmF1bHQoKSk6KG9mZnNldD1qdm0uJChtYXAuY29udGFpbmVyKS5vZmZzZXQoKSxjZW50ZXJUb3VjaFg9dG91Y2hlc1swXS5wYWdlWD50b3VjaGVzWzFdLnBhZ2VYP3RvdWNoZXNbMV0ucGFnZVgrKHRvdWNoZXNbMF0ucGFnZVgtdG91Y2hlc1sxXS5wYWdlWCkvMjp0b3VjaGVzWzBdLnBhZ2VYKyh0b3VjaGVzWzFdLnBhZ2VYLXRvdWNoZXNbMF0ucGFnZVgpLzIsY2VudGVyVG91Y2hZPXRvdWNoZXNbMF0ucGFnZVk+dG91Y2hlc1sxXS5wYWdlWT90b3VjaGVzWzFdLnBhZ2VZKyh0b3VjaGVzWzBdLnBhZ2VZLXRvdWNoZXNbMV0ucGFnZVkpLzI6dG91Y2hlc1swXS5wYWdlWSsodG91Y2hlc1sxXS5wYWdlWS10b3VjaGVzWzBdLnBhZ2VZKS8yLGNlbnRlclRvdWNoWC09b2Zmc2V0LmxlZnQsY2VudGVyVG91Y2hZLT1vZmZzZXQudG9wLHRvdWNoU3RhcnRTY2FsZT1tYXAuc2NhbGUsdG91Y2hTdGFydERpc3RhbmNlPU1hdGguc3FydChNYXRoLnBvdyh0b3VjaGVzWzBdLnBhZ2VYLXRvdWNoZXNbMV0ucGFnZVgsMikrTWF0aC5wb3codG91Y2hlc1swXS5wYWdlWS10b3VjaGVzWzFdLnBhZ2VZLDIpKSkpLGxhc3RUb3VjaGVzTGVuZ3RoPXRvdWNoZXMubGVuZ3RofTtqdm0uJCh0aGlzLmNvbnRhaW5lcikuYmluZChcInRvdWNoc3RhcnRcIixoYW5kbGVUb3VjaEV2ZW50KSxqdm0uJCh0aGlzLmNvbnRhaW5lcikuYmluZChcInRvdWNobW92ZVwiLGhhbmRsZVRvdWNoRXZlbnQpfSxiaW5kQ29udGFpbmVyUG9pbnRlckV2ZW50czpmdW5jdGlvbigpe3ZhciBtYXA9dGhpcyxnZXN0dXJlPW5ldyBNU0dlc3R1cmUsZWxlbWVudD10aGlzLmNvbnRhaW5lclswXSxoYW5kbGVQb2ludGVyRG93bkV2ZW50PWZ1bmN0aW9uKGUpe2dlc3R1cmUuYWRkUG9pbnRlcihlLnBvaW50ZXJJZCl9LGhhbmRsZUdlc3R1cmVFdmVudD1mdW5jdGlvbihlKXt2YXIgdHJhbnNYT2xkLHRyYW5zWU9sZDsoMCE9ZS50cmFuc2xhdGlvblh8fDAhPWUudHJhbnNsYXRpb25ZKSYmKHRyYW5zWE9sZD1tYXAudHJhbnNYLHRyYW5zWU9sZD1tYXAudHJhbnNZLG1hcC50cmFuc1grPWUudHJhbnNsYXRpb25YL21hcC5zY2FsZSxtYXAudHJhbnNZKz1lLnRyYW5zbGF0aW9uWS9tYXAuc2NhbGUsbWFwLmFwcGx5VHJhbnNmb3JtKCksbWFwLnRpcC5oaWRlKCksKHRyYW5zWE9sZCE9bWFwLnRyYW5zWHx8dHJhbnNZT2xkIT1tYXAudHJhbnNZKSYmZS5wcmV2ZW50RGVmYXVsdCgpKSwxIT1lLnNjYWxlJiYobWFwLnNldFNjYWxlKG1hcC5zY2FsZSplLnNjYWxlLGUub2Zmc2V0WCxlLm9mZnNldFkpLG1hcC50aXAuaGlkZSgpLGUucHJldmVudERlZmF1bHQoKSl9O2dlc3R1cmUudGFyZ2V0PWVsZW1lbnQsZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiTVNHZXN0dXJlQ2hhbmdlXCIsaGFuZGxlR2VzdHVyZUV2ZW50LCExKSxlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJwb2ludGVyZG93blwiLGhhbmRsZVBvaW50ZXJEb3duRXZlbnQsITEpfSxiaW5kRWxlbWVudEV2ZW50czpmdW5jdGlvbigpe3ZhciBwYWdlWCxwYWdlWSxtb3VzZU1vdmVkLG1hcD10aGlzO3RoaXMuY29udGFpbmVyLm1vdXNlbW92ZShmdW5jdGlvbihlKXtNYXRoLmFicyhwYWdlWC1lLnBhZ2VYKStNYXRoLmFicyhwYWdlWS1lLnBhZ2VZKT4yJiYobW91c2VNb3ZlZD0hMCl9KSx0aGlzLmNvbnRhaW5lci5kZWxlZ2F0ZShcIltjbGFzc349J2p2ZWN0b3JtYXAtZWxlbWVudCddXCIsXCJtb3VzZW92ZXIgbW91c2VvdXRcIixmdW5jdGlvbihlKXt2YXIgYmFzZVZhbD1qdm0uJCh0aGlzKS5hdHRyKFwiY2xhc3NcIikuYmFzZVZhbHx8anZtLiQodGhpcykuYXR0cihcImNsYXNzXCIpLHR5cGU9LTE9PT1iYXNlVmFsLmluZGV4T2YoXCJqdmVjdG9ybWFwLXJlZ2lvblwiKT9cIm1hcmtlclwiOlwicmVnaW9uXCIsY29kZT1qdm0uJCh0aGlzKS5hdHRyKFwicmVnaW9uXCI9PXR5cGU/XCJkYXRhLWNvZGVcIjpcImRhdGEtaW5kZXhcIiksZWxlbWVudD1cInJlZ2lvblwiPT10eXBlP21hcC5yZWdpb25zW2NvZGVdLmVsZW1lbnQ6bWFwLm1hcmtlcnNbY29kZV0uZWxlbWVudCx0aXBUZXh0PVwicmVnaW9uXCI9PXR5cGU/bWFwLm1hcERhdGEucGF0aHNbY29kZV0ubmFtZTptYXAubWFya2Vyc1tjb2RlXS5jb25maWcubmFtZXx8XCJcIix0aXBTaG93RXZlbnQ9anZtLiQuRXZlbnQodHlwZStcIlRpcFNob3cuanZlY3Rvcm1hcFwiKSxvdmVyRXZlbnQ9anZtLiQuRXZlbnQodHlwZStcIk92ZXIuanZlY3Rvcm1hcFwiKTtcIm1vdXNlb3ZlclwiPT1lLnR5cGU/KG1hcC5jb250YWluZXIudHJpZ2dlcihvdmVyRXZlbnQsW2NvZGVdKSxvdmVyRXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCl8fGVsZW1lbnQuc2V0SG92ZXJlZCghMCksbWFwLnRpcC50ZXh0KHRpcFRleHQpLG1hcC5jb250YWluZXIudHJpZ2dlcih0aXBTaG93RXZlbnQsW21hcC50aXAsY29kZV0pLHRpcFNob3dFdmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8KG1hcC50aXAuc2hvdygpLG1hcC50aXBXaWR0aD1tYXAudGlwLndpZHRoKCksbWFwLnRpcEhlaWdodD1tYXAudGlwLmhlaWdodCgpKSk6KGVsZW1lbnQuc2V0SG92ZXJlZCghMSksbWFwLnRpcC5oaWRlKCksbWFwLmNvbnRhaW5lci50cmlnZ2VyKHR5cGUrXCJPdXQuanZlY3Rvcm1hcFwiLFtjb2RlXSkpfSksdGhpcy5jb250YWluZXIuZGVsZWdhdGUoXCJbY2xhc3N+PSdqdmVjdG9ybWFwLWVsZW1lbnQnXVwiLFwibW91c2Vkb3duXCIsZnVuY3Rpb24oZSl7cGFnZVg9ZS5wYWdlWCxwYWdlWT1lLnBhZ2VZLG1vdXNlTW92ZWQ9ITF9KSx0aGlzLmNvbnRhaW5lci5kZWxlZ2F0ZShcIltjbGFzc349J2p2ZWN0b3JtYXAtZWxlbWVudCddXCIsXCJtb3VzZXVwXCIsZnVuY3Rpb24oKXt2YXIgYmFzZVZhbD1qdm0uJCh0aGlzKS5hdHRyKFwiY2xhc3NcIikuYmFzZVZhbD9qdm0uJCh0aGlzKS5hdHRyKFwiY2xhc3NcIikuYmFzZVZhbDpqdm0uJCh0aGlzKS5hdHRyKFwiY2xhc3NcIiksdHlwZT0tMT09PWJhc2VWYWwuaW5kZXhPZihcImp2ZWN0b3JtYXAtcmVnaW9uXCIpP1wibWFya2VyXCI6XCJyZWdpb25cIixjb2RlPWp2bS4kKHRoaXMpLmF0dHIoXCJyZWdpb25cIj09dHlwZT9cImRhdGEtY29kZVwiOlwiZGF0YS1pbmRleFwiKSxjbGlja0V2ZW50PWp2bS4kLkV2ZW50KHR5cGUrXCJDbGljay5qdmVjdG9ybWFwXCIpLGVsZW1lbnQ9XCJyZWdpb25cIj09dHlwZT9tYXAucmVnaW9uc1tjb2RlXS5lbGVtZW50Om1hcC5tYXJrZXJzW2NvZGVdLmVsZW1lbnQ7bW91c2VNb3ZlZHx8KG1hcC5jb250YWluZXIudHJpZ2dlcihjbGlja0V2ZW50LFtjb2RlXSksKFwicmVnaW9uXCI9PT10eXBlJiZtYXAucGFyYW1zLnJlZ2lvbnNTZWxlY3RhYmxlfHxcIm1hcmtlclwiPT09dHlwZSYmbWFwLnBhcmFtcy5tYXJrZXJzU2VsZWN0YWJsZSkmJihjbGlja0V2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpfHwobWFwLnBhcmFtc1t0eXBlK1wic1NlbGVjdGFibGVPbmVcIl0mJm1hcC5jbGVhclNlbGVjdGVkKHR5cGUrXCJzXCIpLGVsZW1lbnQuc2V0U2VsZWN0ZWQoIWVsZW1lbnQuaXNTZWxlY3RlZCkpKSl9KX0sYmluZFpvb21CdXR0b25zOmZ1bmN0aW9uKCl7dmFyIG1hcD10aGlzO2p2bS4kKFwiPGRpdi8+XCIpLmFkZENsYXNzKFwianZlY3Rvcm1hcC16b29taW5cIikudGV4dChcIitcIikuYXBwZW5kVG8odGhpcy5jb250YWluZXIpLGp2bS4kKFwiPGRpdi8+XCIpLmFkZENsYXNzKFwianZlY3Rvcm1hcC16b29tb3V0XCIpLmh0bWwoXCImI3gyMjEyO1wiKS5hcHBlbmRUbyh0aGlzLmNvbnRhaW5lciksdGhpcy5jb250YWluZXIuZmluZChcIi5qdmVjdG9ybWFwLXpvb21pblwiKS5jbGljayhmdW5jdGlvbigpe21hcC5zZXRTY2FsZShtYXAuc2NhbGUqbWFwLnBhcmFtcy56b29tU3RlcCxtYXAud2lkdGgvMixtYXAuaGVpZ2h0LzIsITEsbWFwLnBhcmFtcy56b29tQW5pbWF0ZSl9KSx0aGlzLmNvbnRhaW5lci5maW5kKFwiLmp2ZWN0b3JtYXAtem9vbW91dFwiKS5jbGljayhmdW5jdGlvbigpe21hcC5zZXRTY2FsZShtYXAuc2NhbGUvbWFwLnBhcmFtcy56b29tU3RlcCxtYXAud2lkdGgvMixtYXAuaGVpZ2h0LzIsITEsbWFwLnBhcmFtcy56b29tQW5pbWF0ZSl9KX0sY3JlYXRlVGlwOmZ1bmN0aW9uKCl7dmFyIG1hcD10aGlzO3RoaXMudGlwPWp2bS4kKFwiPGRpdi8+XCIpLmFkZENsYXNzKFwianZlY3Rvcm1hcC10aXBcIikuYXBwZW5kVG8oanZtLiQoXCJib2R5XCIpKSx0aGlzLmNvbnRhaW5lci5tb3VzZW1vdmUoZnVuY3Rpb24oZSl7dmFyIGxlZnQ9ZS5wYWdlWC0xNS1tYXAudGlwV2lkdGgsdG9wPWUucGFnZVktMTUtbWFwLnRpcEhlaWdodDs1PmxlZnQmJihsZWZ0PWUucGFnZVgrMTUpLDU+dG9wJiYodG9wPWUucGFnZVkrMTUpLG1hcC50aXAuY3NzKHtsZWZ0OmxlZnQsdG9wOnRvcH0pfSl9LHNldFNjYWxlOmZ1bmN0aW9uKHNjYWxlLGFuY2hvclgsYW5jaG9yWSxpc0NlbnRlcmVkLGFuaW1hdGUpe3ZhciBpbnRlcnZhbCxzY2FsZVN0YXJ0LHNjYWxlRGlmZix0cmFuc1hTdGFydCx0cmFuc1hEaWZmLHRyYW5zWVN0YXJ0LHRyYW5zWURpZmYsdHJhbnNYLHRyYW5zWSx2aWV3cG9ydENoYW5nZUV2ZW50PWp2bS4kLkV2ZW50KFwiem9vbS5qdmVjdG9ybWFwXCIpLHRoYXQ9dGhpcyxpPTAsY291bnQ9TWF0aC5hYnMoTWF0aC5yb3VuZCg2MCooc2NhbGUtdGhpcy5zY2FsZSkvTWF0aC5tYXgoc2NhbGUsdGhpcy5zY2FsZSkpKSxkZWZlcnJlZD1uZXcganZtLiQuRGVmZXJyZWQ7cmV0dXJuIHNjYWxlPnRoaXMucGFyYW1zLnpvb21NYXgqdGhpcy5iYXNlU2NhbGU/c2NhbGU9dGhpcy5wYXJhbXMuem9vbU1heCp0aGlzLmJhc2VTY2FsZTpzY2FsZTx0aGlzLnBhcmFtcy56b29tTWluKnRoaXMuYmFzZVNjYWxlJiYoc2NhbGU9dGhpcy5wYXJhbXMuem9vbU1pbip0aGlzLmJhc2VTY2FsZSksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGFuY2hvclgmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBhbmNob3JZJiYoem9vbVN0ZXA9c2NhbGUvdGhpcy5zY2FsZSxpc0NlbnRlcmVkPyh0cmFuc1g9YW5jaG9yWCt0aGlzLmRlZmF1bHRXaWR0aCoodGhpcy53aWR0aC8odGhpcy5kZWZhdWx0V2lkdGgqc2NhbGUpKS8yLHRyYW5zWT1hbmNob3JZK3RoaXMuZGVmYXVsdEhlaWdodCoodGhpcy5oZWlnaHQvKHRoaXMuZGVmYXVsdEhlaWdodCpzY2FsZSkpLzIpOih0cmFuc1g9dGhpcy50cmFuc1gtKHpvb21TdGVwLTEpL3NjYWxlKmFuY2hvclgsdHJhbnNZPXRoaXMudHJhbnNZLSh6b29tU3RlcC0xKS9zY2FsZSphbmNob3JZKSksYW5pbWF0ZSYmY291bnQ+MD8oc2NhbGVTdGFydD10aGlzLnNjYWxlLHNjYWxlRGlmZj0oc2NhbGUtc2NhbGVTdGFydCkvY291bnQsdHJhbnNYU3RhcnQ9dGhpcy50cmFuc1gqdGhpcy5zY2FsZSx0cmFuc1lTdGFydD10aGlzLnRyYW5zWSp0aGlzLnNjYWxlLHRyYW5zWERpZmY9KHRyYW5zWCpzY2FsZS10cmFuc1hTdGFydCkvY291bnQsdHJhbnNZRGlmZj0odHJhbnNZKnNjYWxlLXRyYW5zWVN0YXJ0KS9jb3VudCxpbnRlcnZhbD1zZXRJbnRlcnZhbChmdW5jdGlvbigpe2krPTEsdGhhdC5zY2FsZT1zY2FsZVN0YXJ0K3NjYWxlRGlmZippLHRoYXQudHJhbnNYPSh0cmFuc1hTdGFydCt0cmFuc1hEaWZmKmkpL3RoYXQuc2NhbGUsdGhhdC50cmFuc1k9KHRyYW5zWVN0YXJ0K3RyYW5zWURpZmYqaSkvdGhhdC5zY2FsZSx0aGF0LmFwcGx5VHJhbnNmb3JtKCksaT09Y291bnQmJihjbGVhckludGVydmFsKGludGVydmFsKSx0aGF0LmNvbnRhaW5lci50cmlnZ2VyKHZpZXdwb3J0Q2hhbmdlRXZlbnQsW3NjYWxlL3RoYXQuYmFzZVNjYWxlXSksZGVmZXJyZWQucmVzb2x2ZSgpKX0sMTApKToodGhpcy50cmFuc1g9dHJhbnNYLHRoaXMudHJhbnNZPXRyYW5zWSx0aGlzLnNjYWxlPXNjYWxlLHRoaXMuYXBwbHlUcmFuc2Zvcm0oKSx0aGlzLmNvbnRhaW5lci50cmlnZ2VyKHZpZXdwb3J0Q2hhbmdlRXZlbnQsW3NjYWxlL3RoaXMuYmFzZVNjYWxlXSksZGVmZXJyZWQucmVzb2x2ZSgpKSxkZWZlcnJlZH0sc2V0Rm9jdXM6ZnVuY3Rpb24oY29uZmlnKXt2YXIgYmJveCxpdGVtQmJveCxuZXdCYm94LGNvZGVzLGkscG9pbnQ7aWYoY29uZmlnPWNvbmZpZ3x8e30sY29uZmlnLnJlZ2lvbj9jb2Rlcz1bY29uZmlnLnJlZ2lvbl06Y29uZmlnLnJlZ2lvbnMmJihjb2Rlcz1jb25maWcucmVnaW9ucyksY29kZXMpe2ZvcihpPTA7aTxjb2Rlcy5sZW5ndGg7aSsrKXRoaXMucmVnaW9uc1tjb2Rlc1tpXV0mJihpdGVtQmJveD10aGlzLnJlZ2lvbnNbY29kZXNbaV1dLmVsZW1lbnQuc2hhcGUuZ2V0QkJveCgpLGl0ZW1CYm94JiYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIGJib3g/YmJveD1pdGVtQmJveDoobmV3QmJveD17eDpNYXRoLm1pbihiYm94LngsaXRlbUJib3gueCkseTpNYXRoLm1pbihiYm94LnksaXRlbUJib3gueSksd2lkdGg6TWF0aC5tYXgoYmJveC54K2Jib3gud2lkdGgsaXRlbUJib3gueCtpdGVtQmJveC53aWR0aCktTWF0aC5taW4oYmJveC54LGl0ZW1CYm94LngpLGhlaWdodDpNYXRoLm1heChiYm94LnkrYmJveC5oZWlnaHQsaXRlbUJib3gueStpdGVtQmJveC5oZWlnaHQpLU1hdGgubWluKGJib3gueSxpdGVtQmJveC55KX0sYmJveD1uZXdCYm94KSkpO3JldHVybiB0aGlzLnNldFNjYWxlKE1hdGgubWluKHRoaXMud2lkdGgvYmJveC53aWR0aCx0aGlzLmhlaWdodC9iYm94LmhlaWdodCksLShiYm94LngrYmJveC53aWR0aC8yKSwtKGJib3gueStiYm94LmhlaWdodC8yKSwhMCxjb25maWcuYW5pbWF0ZSl9cmV0dXJuIGNvbmZpZy5sYXQmJmNvbmZpZy5sbmc/KHBvaW50PXRoaXMubGF0TG5nVG9Qb2ludChjb25maWcubGF0LGNvbmZpZy5sbmcpLGNvbmZpZy54PXRoaXMudHJhbnNYLXBvaW50LngvdGhpcy5zY2FsZSxjb25maWcueT10aGlzLnRyYW5zWS1wb2ludC55L3RoaXMuc2NhbGUpOmNvbmZpZy54JiZjb25maWcueSYmKGNvbmZpZy54Kj0tdGhpcy5kZWZhdWx0V2lkdGgsY29uZmlnLnkqPS10aGlzLmRlZmF1bHRIZWlnaHQpLHRoaXMuc2V0U2NhbGUoY29uZmlnLnNjYWxlKnRoaXMuYmFzZVNjYWxlLGNvbmZpZy54LGNvbmZpZy55LCEwLGNvbmZpZy5hbmltYXRlKX0sZ2V0U2VsZWN0ZWQ6ZnVuY3Rpb24odHlwZSl7dmFyIGtleSxzZWxlY3RlZD1bXTtmb3Ioa2V5IGluIHRoaXNbdHlwZV0pdGhpc1t0eXBlXVtrZXldLmVsZW1lbnQuaXNTZWxlY3RlZCYmc2VsZWN0ZWQucHVzaChrZXkpO3JldHVybiBzZWxlY3RlZH0sZ2V0U2VsZWN0ZWRSZWdpb25zOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0U2VsZWN0ZWQoXCJyZWdpb25zXCIpfSxnZXRTZWxlY3RlZE1hcmtlcnM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRTZWxlY3RlZChcIm1hcmtlcnNcIil9LHNldFNlbGVjdGVkOmZ1bmN0aW9uKHR5cGUsa2V5cyl7dmFyIGk7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGtleXMmJihrZXlzPVtrZXlzXSksanZtLiQuaXNBcnJheShrZXlzKSlmb3IoaT0wO2k8a2V5cy5sZW5ndGg7aSsrKXRoaXNbdHlwZV1ba2V5c1tpXV0uZWxlbWVudC5zZXRTZWxlY3RlZCghMCk7ZWxzZSBmb3IoaSBpbiBrZXlzKXRoaXNbdHlwZV1baV0uZWxlbWVudC5zZXRTZWxlY3RlZCghIWtleXNbaV0pfSxzZXRTZWxlY3RlZFJlZ2lvbnM6ZnVuY3Rpb24oa2V5cyl7dGhpcy5zZXRTZWxlY3RlZChcInJlZ2lvbnNcIixrZXlzKX0sc2V0U2VsZWN0ZWRNYXJrZXJzOmZ1bmN0aW9uKGtleXMpe3RoaXMuc2V0U2VsZWN0ZWQoXCJtYXJrZXJzXCIsa2V5cyl9LGNsZWFyU2VsZWN0ZWQ6ZnVuY3Rpb24odHlwZSl7dmFyIGksc2VsZWN0PXt9LHNlbGVjdGVkPXRoaXMuZ2V0U2VsZWN0ZWQodHlwZSk7Zm9yKGk9MDtpPHNlbGVjdGVkLmxlbmd0aDtpKyspc2VsZWN0W3NlbGVjdGVkW2ldXT0hMTt0aGlzLnNldFNlbGVjdGVkKHR5cGUsc2VsZWN0KX0sY2xlYXJTZWxlY3RlZFJlZ2lvbnM6ZnVuY3Rpb24oKXt0aGlzLmNsZWFyU2VsZWN0ZWQoXCJyZWdpb25zXCIpfSxjbGVhclNlbGVjdGVkTWFya2VyczpmdW5jdGlvbigpe3RoaXMuY2xlYXJTZWxlY3RlZChcIm1hcmtlcnNcIil9LGdldE1hcE9iamVjdDpmdW5jdGlvbigpe3JldHVybiB0aGlzfSxnZXRSZWdpb25OYW1lOmZ1bmN0aW9uKGNvZGUpe3JldHVybiB0aGlzLm1hcERhdGEucGF0aHNbY29kZV0ubmFtZX0sY3JlYXRlUmVnaW9uczpmdW5jdGlvbigpe3ZhciBrZXkscmVnaW9uLG1hcD10aGlzO3RoaXMucmVnaW9uTGFiZWxzR3JvdXA9dGhpcy5yZWdpb25MYWJlbHNHcm91cHx8dGhpcy5jYW52YXMuYWRkR3JvdXAoKTtmb3Ioa2V5IGluIHRoaXMubWFwRGF0YS5wYXRocylyZWdpb249bmV3IGp2bS5SZWdpb24oe21hcDp0aGlzLHBhdGg6dGhpcy5tYXBEYXRhLnBhdGhzW2tleV0ucGF0aCxjb2RlOmtleSxzdHlsZTpqdm0uJC5leHRlbmQoITAse30sdGhpcy5wYXJhbXMucmVnaW9uU3R5bGUpLG1hcmdpbjp0aGlzLnBhcmFtcy5yZWdpb25NYXJnaW4sbGFiZWxTdHlsZTpqdm0uJC5leHRlbmQoITAse30sdGhpcy5wYXJhbXMucmVnaW9uTGFiZWxTdHlsZSksY2FudmFzOnRoaXMuY2FudmFzLGxhYmVsc0dyb3VwOnRoaXMucmVnaW9uTGFiZWxzR3JvdXAsbGFiZWw6XCJ2bWxcIiE9dGhpcy5jYW52YXMubW9kZT90aGlzLnBhcmFtcy5sYWJlbHMmJnRoaXMucGFyYW1zLmxhYmVscy5yZWdpb25zOm51bGx9KSxqdm0uJChyZWdpb24uc2hhcGUpLmJpbmQoXCJzZWxlY3RlZFwiLGZ1bmN0aW9uKGUsaXNTZWxlY3RlZCl7bWFwLmNvbnRhaW5lci50cmlnZ2VyKFwicmVnaW9uU2VsZWN0ZWQuanZlY3Rvcm1hcFwiLFtqdm0uJCh0aGlzLm5vZGUpLmF0dHIoXCJkYXRhLWNvZGVcIiksaXNTZWxlY3RlZCxtYXAuZ2V0U2VsZWN0ZWRSZWdpb25zKCldKX0pLHRoaXMucmVnaW9uc1trZXldPXtlbGVtZW50OnJlZ2lvbixjb25maWc6dGhpcy5tYXBEYXRhLnBhdGhzW2tleV19fSxjcmVhdGVNYXJrZXJzOmZ1bmN0aW9uKG1hcmtlcnMpe3ZhciBpLG1hcmtlcixwb2ludCxtYXJrZXJDb25maWcsbWFya2Vyc0FycmF5LG1hcD10aGlzO2lmKHRoaXMubWFya2Vyc0dyb3VwPXRoaXMubWFya2Vyc0dyb3VwfHx0aGlzLmNhbnZhcy5hZGRHcm91cCgpLHRoaXMubWFya2VyTGFiZWxzR3JvdXA9dGhpcy5tYXJrZXJMYWJlbHNHcm91cHx8dGhpcy5jYW52YXMuYWRkR3JvdXAoKSxqdm0uJC5pc0FycmF5KG1hcmtlcnMpKWZvcihtYXJrZXJzQXJyYXk9bWFya2Vycy5zbGljZSgpLG1hcmtlcnM9e30saT0wO2k8bWFya2Vyc0FycmF5Lmxlbmd0aDtpKyspbWFya2Vyc1tpXT1tYXJrZXJzQXJyYXlbaV07Zm9yKGkgaW4gbWFya2VycyltYXJrZXJDb25maWc9bWFya2Vyc1tpXWluc3RhbmNlb2YgQXJyYXk/e2xhdExuZzptYXJrZXJzW2ldfTptYXJrZXJzW2ldLHBvaW50PXRoaXMuZ2V0TWFya2VyUG9zaXRpb24obWFya2VyQ29uZmlnKSxwb2ludCE9PSExJiYobWFya2VyPW5ldyBqdm0uTWFya2VyKHttYXA6dGhpcyxzdHlsZTpqdm0uJC5leHRlbmQoITAse30sdGhpcy5wYXJhbXMubWFya2VyU3R5bGUse2luaXRpYWw6bWFya2VyQ29uZmlnLnN0eWxlfHx7fX0pLGxhYmVsU3R5bGU6anZtLiQuZXh0ZW5kKCEwLHt9LHRoaXMucGFyYW1zLm1hcmtlckxhYmVsU3R5bGUpLGluZGV4OmksY3g6cG9pbnQueCxjeTpwb2ludC55LGdyb3VwOnRoaXMubWFya2Vyc0dyb3VwLGNhbnZhczp0aGlzLmNhbnZhcyxsYWJlbHNHcm91cDp0aGlzLm1hcmtlckxhYmVsc0dyb3VwLGxhYmVsOlwidm1sXCIhPXRoaXMuY2FudmFzLm1vZGU/dGhpcy5wYXJhbXMubGFiZWxzJiZ0aGlzLnBhcmFtcy5sYWJlbHMubWFya2VyczpudWxsfSksanZtLiQobWFya2VyLnNoYXBlKS5iaW5kKFwic2VsZWN0ZWRcIixmdW5jdGlvbihlLGlzU2VsZWN0ZWQpe21hcC5jb250YWluZXIudHJpZ2dlcihcIm1hcmtlclNlbGVjdGVkLmp2ZWN0b3JtYXBcIixbanZtLiQodGhpcy5ub2RlKS5hdHRyKFwiZGF0YS1pbmRleFwiKSxpc1NlbGVjdGVkLG1hcC5nZXRTZWxlY3RlZE1hcmtlcnMoKV0pfSksdGhpcy5tYXJrZXJzW2ldJiZ0aGlzLnJlbW92ZU1hcmtlcnMoW2ldKSx0aGlzLm1hcmtlcnNbaV09e2VsZW1lbnQ6bWFya2VyLGNvbmZpZzptYXJrZXJDb25maWd9KX0scmVwb3NpdGlvbk1hcmtlcnM6ZnVuY3Rpb24oKXt2YXIgaSxwb2ludDtmb3IoaSBpbiB0aGlzLm1hcmtlcnMpcG9pbnQ9dGhpcy5nZXRNYXJrZXJQb3NpdGlvbih0aGlzLm1hcmtlcnNbaV0uY29uZmlnKSxwb2ludCE9PSExJiZ0aGlzLm1hcmtlcnNbaV0uZWxlbWVudC5zZXRTdHlsZSh7Y3g6cG9pbnQueCxjeTpwb2ludC55fSl9LHJlcG9zaXRpb25MYWJlbHM6ZnVuY3Rpb24oKXt2YXIga2V5O2ZvcihrZXkgaW4gdGhpcy5yZWdpb25zKXRoaXMucmVnaW9uc1trZXldLmVsZW1lbnQudXBkYXRlTGFiZWxQb3NpdGlvbigpO2ZvcihrZXkgaW4gdGhpcy5tYXJrZXJzKXRoaXMubWFya2Vyc1trZXldLmVsZW1lbnQudXBkYXRlTGFiZWxQb3NpdGlvbigpfSxnZXRNYXJrZXJQb3NpdGlvbjpmdW5jdGlvbihtYXJrZXJDb25maWcpe3JldHVybiBqdm0uTWFwLm1hcHNbdGhpcy5wYXJhbXMubWFwXS5wcm9qZWN0aW9uP3RoaXMubGF0TG5nVG9Qb2ludC5hcHBseSh0aGlzLG1hcmtlckNvbmZpZy5sYXRMbmd8fFswLDBdKTp7eDptYXJrZXJDb25maWcuY29vcmRzWzBdKnRoaXMuc2NhbGUrdGhpcy50cmFuc1gqdGhpcy5zY2FsZSx5Om1hcmtlckNvbmZpZy5jb29yZHNbMV0qdGhpcy5zY2FsZSt0aGlzLnRyYW5zWSp0aGlzLnNjYWxlfX0sYWRkTWFya2VyOmZ1bmN0aW9uKGtleSxtYXJrZXIsc2VyaWVzRGF0YSl7dmFyIHZhbHVlcyxpLG1hcmtlcnM9e30sZGF0YT1bXSxzZXJpZXNEYXRhPXNlcmllc0RhdGF8fFtdO2ZvcihtYXJrZXJzW2tleV09bWFya2VyLGk9MDtpPHNlcmllc0RhdGEubGVuZ3RoO2krKyl2YWx1ZXM9e30sXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlcmllc0RhdGFbaV0mJih2YWx1ZXNba2V5XT1zZXJpZXNEYXRhW2ldKSxkYXRhLnB1c2godmFsdWVzKTt0aGlzLmFkZE1hcmtlcnMobWFya2VycyxkYXRhKX0sYWRkTWFya2VyczpmdW5jdGlvbihtYXJrZXJzLHNlcmllc0RhdGEpe3ZhciBpO2ZvcihzZXJpZXNEYXRhPXNlcmllc0RhdGF8fFtdLHRoaXMuY3JlYXRlTWFya2VycyhtYXJrZXJzKSxpPTA7aTxzZXJpZXNEYXRhLmxlbmd0aDtpKyspdGhpcy5zZXJpZXMubWFya2Vyc1tpXS5zZXRWYWx1ZXMoc2VyaWVzRGF0YVtpXXx8e30pfSxyZW1vdmVNYXJrZXJzOmZ1bmN0aW9uKG1hcmtlcnMpe3ZhciBpO2ZvcihpPTA7aTxtYXJrZXJzLmxlbmd0aDtpKyspdGhpcy5tYXJrZXJzW21hcmtlcnNbaV1dLmVsZW1lbnQucmVtb3ZlKCksZGVsZXRlIHRoaXMubWFya2Vyc1ttYXJrZXJzW2ldXX0scmVtb3ZlQWxsTWFya2VyczpmdW5jdGlvbigpe3ZhciBpLG1hcmtlcnM9W107Zm9yKGkgaW4gdGhpcy5tYXJrZXJzKW1hcmtlcnMucHVzaChpKTt0aGlzLnJlbW92ZU1hcmtlcnMobWFya2Vycyl9LGxhdExuZ1RvUG9pbnQ6ZnVuY3Rpb24obGF0LGxuZyl7dmFyIHBvaW50LGluc2V0LGJib3gscHJvaj1qdm0uTWFwLm1hcHNbdGhpcy5wYXJhbXMubWFwXS5wcm9qZWN0aW9uLGNlbnRyYWxNZXJpZGlhbj1wcm9qLmNlbnRyYWxNZXJpZGlhbjtyZXR1cm4tMTgwK2NlbnRyYWxNZXJpZGlhbj5sbmcmJihsbmcrPTM2MCkscG9pbnQ9anZtLlByb2pbcHJvai50eXBlXShsYXQsbG5nLGNlbnRyYWxNZXJpZGlhbiksaW5zZXQ9dGhpcy5nZXRJbnNldEZvclBvaW50KHBvaW50LngscG9pbnQueSksaW5zZXQ/KGJib3g9aW5zZXQuYmJveCxwb2ludC54PShwb2ludC54LWJib3hbMF0ueCkvKGJib3hbMV0ueC1iYm94WzBdLngpKmluc2V0LndpZHRoKnRoaXMuc2NhbGUscG9pbnQueT0ocG9pbnQueS1iYm94WzBdLnkpLyhiYm94WzFdLnktYmJveFswXS55KSppbnNldC5oZWlnaHQqdGhpcy5zY2FsZSx7eDpwb2ludC54K3RoaXMudHJhbnNYKnRoaXMuc2NhbGUraW5zZXQubGVmdCp0aGlzLnNjYWxlLHk6cG9pbnQueSt0aGlzLnRyYW5zWSp0aGlzLnNjYWxlK2luc2V0LnRvcCp0aGlzLnNjYWxlfSk6ITF9LHBvaW50VG9MYXRMbmc6ZnVuY3Rpb24oeCx5KXt2YXIgaSxpbnNldCxiYm94LG54LG55LHByb2o9anZtLk1hcC5tYXBzW3RoaXMucGFyYW1zLm1hcF0ucHJvamVjdGlvbixjZW50cmFsTWVyaWRpYW49cHJvai5jZW50cmFsTWVyaWRpYW4saW5zZXRzPWp2bS5NYXAubWFwc1t0aGlzLnBhcmFtcy5tYXBdLmluc2V0cztmb3IoaT0wO2k8aW5zZXRzLmxlbmd0aDtpKyspaWYoaW5zZXQ9aW5zZXRzW2ldLGJib3g9aW5zZXQuYmJveCxueD14LSh0aGlzLnRyYW5zWCp0aGlzLnNjYWxlK2luc2V0LmxlZnQqdGhpcy5zY2FsZSksbnk9eS0odGhpcy50cmFuc1kqdGhpcy5zY2FsZStpbnNldC50b3AqdGhpcy5zY2FsZSksbng9bngvKGluc2V0LndpZHRoKnRoaXMuc2NhbGUpKihiYm94WzFdLngtYmJveFswXS54KStiYm94WzBdLngsbnk9bnkvKGluc2V0LmhlaWdodCp0aGlzLnNjYWxlKSooYmJveFsxXS55LWJib3hbMF0ueSkrYmJveFswXS55LG54PmJib3hbMF0ueCYmbng8YmJveFsxXS54JiZueT5iYm94WzBdLnkmJm55PGJib3hbMV0ueSlyZXR1cm4ganZtLlByb2pbcHJvai50eXBlK1wiX2ludlwiXShueCwtbnksY2VudHJhbE1lcmlkaWFuKTtyZXR1cm4hMX0sZ2V0SW5zZXRGb3JQb2ludDpmdW5jdGlvbih4LHkpe3ZhciBpLGJib3gsaW5zZXRzPWp2bS5NYXAubWFwc1t0aGlzLnBhcmFtcy5tYXBdLmluc2V0cztmb3IoaT0wO2k8aW5zZXRzLmxlbmd0aDtpKyspaWYoYmJveD1pbnNldHNbaV0uYmJveCx4PmJib3hbMF0ueCYmeDxiYm94WzFdLngmJnk+YmJveFswXS55JiZ5PGJib3hbMV0ueSlyZXR1cm4gaW5zZXRzW2ldfSxjcmVhdGVTZXJpZXM6ZnVuY3Rpb24oKXt2YXIgaSxrZXk7dGhpcy5zZXJpZXM9e21hcmtlcnM6W10scmVnaW9uczpbXX07Zm9yKGtleSBpbiB0aGlzLnBhcmFtcy5zZXJpZXMpZm9yKGk9MDtpPHRoaXMucGFyYW1zLnNlcmllc1trZXldLmxlbmd0aDtpKyspdGhpcy5zZXJpZXNba2V5XVtpXT1uZXcganZtLkRhdGFTZXJpZXModGhpcy5wYXJhbXMuc2VyaWVzW2tleV1baV0sdGhpc1trZXldLHRoaXMpfSxyZW1vdmU6ZnVuY3Rpb24oKXt0aGlzLnRpcC5yZW1vdmUoKSx0aGlzLmNvbnRhaW5lci5yZW1vdmUoKSxqdm0uJCh3aW5kb3cpLnVuYmluZChcInJlc2l6ZVwiLHRoaXMub25SZXNpemUpLGp2bS4kKFwiYm9keVwiKS51bmJpbmQoXCJtb3VzZXVwXCIsdGhpcy5vbkNvbnRhaW5lck1vdXNlVXApfX0sanZtLk1hcC5tYXBzPXt9LGp2bS5NYXAuZGVmYXVsdFBhcmFtcz17bWFwOlwid29ybGRfbWlsbF9lblwiLGJhY2tncm91bmRDb2xvcjpcIiM1MDUwNTBcIix6b29tQnV0dG9uczohMCx6b29tT25TY3JvbGw6ITAsem9vbU9uU2Nyb2xsU3BlZWQ6MyxwYW5PbkRyYWc6ITAsem9vbU1heDo4LHpvb21NaW46MSx6b29tU3RlcDoxLjYsem9vbUFuaW1hdGU6ITAscmVnaW9uc1NlbGVjdGFibGU6ITEsbWFya2Vyc1NlbGVjdGFibGU6ITEsYmluZFRvdWNoRXZlbnRzOiEwLHJlZ2lvblN0eWxlOntpbml0aWFsOntmaWxsOlwid2hpdGVcIixcImZpbGwtb3BhY2l0eVwiOjEsc3Ryb2tlOlwibm9uZVwiLFwic3Ryb2tlLXdpZHRoXCI6MCxcInN0cm9rZS1vcGFjaXR5XCI6MX0saG92ZXI6e1wiZmlsbC1vcGFjaXR5XCI6LjgsY3Vyc29yOlwicG9pbnRlclwifSxzZWxlY3RlZDp7ZmlsbDpcInllbGxvd1wifSxzZWxlY3RlZEhvdmVyOnt9fSxyZWdpb25NYXJnaW46MCxyZWdpb25MYWJlbFN0eWxlOntpbml0aWFsOntcImZvbnQtZmFtaWx5XCI6XCJWZXJkYW5hXCIsXCJmb250LXNpemVcIjpcIjEyXCIsXCJmb250LXdlaWdodFwiOlwiYm9sZFwiLGN1cnNvcjpcImRlZmF1bHRcIixmaWxsOlwiYmxhY2tcIn0saG92ZXI6e2N1cnNvcjpcInBvaW50ZXJcIn19LG1hcmtlclN0eWxlOntpbml0aWFsOntmaWxsOlwiZ3JleVwiLHN0cm9rZTpcIiM1MDUwNTBcIixcImZpbGwtb3BhY2l0eVwiOjEsXCJzdHJva2Utd2lkdGhcIjoxLFwic3Ryb2tlLW9wYWNpdHlcIjoxLHI6NX0saG92ZXI6e3N0cm9rZTpcImJsYWNrXCIsXCJzdHJva2Utd2lkdGhcIjoyLGN1cnNvcjpcInBvaW50ZXJcIn0sc2VsZWN0ZWQ6e2ZpbGw6XCJibHVlXCJ9LHNlbGVjdGVkSG92ZXI6e319LG1hcmtlckxhYmVsU3R5bGU6e2luaXRpYWw6e1wiZm9udC1mYW1pbHlcIjpcIlZlcmRhbmFcIixcImZvbnQtc2l6ZVwiOlwiMTJcIixcImZvbnQtd2VpZ2h0XCI6XCJib2xkXCIsY3Vyc29yOlwiZGVmYXVsdFwiLGZpbGw6XCJibGFja1wifSxob3Zlcjp7Y3Vyc29yOlwicG9pbnRlclwifX19LGp2bS5NYXAuYXBpRXZlbnRzPXtvblJlZ2lvblRpcFNob3c6XCJyZWdpb25UaXBTaG93XCIsb25SZWdpb25PdmVyOlwicmVnaW9uT3ZlclwiLG9uUmVnaW9uT3V0OlwicmVnaW9uT3V0XCIsb25SZWdpb25DbGljazpcInJlZ2lvbkNsaWNrXCIsb25SZWdpb25TZWxlY3RlZDpcInJlZ2lvblNlbGVjdGVkXCIsb25NYXJrZXJUaXBTaG93OlwibWFya2VyVGlwU2hvd1wiLG9uTWFya2VyT3ZlcjpcIm1hcmtlck92ZXJcIixvbk1hcmtlck91dDpcIm1hcmtlck91dFwiLG9uTWFya2VyQ2xpY2s6XCJtYXJrZXJDbGlja1wiLG9uTWFya2VyU2VsZWN0ZWQ6XCJtYXJrZXJTZWxlY3RlZFwiLG9uVmlld3BvcnRDaGFuZ2U6XCJ2aWV3cG9ydENoYW5nZVwifSxqdm0uTXVsdGlNYXA9ZnVuY3Rpb24ocGFyYW1zKXt2YXIgdGhhdD10aGlzO3RoaXMubWFwcz17fSx0aGlzLnBhcmFtcz1qdm0uJC5leHRlbmQoITAse30sanZtLk11bHRpTWFwLmRlZmF1bHRQYXJhbXMscGFyYW1zKSx0aGlzLnBhcmFtcy5tYXhMZXZlbD10aGlzLnBhcmFtcy5tYXhMZXZlbHx8TnVtYmVyLk1BWF9WQUxVRSx0aGlzLnBhcmFtcy5tYWluPXRoaXMucGFyYW1zLm1haW58fHt9LHRoaXMucGFyYW1zLm1haW4ubXVsdGlNYXBMZXZlbD0wLHRoaXMuaGlzdG9yeT1bdGhpcy5hZGRNYXAodGhpcy5wYXJhbXMubWFpbi5tYXAsdGhpcy5wYXJhbXMubWFpbildLHRoaXMuZGVmYXVsdFByb2plY3Rpb249dGhpcy5oaXN0b3J5WzBdLm1hcERhdGEucHJvamVjdGlvbi50eXBlLHRoaXMubWFwc0xvYWRlZD17fSx0aGlzLnBhcmFtcy5jb250YWluZXIuY3NzKHtwb3NpdGlvbjpcInJlbGF0aXZlXCJ9KSx0aGlzLmJhY2tCdXR0b249anZtLiQoXCI8ZGl2Lz5cIikuYWRkQ2xhc3MoXCJqdmVjdG9ybWFwLWdvYmFja1wiKS50ZXh0KFwiQmFja1wiKS5hcHBlbmRUbyh0aGlzLnBhcmFtcy5jb250YWluZXIpLHRoaXMuYmFja0J1dHRvbi5oaWRlKCksdGhpcy5iYWNrQnV0dG9uLmNsaWNrKGZ1bmN0aW9uKCl7dGhhdC5nb0JhY2soKX0pLHRoaXMuc3Bpbm5lcj1qdm0uJChcIjxkaXYvPlwiKS5hZGRDbGFzcyhcImp2ZWN0b3JtYXAtc3Bpbm5lclwiKS5hcHBlbmRUbyh0aGlzLnBhcmFtcy5jb250YWluZXIpLHRoaXMuc3Bpbm5lci5oaWRlKCl9LGp2bS5NdWx0aU1hcC5wcm90b3R5cGU9e2FkZE1hcDpmdW5jdGlvbihuYW1lLGNvbmZpZyl7dmFyIGNudD1qdm0uJChcIjxkaXYvPlwiKS5jc3Moe3dpZHRoOlwiMTAwJVwiLGhlaWdodDpcIjEwMCVcIn0pO3JldHVybiB0aGlzLnBhcmFtcy5jb250YWluZXIuYXBwZW5kKGNudCksdGhpcy5tYXBzW25hbWVdPW5ldyBqdm0uTWFwKGp2bS4kLmV4dGVuZChjb25maWcse2NvbnRhaW5lcjpjbnR9KSksdGhpcy5wYXJhbXMubWF4TGV2ZWw+Y29uZmlnLm11bHRpTWFwTGV2ZWwmJnRoaXMubWFwc1tuYW1lXS5jb250YWluZXIub24oXCJyZWdpb25DbGljay5qdmVjdG9ybWFwXCIse3Njb3BlOnRoaXN9LGZ1bmN0aW9uKGUsY29kZSl7dmFyIG11bHRpbWFwPWUuZGF0YS5zY29wZSxtYXBOYW1lPW11bHRpbWFwLnBhcmFtcy5tYXBOYW1lQnlDb2RlKGNvZGUsbXVsdGltYXApO211bHRpbWFwLmRyaWxsRG93blByb21pc2UmJlwicGVuZGluZ1wiPT09bXVsdGltYXAuZHJpbGxEb3duUHJvbWlzZS5zdGF0ZSgpfHxtdWx0aW1hcC5kcmlsbERvd24obWFwTmFtZSxjb2RlKX0pLHRoaXMubWFwc1tuYW1lXX0sZG93bmxvYWRNYXA6ZnVuY3Rpb24oY29kZSl7dmFyIHRoYXQ9dGhpcyxkZWZlcnJlZD1qdm0uJC5EZWZlcnJlZCgpO3JldHVybiB0aGlzLm1hcHNMb2FkZWRbY29kZV0/ZGVmZXJyZWQucmVzb2x2ZSgpOmp2bS4kLmdldCh0aGlzLnBhcmFtcy5tYXBVcmxCeUNvZGUoY29kZSx0aGlzKSkudGhlbihmdW5jdGlvbigpe3RoYXQubWFwc0xvYWRlZFtjb2RlXT0hMCxkZWZlcnJlZC5yZXNvbHZlKCl9LGZ1bmN0aW9uKCl7ZGVmZXJyZWQucmVqZWN0KCl9KSxkZWZlcnJlZH0sZHJpbGxEb3duOmZ1bmN0aW9uKG5hbWUsY29kZSl7dmFyIGN1cnJlbnRNYXA9dGhpcy5oaXN0b3J5W3RoaXMuaGlzdG9yeS5sZW5ndGgtMV0sdGhhdD10aGlzLGZvY3VzUHJvbWlzZT1jdXJyZW50TWFwLnNldEZvY3VzKHtyZWdpb246Y29kZSxhbmltYXRlOiEwfSksZG93bmxvYWRQcm9taXNlPXRoaXMuZG93bmxvYWRNYXAoY29kZSk7Zm9jdXNQcm9taXNlLnRoZW4oZnVuY3Rpb24oKXtcInBlbmRpbmdcIj09PWRvd25sb2FkUHJvbWlzZS5zdGF0ZSgpJiZ0aGF0LnNwaW5uZXIuc2hvdygpfSksZG93bmxvYWRQcm9taXNlLmFsd2F5cyhmdW5jdGlvbigpe3RoYXQuc3Bpbm5lci5oaWRlKCl9KSx0aGlzLmRyaWxsRG93blByb21pc2U9anZtLiQud2hlbihkb3dubG9hZFByb21pc2UsZm9jdXNQcm9taXNlKSx0aGlzLmRyaWxsRG93blByb21pc2UudGhlbihmdW5jdGlvbigpe2N1cnJlbnRNYXAucGFyYW1zLmNvbnRhaW5lci5oaWRlKCksdGhhdC5tYXBzW25hbWVdP3RoYXQubWFwc1tuYW1lXS5wYXJhbXMuY29udGFpbmVyLnNob3coKTp0aGF0LmFkZE1hcChuYW1lLHttYXA6bmFtZSxtdWx0aU1hcExldmVsOmN1cnJlbnRNYXAucGFyYW1zLm11bHRpTWFwTGV2ZWwrMX0pLHRoYXQuaGlzdG9yeS5wdXNoKHRoYXQubWFwc1tuYW1lXSksdGhhdC5iYWNrQnV0dG9uLnNob3coKX0pfSxnb0JhY2s6ZnVuY3Rpb24oKXt2YXIgY3VycmVudE1hcD10aGlzLmhpc3RvcnkucG9wKCkscHJldk1hcD10aGlzLmhpc3RvcnlbdGhpcy5oaXN0b3J5Lmxlbmd0aC0xXSx0aGF0PXRoaXM7Y3VycmVudE1hcC5zZXRGb2N1cyh7c2NhbGU6MSx4Oi41LHk6LjUsYW5pbWF0ZTohMH0pLnRoZW4oZnVuY3Rpb24oKXtjdXJyZW50TWFwLnBhcmFtcy5jb250YWluZXIuaGlkZSgpLHByZXZNYXAucGFyYW1zLmNvbnRhaW5lci5zaG93KCkscHJldk1hcC51cGRhdGVTaXplKCksMT09PXRoYXQuaGlzdG9yeS5sZW5ndGgmJnRoYXQuYmFja0J1dHRvbi5oaWRlKCkscHJldk1hcC5zZXRGb2N1cyh7c2NhbGU6MSx4Oi41LHk6LjUsYW5pbWF0ZTohMH0pfSl9fSxqdm0uTXVsdGlNYXAuZGVmYXVsdFBhcmFtcz17bWFwTmFtZUJ5Q29kZTpmdW5jdGlvbihjb2RlLG11bHRpTWFwKXtyZXR1cm4gY29kZS50b0xvd2VyQ2FzZSgpK1wiX1wiK211bHRpTWFwLmRlZmF1bHRQcm9qZWN0aW9uK1wiX2VuXCJ9LG1hcFVybEJ5Q29kZTpmdW5jdGlvbihjb2RlLG11bHRpTWFwKXtyZXR1cm5cImpxdWVyeS1qdmVjdG9ybWFwLWRhdGEtXCIrY29kZS50b0xvd2VyQ2FzZSgpK1wiLVwiK211bHRpTWFwLmRlZmF1bHRQcm9qZWN0aW9uK1wiLWVuLmpzXCJ9fTsiXSwic291cmNlUm9vdCI6IiJ9